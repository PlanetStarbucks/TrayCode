{
  "tray_export_version": 4,
  "export_type": "project",
  "workflows": [
    {
      "id": "93b58877-77ca-4d2d-96d7-aab9ffd29940",
      "created": "2023-04-12T19:03:22.856876Z",
      "workspace_id": "139e4592-3b78-46ad-885b-bc64d04d3bed",
      "project_id": "e328e1a2-7c42-4337-988f-1b85a156113f",
      "group": "65d41aba-a235-49c1-886d-3d0f95c4c043",
      "creator": "c0fb1638-958b-4aa0-a664-c3effbe736a5",
      "version": {
        "id": "246fb6d4-22dd-4e51-a5c4-a8728e53e648",
        "created": "2023-10-10T22:21:33.193480Z"
      },
      "title": "[Getty - Webdam] Webdam Uploader",
      "enabled": true,
      "tags": [],
      "settings": {
        "config": {
          "dateFrom": "2022-11-30",
          "orgDownloads": "false",
          "syncVideo": false,
          "metadataMap": [],
          "staticMapInput": [],
          "dataMapInput": {},
          "uploadFolder": 0,
          "uploadDelay": 10,
          "uploadLimiter": 12,
          "chunkSize": 67108864,
          "chunkLength": 10
        },
        "alerting_workflow_id": "a00c6f01-0770-4297-a0bf-594c9217587e",
        "input_schema": {},
        "output_schema": {}
      },
      "steps_structure": [
        {
          "name": "trigger",
          "type": "normal",
          "content": {}
        },
        {
          "name": "file-helpers-1",
          "type": "normal",
          "content": {}
        },
        {
          "name": "http-client-2",
          "type": "normal",
          "content": {}
        },
        {
          "name": "file-helpers-2",
          "type": "normal",
          "content": {}
        },
        {
          "name": "boolean-condition-3",
          "type": "branch",
          "content": {
            "true": [
              {
                "name": "webdam-7",
                "type": "normal",
                "content": {}
              },
              {
                "name": "http-client-1",
                "type": "normal",
                "content": {}
              },
              {
                "name": "webdam-8",
                "type": "normal",
                "content": {}
              },
              {
                "name": "loop-4",
                "type": "loop",
                "content": {
                  "_loop": [
                    {
                      "name": "math-helpers-2",
                      "type": "normal",
                      "content": {}
                    },
                    {
                      "name": "delay-2",
                      "type": "normal",
                      "content": {}
                    },
                    {
                      "name": "webdam-9",
                      "type": "branch",
                      "content": {
                        "error": [
                          {
                            "name": "boolean-condition-4",
                            "type": "branch",
                            "content": {
                              "true": [],
                              "false": [
                                {
                                  "name": "storage-3",
                                  "type": "normal",
                                  "content": {}
                                },
                                {
                                  "name": "storage-12",
                                  "type": "normal",
                                  "content": {}
                                },
                                {
                                  "name": "terminate-3",
                                  "type": "normal",
                                  "content": {}
                                }
                              ]
                            }
                          }
                        ],
                        "success": [
                          {
                            "name": "break-loop-3",
                            "type": "break",
                            "content": {},
                            "target": "loop-4"
                          }
                        ]
                      }
                    }
                  ]
                }
              }
            ],
            "false": [
              {
                "name": "file-helpers-3",
                "type": "normal",
                "content": {}
              },
              {
                "name": "script-1",
                "type": "normal",
                "content": {}
              },
              {
                "name": "storage-6",
                "type": "normal",
                "content": {}
              },
              {
                "name": "webdam-1",
                "type": "normal",
                "content": {}
              },
              {
                "name": "loop-1",
                "type": "loop",
                "content": {
                  "_loop": [
                    {
                      "name": "storage-5",
                      "type": "normal",
                      "content": {}
                    },
                    {
                      "name": "webdam-2",
                      "type": "normal",
                      "content": {}
                    },
                    {
                      "name": "json-transformer-1",
                      "type": "normal",
                      "content": {}
                    },
                    {
                      "name": "script-2",
                      "type": "normal",
                      "content": {}
                    },
                    {
                      "name": "loop-2",
                      "type": "loop",
                      "content": {
                        "_loop": [
                          {
                            "name": "file-helpers-4",
                            "type": "normal",
                            "content": {}
                          },
                          {
                            "name": "object-helpers-1",
                            "type": "normal",
                            "content": {}
                          },
                          {
                            "name": "storage-7",
                            "type": "normal",
                            "content": {}
                          },
                          {
                            "name": "storage-8",
                            "type": "normal",
                            "content": {}
                          }
                        ]
                      }
                    },
                    {
                      "name": "storage-9",
                      "type": "normal",
                      "content": {}
                    },
                    {
                      "name": "json-transformer-2",
                      "type": "normal",
                      "content": {}
                    },
                    {
                      "name": "webdam-4",
                      "type": "normal",
                      "content": {}
                    }
                  ]
                }
              },
              {
                "name": "storage-10",
                "type": "normal",
                "content": {}
              },
              {
                "name": "webdam-5",
                "type": "normal",
                "content": {}
              },
              {
                "name": "loop-3",
                "type": "loop",
                "content": {
                  "_loop": [
                    {
                      "name": "math-helpers-1",
                      "type": "normal",
                      "content": {}
                    },
                    {
                      "name": "delay-1",
                      "type": "normal",
                      "content": {}
                    },
                    {
                      "name": "webdam-6",
                      "type": "branch",
                      "content": {
                        "error": [
                          {
                            "name": "storage-11",
                            "type": "normal",
                            "content": {}
                          },
                          {
                            "name": "storage-2",
                            "type": "normal",
                            "content": {}
                          },
                          {
                            "name": "terminate-2",
                            "type": "normal",
                            "content": {}
                          }
                        ],
                        "success": [
                          {
                            "name": "boolean-condition-2",
                            "type": "branch",
                            "content": {
                              "true": [
                                {
                                  "name": "webdam-3",
                                  "type": "normal",
                                  "content": {}
                                },
                                {
                                  "name": "break-loop-1",
                                  "type": "break",
                                  "content": {},
                                  "target": "loop-3"
                                }
                              ],
                              "false": [
                                {
                                  "name": "boolean-condition-1",
                                  "type": "branch",
                                  "content": {
                                    "true": [
                                      {
                                        "name": "break-loop-2",
                                        "type": "break",
                                        "content": {},
                                        "target": "loop-3"
                                      }
                                    ],
                                    "false": []
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              }
            ]
          }
        },
        {
          "name": "storage-4",
          "type": "normal",
          "content": {}
        },
        {
          "name": "storage-1",
          "type": "normal",
          "content": {}
        }
      ],
      "steps": {
        "script-1": {
          "title": "Create fileInfo",
          "connector": {
            "name": "script",
            "version": "3.3"
          },
          "operation": "execute",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "variables": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "name": {
                      "type": "string",
                      "value": "contents"
                    },
                    "value": {
                      "type": "object",
                      "value": {
                        "fileSize": {
                          "type": "string",
                          "value": "{$.steps.file-helpers-2.size}"
                        },
                        "folderId": {
                          "type": "jsonpath",
                          "value": "$.steps.trigger.solutionData.uploadFolder"
                        },
                        "fileName": {
                          "type": "string",
                          "value": "Getty {$.steps.trigger.assetData.id}.{$.steps.http-client-2.response.body.extension}"
                        },
                        "contentType": {
                          "type": "jsonpath",
                          "value": "$.steps.file-helpers-1.file.mime_type"
                        },
                        "intent": {
                          "type": "object",
                          "value": {
                            "action": {
                              "type": "string",
                              "value": "new"
                            }
                          }
                        }
                      }
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "name": {
                      "type": "string",
                      "value": "size"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.file-helpers-2.size"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "name": {
                      "type": "string",
                      "value": "chunkSize"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.config.chunkSize"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "name": {
                      "type": "string",
                      "value": "chunkLength"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.config.chunkLength"
                    }
                  }
                }
              ]
            },
            "script": {
              "type": "string",
              "value": "// You can reference the input variables using input.NAME\n// Parsed JSON files could be referenced as fileInput\nexports.step = function (input) {\n\tconst parts = [];\n\tconst res = [];\n\tfor (let i = 0; i < Math.floor(input.size / input.chunkSize); i++) {\n\t\tparts.push({\n\t\t\tseqId: `${i + 1}`,\n\t\t\tpartSize: `${input.chunkSize}`,\n\t\t});\n\t}\n\tparts.push({\n\t\tseqId: `${Math.floor(input.size / input.chunkSize + 1)}`,\n\t\tpartSize: `${input.size % input.chunkSize}`,\n\t});\n\n\tconst chunks = chunkyFunky(parts, input.chunkLength);\n\tchunks.forEach((element) => {\n\t\tconst partsObj = { parts: element };\n\t\tres.push({\n\t\t\t...input.contents,\n\t\t\t...partsObj,\n\t\t});\n\t});\n\n\treturn {\n\t\tchunks: res,\n\t\tcontents: input.contents,\n\t};\n};\n\nconst chunkyFunky = function (ary, chunkLength) {\n\tconst res = [];\n\tfor (let i = 0; i < ary.length; i += chunkLength) {\n\t\tres.push(ary.slice(i, i + chunkLength));\n\t}\n\treturn res;\n};"
            },
            "file_output": {
              "type": "boolean",
              "value": false
            }
          }
        },
        "storage-12": {
          "title": "Store assetID in syncList",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "append_to_list",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Account"
            },
            "key": {
              "type": "string",
              "value": "gettyWebdamSyncFile-{$.env.solution_instance_id or:'Getty'}"
            },
            "value": {
              "type": "jsonpath",
              "value": "$.steps.trigger.assetData.id"
            }
          }
        },
        "boolean-condition-1": {
          "title": "Boolean Condition",
          "connector": {
            "name": "boolean-condition",
            "version": "2.3"
          },
          "operation": "boolean_condition",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "conditions": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "value1": {
                      "type": "jsonpath",
                      "value": "$.steps.loop-3.index"
                    },
                    "comparison_type": {
                      "type": "string",
                      "value": ">="
                    },
                    "value2": {
                      "type": "number",
                      "value": 24
                    }
                  }
                }
              ]
            },
            "strictness": {
              "type": "string",
              "value": "All"
            }
          }
        },
        "math-helpers-2": {
          "title": "Linear Delay Function",
          "connector": {
            "name": "math-helpers",
            "version": "2.0"
          },
          "operation": "run_expression",
          "output_schema": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "type": "object",
            "properties": {
              "result": {
                "type": "number"
              }
            }
          },
          "error_handling": {},
          "properties": {
            "expression": {
              "type": "string",
              "value": "({$.steps.loop-4.index}+1)*3"
            }
          }
        },
        "terminate-2": {
          "title": "Terminate",
          "connector": {
            "name": "terminate",
            "version": "1.1"
          },
          "operation": "fail_run",
          "output_schema": {},
          "error_handling": {},
          "properties": {}
        },
        "file-helpers-2": {
          "title": "Get File Size",
          "connector": {
            "name": "file-helpers",
            "version": "2.5"
          },
          "operation": "get_file_size",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "file": {
              "type": "jsonpath",
              "value": "$.steps.file-helpers-1.file"
            }
          }
        },
        "loop-2": {
          "title": "Loop Parts",
          "connector": {
            "name": "loop",
            "version": "1.3"
          },
          "operation": "loop_array",
          "output_schema": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "type": "object",
            "properties": {
              "value": {
                "type": "object",
                "properties": {
                  "startByte": {
                    "type": "number"
                  },
                  "endByte": {
                    "type": "number"
                  },
                  "seqId": {
                    "type": "string"
                  },
                  "partSize": {
                    "type": "string"
                  },
                  "uploadUrl": {
                    "type": "string"
                  },
                  "expires": {
                    "type": "number"
                  },
                  "status": {
                    "type": "string"
                  }
                },
                "required": [
                  "startByte",
                  "endByte",
                  "seqId",
                  "partSize",
                  "uploadUrl",
                  "expires",
                  "status"
                ]
              },
              "count": {
                "type": "number"
              },
              "index": {
                "type": "number"
              },
              "is_first": {
                "type": "boolean"
              },
              "is_last": {
                "type": "boolean"
              },
              "branch_name": {
                "type": "string"
              }
            }
          },
          "error_handling": {},
          "properties": {
            "array": {
              "type": "jsonpath",
              "value": "$.steps.script-2.result"
            }
          }
        },
        "storage-1": {
          "title": "Store assetID in syncList",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "append_to_list",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Account"
            },
            "key": {
              "type": "string",
              "value": "gettyWebdamSyncFile-{$.env.solution_instance_id or:'Getty'}"
            },
            "value": {
              "type": "jsonpath",
              "value": "$.steps.trigger.assetData.id"
            }
          }
        },
        "webdam-6": {
          "title": "Check Upload Status",
          "connector": {
            "name": "webdam",
            "version": "1.2"
          },
          "operation": "raw_http_request",
          "output_schema": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "type": "object",
            "properties": {
              "response": {
                "type": "object",
                "properties": {
                  "status_code": {
                    "type": "number"
                  },
                  "headers": {
                    "type": "object",
                    "properties": {
                      "date": {
                        "type": "string"
                      },
                      "server": {
                        "type": "string"
                      },
                      "strict-transport-security": {
                        "type": "string"
                      },
                      "access-control-allow-origin": {
                        "type": "string"
                      },
                      "access-control-allow-headers": {
                        "type": "string"
                      },
                      "access-control-allow-methods": {
                        "type": "string"
                      },
                      "set-cookie": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "expires": {
                        "type": "string"
                      },
                      "cache-control": {
                        "type": "string"
                      },
                      "pragma": {
                        "type": "string"
                      },
                      "x-content-type-options": {
                        "type": "string"
                      },
                      "wd-logged-in": {
                        "type": "string"
                      },
                      "content-length": {
                        "type": "string"
                      },
                      "connection": {
                        "type": "string"
                      },
                      "content-type": {
                        "type": "string"
                      }
                    }
                  },
                  "body": {
                    "type": "object",
                    "properties": {
                      "uploadId": {
                        "type": "string"
                      },
                      "assetId": {
                        "type": "string"
                      },
                      "status": {
                        "type": "string"
                      },
                      "createdAt": {
                        "type": "string"
                      },
                      "fileName": {
                        "type": "string"
                      },
                      "fileSize": {
                        "type": "string"
                      },
                      "contentType": {
                        "type": "string"
                      },
                      "folderId": {
                        "type": "string"
                      },
                      "intent": {
                        "type": "object",
                        "properties": {
                          "action": {
                            "type": "string"
                          }
                        }
                      },
                      "affiliateId": {
                        "type": "string"
                      },
                      "parts": {
                        "type": "object",
                        "properties": {
                          "1": {
                            "type": "object",
                            "properties": {
                              "seqId": {
                                "type": "string"
                              },
                              "partSize": {
                                "type": "string"
                              },
                              "uploadUrl": {
                                "type": "string"
                              },
                              "expires": {
                                "type": "string"
                              },
                              "etag": {
                                "type": "string"
                              },
                              "status": {
                                "type": "string"
                              }
                            }
                          },
                          "2": {
                            "type": "object",
                            "properties": {
                              "seqId": {
                                "type": "string"
                              },
                              "partSize": {
                                "type": "string"
                              },
                              "uploadUrl": {
                                "type": "string"
                              },
                              "expires": {
                                "type": "string"
                              },
                              "etag": {
                                "type": "string"
                              },
                              "status": {
                                "type": "string"
                              }
                            }
                          },
                          "3": {
                            "type": "object",
                            "properties": {
                              "seqId": {
                                "type": "string"
                              },
                              "partSize": {
                                "type": "string"
                              },
                              "uploadUrl": {
                                "type": "string"
                              },
                              "expires": {
                                "type": "string"
                              },
                              "etag": {
                                "type": "string"
                              },
                              "status": {
                                "type": "string"
                              }
                            }
                          },
                          "4": {
                            "type": "object",
                            "properties": {
                              "seqId": {
                                "type": "string"
                              },
                              "partSize": {
                                "type": "string"
                              },
                              "uploadUrl": {
                                "type": "string"
                              },
                              "expires": {
                                "type": "string"
                              },
                              "etag": {
                                "type": "string"
                              },
                              "status": {
                                "type": "string"
                              }
                            }
                          },
                          "5": {
                            "type": "object",
                            "properties": {
                              "seqId": {
                                "type": "string"
                              },
                              "partSize": {
                                "type": "string"
                              },
                              "uploadUrl": {
                                "type": "string"
                              },
                              "expires": {
                                "type": "string"
                              },
                              "etag": {
                                "type": "string"
                              },
                              "status": {
                                "type": "string"
                              }
                            }
                          },
                          "6": {
                            "type": "object",
                            "properties": {
                              "seqId": {
                                "type": "string"
                              },
                              "partSize": {
                                "type": "string"
                              },
                              "uploadUrl": {
                                "type": "string"
                              },
                              "expires": {
                                "type": "string"
                              },
                              "etag": {
                                "type": "string"
                              },
                              "status": {
                                "type": "string"
                              }
                            }
                          },
                          "7": {
                            "type": "object",
                            "properties": {
                              "seqId": {
                                "type": "string"
                              },
                              "partSize": {
                                "type": "string"
                              },
                              "uploadUrl": {
                                "type": "string"
                              },
                              "expires": {
                                "type": "string"
                              },
                              "etag": {
                                "type": "string"
                              },
                              "status": {
                                "type": "string"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "error_handling": {
            "strategy": "manual"
          },
          "authentication": {
            "group": "84d563f1-ec10-441a-a077-3571c2e2af0e",
            "title": "Keiffer Tray Webdam Account",
            "service_icon": {
              "icon_type": "url",
              "value": "//s3.amazonaws.com/images.tray.io/artisan/icons/294becd8-01cd-4c89-8642-63c5fc50ba2d.png"
            },
            "scopes": [],
            "service_name": "webdam",
            "service_version": 1
          },
          "properties": {
            "method": {
              "type": "string",
              "value": "GET"
            },
            "include_raw_body": {
              "type": "boolean",
              "value": false
            },
            "parse_response": {
              "type": "string",
              "value": "true"
            },
            "url": {
              "type": "object",
              "value": {
                "full_url": {
                  "type": "string",
                  "value": "https://apiv2.webdamdb.com/awss3/multipartupload/{$.steps.webdam-1.response.body.uploadId}"
                }
              }
            },
            "headers": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "Authorization"
                    },
                    "value": {
                      "type": "string",
                      "value": "Bearer {$.auth.access_token}"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "content-type"
                    },
                    "value": {
                      "type": "string",
                      "value": "application/json"
                    }
                  }
                }
              ]
            },
            "body": {
              "type": "object",
              "value": {
                "none": {
                  "type": "null",
                  "value": null
                }
              }
            }
          }
        },
        "loop-3": {
          "title": "Loop Until Processed",
          "connector": {
            "name": "loop",
            "version": "1.3"
          },
          "operation": "loop_forever",
          "output_schema": {
            "type": "object",
            "$schema": "http://json-schema.org/draft-03/schema",
            "id": "http://jsonschema.net",
            "properties": {
              "index": {
                "type": "number",
                "id": "http://jsonschema.net/index"
              }
            }
          },
          "error_handling": {},
          "properties": {}
        },
        "storage-2": {
          "title": "Dec uploadCount",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "atomic_increment",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Account"
            },
            "key": {
              "type": "string",
              "value": "gettyUploadCount-{$.env.solution_instance_id or:'testGetty'}"
            },
            "value_to_add": {
              "type": "integer",
              "value": -1
            }
          }
        },
        "delay-2": {
          "title": "Delay",
          "connector": {
            "name": "delay",
            "version": "1.0"
          },
          "operation": "delay",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "time_unit": {
              "type": "string",
              "value": "seconds"
            },
            "delay_value": {
              "type": "jsonpath",
              "value": "$.steps.math-helpers-2.result"
            }
          }
        },
        "storage-5": {
          "title": "Create completeParts",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "set",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Current Run"
            },
            "key": {
              "type": "string",
              "value": "completeParts"
            },
            "value": {
              "type": "array",
              "value": []
            }
          }
        },
        "storage-9": {
          "title": "Get completeParts",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "get",
          "output_schema": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "type": "object",
            "properties": {
              "value": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "expires": {
                      "type": "number"
                    },
                    "uploadUrl": {
                      "type": "string"
                    },
                    "partSize": {
                      "type": "string"
                    },
                    "startByte": {
                      "type": "number"
                    },
                    "endByte": {
                      "type": "number"
                    },
                    "etag": {
                      "type": "string"
                    },
                    "seqId": {
                      "type": "string"
                    },
                    "status": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "expires",
                    "uploadUrl",
                    "partSize",
                    "startByte",
                    "endByte",
                    "etag",
                    "seqId",
                    "status"
                  ]
                }
              }
            }
          },
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Current Run"
            },
            "key": {
              "type": "string",
              "value": "completeParts"
            },
            "default_value": {
              "type": "null",
              "value": null
            }
          }
        },
        "webdam-5": {
          "title": "Complete Upload",
          "connector": {
            "name": "webdam",
            "version": "1.2"
          },
          "operation": "raw_http_request",
          "output_schema": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "type": "object",
            "properties": {
              "response": {
                "type": "object",
                "properties": {
                  "status_code": {
                    "type": "number"
                  },
                  "headers": {
                    "type": "object",
                    "properties": {
                      "date": {
                        "type": "string"
                      },
                      "server": {
                        "type": "string"
                      },
                      "strict-transport-security": {
                        "type": "string"
                      },
                      "access-control-allow-origin": {
                        "type": "string"
                      },
                      "access-control-allow-headers": {
                        "type": "string"
                      },
                      "access-control-allow-methods": {
                        "type": "string"
                      },
                      "set-cookie": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "expires": {
                        "type": "string"
                      },
                      "cache-control": {
                        "type": "string"
                      },
                      "pragma": {
                        "type": "string"
                      },
                      "x-content-type-options": {
                        "type": "string"
                      },
                      "wd-logged-in": {
                        "type": "string"
                      },
                      "content-length": {
                        "type": "string"
                      },
                      "connection": {
                        "type": "string"
                      },
                      "content-type": {
                        "type": "string"
                      }
                    }
                  },
                  "body": {
                    "type": "object",
                    "properties": {
                      "uploadId": {
                        "type": "string"
                      },
                      "status": {
                        "type": "string"
                      },
                      "createdAt": {
                        "type": "string"
                      },
                      "fileName": {
                        "type": "string"
                      },
                      "fileSize": {
                        "type": "string"
                      },
                      "contentType": {
                        "type": "string"
                      },
                      "folderId": {
                        "type": "string"
                      },
                      "intent": {
                        "type": "object",
                        "properties": {
                          "action": {
                            "type": "string"
                          }
                        }
                      },
                      "affiliateId": {
                        "type": "string"
                      },
                      "parts": {
                        "type": "object",
                        "properties": {
                          "1": {
                            "type": "object",
                            "properties": {
                              "seqId": {
                                "type": "string"
                              },
                              "partSize": {
                                "type": "string"
                              },
                              "uploadUrl": {
                                "type": "string"
                              },
                              "expires": {
                                "type": "string"
                              },
                              "etag": {
                                "type": "string"
                              },
                              "status": {
                                "type": "string"
                              }
                            }
                          },
                          "2": {
                            "type": "object",
                            "properties": {
                              "seqId": {
                                "type": "string"
                              },
                              "partSize": {
                                "type": "string"
                              },
                              "uploadUrl": {
                                "type": "string"
                              },
                              "expires": {
                                "type": "string"
                              },
                              "etag": {
                                "type": "string"
                              },
                              "status": {
                                "type": "string"
                              }
                            }
                          },
                          "3": {
                            "type": "object",
                            "properties": {
                              "seqId": {
                                "type": "string"
                              },
                              "partSize": {
                                "type": "string"
                              },
                              "uploadUrl": {
                                "type": "string"
                              },
                              "expires": {
                                "type": "string"
                              },
                              "etag": {
                                "type": "string"
                              },
                              "status": {
                                "type": "string"
                              }
                            }
                          },
                          "4": {
                            "type": "object",
                            "properties": {
                              "seqId": {
                                "type": "string"
                              },
                              "partSize": {
                                "type": "string"
                              },
                              "uploadUrl": {
                                "type": "string"
                              },
                              "expires": {
                                "type": "string"
                              },
                              "etag": {
                                "type": "string"
                              },
                              "status": {
                                "type": "string"
                              }
                            }
                          },
                          "5": {
                            "type": "object",
                            "properties": {
                              "seqId": {
                                "type": "string"
                              },
                              "partSize": {
                                "type": "string"
                              },
                              "uploadUrl": {
                                "type": "string"
                              },
                              "expires": {
                                "type": "string"
                              },
                              "etag": {
                                "type": "string"
                              },
                              "status": {
                                "type": "string"
                              }
                            }
                          },
                          "6": {
                            "type": "object",
                            "properties": {
                              "seqId": {
                                "type": "string"
                              },
                              "partSize": {
                                "type": "string"
                              },
                              "uploadUrl": {
                                "type": "string"
                              },
                              "expires": {
                                "type": "string"
                              },
                              "etag": {
                                "type": "string"
                              },
                              "status": {
                                "type": "string"
                              }
                            }
                          },
                          "7": {
                            "type": "object",
                            "properties": {
                              "seqId": {
                                "type": "string"
                              },
                              "partSize": {
                                "type": "string"
                              },
                              "uploadUrl": {
                                "type": "string"
                              },
                              "expires": {
                                "type": "string"
                              },
                              "etag": {
                                "type": "string"
                              },
                              "status": {
                                "type": "string"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "error_handling": {},
          "authentication": {
            "group": "84d563f1-ec10-441a-a077-3571c2e2af0e",
            "title": "Keiffer Tray Webdam Account",
            "service_icon": {
              "icon_type": "url",
              "value": "//s3.amazonaws.com/images.tray.io/artisan/icons/294becd8-01cd-4c89-8642-63c5fc50ba2d.png"
            },
            "scopes": [],
            "service_name": "webdam",
            "service_version": 1
          },
          "properties": {
            "method": {
              "type": "string",
              "value": "PATCH"
            },
            "include_raw_body": {
              "type": "boolean",
              "value": false
            },
            "parse_response": {
              "type": "string",
              "value": "true"
            },
            "url": {
              "type": "object",
              "value": {
                "full_url": {
                  "type": "string",
                  "value": "https://apiv2.webdamdb.com/awss3/multipartupload/{$.steps.webdam-1.response.body.uploadId}"
                }
              }
            },
            "headers": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "Authorization"
                    },
                    "value": {
                      "type": "string",
                      "value": "Bearer {$.auth.access_token}"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "content-type"
                    },
                    "value": {
                      "type": "string",
                      "value": "application/json"
                    }
                  }
                }
              ]
            },
            "body": {
              "type": "object",
              "value": {
                "raw": {
                  "type": "object",
                  "value": {
                    "completeUpload": {
                      "type": "string",
                      "value": "true"
                    },
                    "completeParts": {
                      "type": "jsonpath",
                      "value": "$.steps.storage-10.value"
                    }
                  }
                }
              }
            }
          }
        },
        "boolean-condition-2": {
          "title": "Boolean Condition",
          "connector": {
            "name": "boolean-condition",
            "version": "2.3"
          },
          "operation": "boolean_condition",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "conditions": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "value1": {
                      "type": "jsonpath",
                      "value": "$.steps.webdam-6.response.body.status"
                    },
                    "comparison_type": {
                      "type": "string",
                      "value": "==="
                    },
                    "value2": {
                      "type": "string",
                      "value": "completed"
                    }
                  }
                }
              ]
            },
            "strictness": {
              "type": "string",
              "value": "Any"
            }
          }
        },
        "file-helpers-4": {
          "title": "Upload Part",
          "connector": {
            "name": "file-helpers",
            "version": "2.6"
          },
          "operation": "upload_file_chunk",
          "output_schema": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "type": "object",
            "properties": {
              "success": {
                "type": "boolean"
              },
              "body": {
                "type": "object",
                "properties": {
                  "type": {
                    "type": "string"
                  },
                  "data": {
                    "type": "array",
                    "items": {}
                  }
                }
              },
              "headers": {
                "type": "object",
                "properties": {
                  "x-amz-id-2": {
                    "type": "string"
                  },
                  "x-amz-request-id": {
                    "type": "string"
                  },
                  "date": {
                    "type": "string"
                  },
                  "etag": {
                    "type": "string"
                  },
                  "x-amz-server-side-encryption": {
                    "type": "string"
                  },
                  "server": {
                    "type": "string"
                  },
                  "content-length": {
                    "type": "string"
                  },
                  "connection": {
                    "type": "string"
                  }
                }
              },
              "status_code": {
                "type": "number"
              }
            }
          },
          "error_handling": {},
          "properties": {
            "file": {
              "type": "jsonpath",
              "value": "$.steps.file-helpers-1.file"
            },
            "url": {
              "type": "jsonpath",
              "value": "$.steps.loop-2.value.uploadUrl"
            },
            "method": {
              "type": "string",
              "value": "put"
            },
            "start_byte": {
              "type": "jsonpath",
              "value": "$.steps.loop-2.value.startByte"
            },
            "end_byte": {
              "type": "jsonpath",
              "value": "$.steps.loop-2.value.endByte"
            }
          }
        },
        "webdam-4": {
          "title": "Complete Chunk",
          "connector": {
            "name": "webdam",
            "version": "1.2"
          },
          "operation": "raw_http_request",
          "output_schema": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "type": "object",
            "properties": {
              "response": {
                "type": "object",
                "properties": {
                  "status_code": {
                    "type": "number"
                  },
                  "headers": {
                    "type": "object",
                    "properties": {
                      "date": {
                        "type": "string"
                      },
                      "server": {
                        "type": "string"
                      },
                      "strict-transport-security": {
                        "type": "string"
                      },
                      "access-control-allow-origin": {
                        "type": "string"
                      },
                      "access-control-allow-headers": {
                        "type": "string"
                      },
                      "access-control-allow-methods": {
                        "type": "string"
                      },
                      "set-cookie": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "expires": {
                        "type": "string"
                      },
                      "cache-control": {
                        "type": "string"
                      },
                      "pragma": {
                        "type": "string"
                      },
                      "x-content-type-options": {
                        "type": "string"
                      },
                      "wd-logged-in": {
                        "type": "string"
                      },
                      "content-length": {
                        "type": "string"
                      },
                      "connection": {
                        "type": "string"
                      },
                      "content-type": {
                        "type": "string"
                      }
                    }
                  },
                  "body": {
                    "type": "object",
                    "properties": {
                      "uploadId": {
                        "type": "string"
                      },
                      "status": {
                        "type": "string"
                      },
                      "createdAt": {
                        "type": "string"
                      },
                      "fileName": {
                        "type": "string"
                      },
                      "fileSize": {
                        "type": "string"
                      },
                      "contentType": {
                        "type": "string"
                      },
                      "folderId": {
                        "type": "string"
                      },
                      "intent": {
                        "type": "object",
                        "properties": {
                          "action": {
                            "type": "string"
                          }
                        }
                      },
                      "affiliateId": {
                        "type": "string"
                      },
                      "parts": {
                        "type": "object",
                        "properties": {
                          "1": {
                            "type": "object",
                            "properties": {
                              "seqId": {
                                "type": "string"
                              },
                              "partSize": {
                                "type": "string"
                              },
                              "uploadUrl": {
                                "type": "string"
                              },
                              "expires": {
                                "type": "string"
                              },
                              "etag": {
                                "type": "string"
                              },
                              "status": {
                                "type": "string"
                              }
                            }
                          },
                          "2": {
                            "type": "object",
                            "properties": {
                              "seqId": {
                                "type": "string"
                              },
                              "partSize": {
                                "type": "string"
                              },
                              "uploadUrl": {
                                "type": "string"
                              },
                              "expires": {
                                "type": "string"
                              },
                              "etag": {
                                "type": "string"
                              },
                              "status": {
                                "type": "string"
                              }
                            }
                          },
                          "3": {
                            "type": "object",
                            "properties": {
                              "seqId": {
                                "type": "string"
                              },
                              "partSize": {
                                "type": "string"
                              },
                              "uploadUrl": {
                                "type": "string"
                              },
                              "expires": {
                                "type": "string"
                              },
                              "etag": {
                                "type": "string"
                              },
                              "status": {
                                "type": "string"
                              }
                            }
                          },
                          "4": {
                            "type": "object",
                            "properties": {
                              "seqId": {
                                "type": "string"
                              },
                              "partSize": {
                                "type": "string"
                              },
                              "uploadUrl": {
                                "type": "string"
                              },
                              "expires": {
                                "type": "string"
                              },
                              "etag": {
                                "type": "string"
                              },
                              "status": {
                                "type": "string"
                              }
                            }
                          },
                          "5": {
                            "type": "object",
                            "properties": {
                              "seqId": {
                                "type": "string"
                              },
                              "partSize": {
                                "type": "string"
                              },
                              "uploadUrl": {
                                "type": "string"
                              },
                              "expires": {
                                "type": "string"
                              },
                              "etag": {
                                "type": "string"
                              },
                              "status": {
                                "type": "string"
                              }
                            }
                          },
                          "6": {
                            "type": "object",
                            "properties": {
                              "seqId": {
                                "type": "string"
                              },
                              "partSize": {
                                "type": "string"
                              },
                              "uploadUrl": {
                                "type": "string"
                              },
                              "expires": {
                                "type": "string"
                              },
                              "etag": {
                                "type": "string"
                              },
                              "status": {
                                "type": "string"
                              }
                            }
                          },
                          "7": {
                            "type": "object",
                            "properties": {
                              "seqId": {
                                "type": "string"
                              },
                              "partSize": {
                                "type": "string"
                              },
                              "uploadUrl": {
                                "type": "string"
                              },
                              "expires": {
                                "type": "string"
                              },
                              "etag": {
                                "type": "string"
                              },
                              "status": {
                                "type": "string"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "error_handling": {},
          "authentication": {
            "group": "84d563f1-ec10-441a-a077-3571c2e2af0e",
            "title": "Keiffer Tray Webdam Account",
            "service_icon": {
              "icon_type": "url",
              "value": "//s3.amazonaws.com/images.tray.io/artisan/icons/294becd8-01cd-4c89-8642-63c5fc50ba2d.png"
            },
            "scopes": [],
            "service_name": "webdam",
            "service_version": 1
          },
          "properties": {
            "method": {
              "type": "string",
              "value": "PATCH"
            },
            "include_raw_body": {
              "type": "boolean",
              "value": false
            },
            "parse_response": {
              "type": "string",
              "value": "true"
            },
            "url": {
              "type": "object",
              "value": {
                "full_url": {
                  "type": "string",
                  "value": "https://apiv2.webdamdb.com/awss3/multipartupload/{$.steps.webdam-1.response.body.uploadId}"
                }
              }
            },
            "headers": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "Authorization"
                    },
                    "value": {
                      "type": "string",
                      "value": "Bearer {$.auth.access_token}"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "content-type"
                    },
                    "value": {
                      "type": "string",
                      "value": "application/json"
                    }
                  }
                }
              ]
            },
            "body": {
              "type": "object",
              "value": {
                "raw": {
                  "type": "jsonpath",
                  "value": "$.steps.json-transformer-2.result"
                }
              }
            }
          }
        },
        "json-transformer-2": {
          "title": "JSON Transformer",
          "connector": {
            "name": "json-transformer",
            "version": "1.0"
          },
          "operation": "transform",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "query": {
              "type": "string",
              "value": "{\n    \"completeParts\": [value.{\n        \"seqId\": seqId,\n        \"etag\": $replace(etag, \"\\\"\", \"\")\n    }]\n}"
            },
            "data": {
              "type": "object",
              "value": {
                "value": {
                  "type": "jsonpath",
                  "value": "$.steps.storage-9.value"
                }
              }
            }
          }
        },
        "webdam-8": {
          "title": "Complete Upload",
          "connector": {
            "name": "webdam",
            "version": "1.2"
          },
          "operation": "raw_http_request",
          "output_schema": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "type": "object",
            "properties": {
              "response": {
                "type": "object",
                "properties": {
                  "status_code": {
                    "type": "number"
                  },
                  "headers": {
                    "type": "object",
                    "properties": {
                      "date": {
                        "type": "string"
                      },
                      "server": {
                        "type": "string"
                      },
                      "x-frame-options": {
                        "type": "string"
                      },
                      "set-cookie": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "expires": {
                        "type": "string"
                      },
                      "cache-control": {
                        "type": "string"
                      },
                      "pragma": {
                        "type": "string"
                      },
                      "x-content-type-options": {
                        "type": "string"
                      },
                      "wd-logged-in": {
                        "type": "string"
                      },
                      "access-control-allow-origin": {
                        "type": "string"
                      },
                      "content-length": {
                        "type": "string"
                      },
                      "connection": {
                        "type": "string"
                      },
                      "content-type": {
                        "type": "string"
                      }
                    }
                  },
                  "body": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          },
          "error_handling": {},
          "authentication": {
            "group": "84d563f1-ec10-441a-a077-3571c2e2af0e",
            "title": "Keiffer Tray Webdam Account",
            "service_icon": {
              "icon_type": "url",
              "value": "//s3.amazonaws.com/images.tray.io/artisan/icons/294becd8-01cd-4c89-8642-63c5fc50ba2d.png"
            },
            "scopes": [],
            "service_name": "webdam",
            "service_version": 1
          },
          "properties": {
            "method": {
              "type": "string",
              "value": "PUT"
            },
            "include_raw_body": {
              "type": "boolean",
              "value": false
            },
            "parse_response": {
              "type": "string",
              "value": "true"
            },
            "url": {
              "type": "object",
              "value": {
                "full_url": {
                  "type": "string",
                  "value": "http://apiv2.webdamdb.com/ws/awss3/finishupload/{$.steps.webdam-7.response.body.processId}"
                }
              }
            },
            "headers": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "Authorization"
                    },
                    "value": {
                      "type": "string",
                      "value": "Bearer {$.auth.access_token}"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "content-type"
                    },
                    "value": {
                      "type": "string",
                      "value": "application/json"
                    }
                  }
                }
              ]
            },
            "body": {
              "type": "object",
              "value": {
                "none": {
                  "type": "null",
                  "value": null
                }
              }
            }
          }
        },
        "storage-3": {
          "title": "Dec uploadCount",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "atomic_increment",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Account"
            },
            "key": {
              "type": "string",
              "value": "gettyUploadCount-{$.env.solution_instance_id or:'testGetty'}"
            },
            "value_to_add": {
              "type": "integer",
              "value": -1
            }
          }
        },
        "storage-8": {
          "title": "Add to completeObj",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "append_to_list",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Current Run"
            },
            "key": {
              "type": "string",
              "value": "completeObj"
            },
            "value": {
              "type": "jsonpath",
              "value": "$.steps.object-helpers-1.result"
            },
            "create_if_missing": {
              "value": true,
              "type": "boolean"
            }
          }
        },
        "break-loop-3": {
          "title": "Break Loop",
          "connector": {
            "name": "break-loop",
            "version": "1.1"
          },
          "operation": "break",
          "output_schema": {},
          "error_handling": {},
          "properties": {}
        },
        "boolean-condition-4": {
          "title": "Boolean Condition",
          "connector": {
            "name": "boolean-condition",
            "version": "2.3"
          },
          "operation": "boolean_condition",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "conditions": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "value1": {
                      "type": "jsonpath",
                      "value": "$.errors.webdam-9.response.body.message"
                    },
                    "comparison_type": {
                      "type": "string",
                      "value": "==="
                    },
                    "value2": {
                      "type": "string",
                      "value": "Asset is still processing."
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "comparison_type": {
                      "type": "string",
                      "value": "<="
                    },
                    "is_case_sensitive": {
                      "type": "boolean",
                      "value": false
                    },
                    "value1": {
                      "type": "jsonpath",
                      "value": "$.steps.loop-4.index"
                    },
                    "value2": {
                      "type": "string",
                      "value": "23"
                    }
                  }
                }
              ]
            },
            "strictness": {
              "type": "string",
              "value": "All"
            }
          }
        },
        "loop-1": {
          "title": "Loop Chunks",
          "connector": {
            "name": "loop",
            "version": "1.3"
          },
          "operation": "loop_array",
          "output_schema": {
            "type": "object",
            "$schema": "http://json-schema.org/draft-03/schema",
            "id": "http://jsonschema.net",
            "additionalProperties": false,
            "properties": {
              "value": {},
              "count": {
                "type": "number",
                "id": "http://jsonschema.net/total"
              },
              "index": {
                "type": "number",
                "id": "http://jsonschema.net/index"
              },
              "is_first": {
                "type": "boolean",
                "id": "http://jsonschema.net/is_first"
              },
              "is_last": {
                "type": "boolean",
                "id": "http://jsonschema.net/is_last"
              }
            }
          },
          "error_handling": {},
          "properties": {
            "array": {
              "type": "jsonpath",
              "value": "$.steps.script-1.result.chunks"
            }
          }
        },
        "storage-4": {
          "title": "Dec uploadCount",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "atomic_increment",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Account"
            },
            "key": {
              "type": "string",
              "value": "gettyUploadCount-{$.env.solution_instance_id or:'testGetty'}"
            },
            "value_to_add": {
              "type": "integer",
              "value": -1
            }
          }
        },
        "storage-11": {
          "title": "Store assetID in syncList",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "append_to_list",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Account"
            },
            "key": {
              "type": "string",
              "value": "gettyWebdamSyncFile-{$.env.solution_instance_id or:'Getty'}"
            },
            "value": {
              "type": "jsonpath",
              "value": "$.steps.trigger.assetData.assetID"
            }
          }
        },
        "storage-7": {
          "title": "Add to completeParts",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "append_to_list",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Current Run"
            },
            "key": {
              "type": "string",
              "value": "completeParts"
            },
            "value": {
              "type": "jsonpath",
              "value": "$.steps.object-helpers-1.result"
            },
            "create_if_missing": {
              "value": false,
              "type": "boolean"
            }
          }
        },
        "http-client-1": {
          "title": "Upload to S3",
          "connector": {
            "name": "http-client",
            "version": "5.5"
          },
          "operation": "put_request",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "auth": {
              "type": "object",
              "value": {
                "none": {
                  "type": "null",
                  "value": null
                }
              }
            },
            "follow_redirect": {
              "type": "boolean",
              "value": false
            },
            "follow_keep_method": {
              "type": "boolean",
              "value": false
            },
            "reject_unauthorized": {
              "type": "boolean",
              "value": true
            },
            "follow_authorization_header": {
              "type": "boolean",
              "value": false
            },
            "parse_response": {
              "type": "string",
              "value": "true"
            },
            "status_code": {
              "type": "object",
              "value": {
                "range": {
                  "type": "object",
                  "value": {
                    "from": {
                      "type": "integer",
                      "value": 200
                    },
                    "to": {
                      "type": "integer",
                      "value": 299
                    }
                  }
                }
              }
            },
            "case_sensitive_headers": {
              "type": "boolean",
              "value": false
            },
            "url": {
              "type": "jsonpath",
              "value": "$.steps.webdam-7.response.body.presignedUrl"
            },
            "headers": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "Content-Type"
                    },
                    "value": {
                      "type": "string",
                      "value": "image/jpeg"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "Content-Length"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.file-helpers-2.size"
                    }
                  }
                }
              ]
            },
            "body": {
              "type": "object",
              "value": {
                "binary": {
                  "type": "jsonpath",
                  "value": "$.steps.file-helpers-1.file"
                }
              }
            }
          }
        },
        "webdam-9": {
          "title": "Write Metadata",
          "connector": {
            "name": "webdam",
            "version": "1.2"
          },
          "operation": "raw_http_request",
          "output_schema": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "type": "object",
            "properties": {
              "response": {
                "type": "object",
                "properties": {
                  "status_code": {
                    "type": "number"
                  },
                  "headers": {
                    "type": "object",
                    "properties": {
                      "date": {
                        "type": "string"
                      },
                      "server": {
                        "type": "string"
                      },
                      "x-frame-options": {
                        "type": "string"
                      },
                      "set-cookie": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "expires": {
                        "type": "string"
                      },
                      "cache-control": {
                        "type": "string"
                      },
                      "pragma": {
                        "type": "string"
                      },
                      "x-content-type-options": {
                        "type": "string"
                      },
                      "wd-logged-in": {
                        "type": "string"
                      },
                      "access-control-allow-origin": {
                        "type": "string"
                      },
                      "content-length": {
                        "type": "string"
                      },
                      "connection": {
                        "type": "string"
                      },
                      "content-type": {
                        "type": "string"
                      }
                    }
                  },
                  "body": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          },
          "error_handling": {
            "strategy": "manual"
          },
          "authentication": {
            "group": "84d563f1-ec10-441a-a077-3571c2e2af0e",
            "title": "Keiffer Tray Webdam Account",
            "service_icon": {
              "icon_type": "url",
              "value": "//s3.amazonaws.com/images.tray.io/artisan/icons/294becd8-01cd-4c89-8642-63c5fc50ba2d.png"
            },
            "scopes": [],
            "service_name": "webdam",
            "service_version": 1
          },
          "properties": {
            "method": {
              "type": "string",
              "value": "PUT"
            },
            "include_raw_body": {
              "type": "boolean",
              "value": false
            },
            "parse_response": {
              "type": "string",
              "value": "true"
            },
            "url": {
              "type": "object",
              "value": {
                "full_url": {
                  "type": "string",
                  "value": "https://apiv2.webdamdb.com/assets/{$.steps.webdam-8.response.body.id}/metadatas/xmp"
                }
              }
            },
            "headers": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "Authorization"
                    },
                    "value": {
                      "type": "string",
                      "value": "Bearer {$.auth.access_token}"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "content-type"
                    },
                    "value": {
                      "type": "string",
                      "value": "application/json"
                    }
                  }
                }
              ]
            },
            "body": {
              "type": "object",
              "value": {
                "raw": {
                  "type": "jsonpath",
                  "value": "$.steps.trigger.metadata"
                }
              }
            }
          }
        },
        "webdam-7": {
          "title": "Init Upload",
          "connector": {
            "name": "webdam",
            "version": "1.2"
          },
          "operation": "raw_http_request",
          "output_schema": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "type": "object",
            "properties": {
              "response": {
                "type": "object",
                "properties": {
                  "status_code": {
                    "type": "number"
                  },
                  "headers": {
                    "type": "object",
                    "properties": {
                      "date": {
                        "type": "string"
                      },
                      "server": {
                        "type": "string"
                      },
                      "strict-transport-security": {
                        "type": "string"
                      },
                      "access-control-allow-origin": {
                        "type": "string"
                      },
                      "access-control-allow-headers": {
                        "type": "string"
                      },
                      "access-control-allow-methods": {
                        "type": "string"
                      },
                      "set-cookie": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "expires": {
                        "type": "string"
                      },
                      "cache-control": {
                        "type": "string"
                      },
                      "pragma": {
                        "type": "string"
                      },
                      "x-content-type-options": {
                        "type": "string"
                      },
                      "wd-logged-in": {
                        "type": "string"
                      },
                      "content-length": {
                        "type": "string"
                      },
                      "connection": {
                        "type": "string"
                      },
                      "content-type": {
                        "type": "string"
                      }
                    }
                  },
                  "body": {
                    "type": "object",
                    "properties": {
                      "presignedUrl": {
                        "type": "string"
                      },
                      "processId": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          },
          "error_handling": {},
          "authentication": {
            "group": "84d563f1-ec10-441a-a077-3571c2e2af0e",
            "title": "Keiffer Tray Webdam Account",
            "service_icon": {
              "icon_type": "url",
              "value": "//s3.amazonaws.com/images.tray.io/artisan/icons/294becd8-01cd-4c89-8642-63c5fc50ba2d.png"
            },
            "scopes": [],
            "service_name": "webdam",
            "service_version": 1
          },
          "properties": {
            "method": {
              "type": "string",
              "value": "GET"
            },
            "include_raw_body": {
              "type": "boolean",
              "value": false
            },
            "parse_response": {
              "type": "string",
              "value": "true"
            },
            "url": {
              "type": "object",
              "value": {
                "full_url": {
                  "type": "string",
                  "value": "https://apiv2.webdamdb.com/awss3/generateupload"
                }
              }
            },
            "headers": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "Authorization"
                    },
                    "value": {
                      "type": "string",
                      "value": "Bearer {$.auth.access_token}"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "content-type"
                    },
                    "value": {
                      "type": "string",
                      "value": "application/json"
                    }
                  }
                }
              ]
            },
            "query_parameters": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "filesize"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.file-helpers-2.size"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "folderid"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.trigger.solutionData.uploadFolder"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "filename"
                    },
                    "value": {
                      "type": "string",
                      "value": "Getty {$.steps.trigger.assetData.id}.{$.steps.http-client-2.response.body.extension}"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "contenttype"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.file-helpers-1.file.mime_type"
                    }
                  }
                }
              ]
            },
            "body": {
              "type": "object",
              "value": {
                "none": {
                  "type": "null",
                  "value": null
                }
              }
            }
          }
        },
        "webdam-3": {
          "title": "Write Metadata",
          "connector": {
            "name": "webdam",
            "version": "1.2"
          },
          "operation": "raw_http_request",
          "output_schema": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "type": "object",
            "properties": {
              "response": {
                "type": "object",
                "properties": {
                  "status_code": {
                    "type": "number"
                  },
                  "headers": {
                    "type": "object",
                    "properties": {
                      "date": {
                        "type": "string"
                      },
                      "server": {
                        "type": "string"
                      },
                      "x-frame-options": {
                        "type": "string"
                      },
                      "set-cookie": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "expires": {
                        "type": "string"
                      },
                      "cache-control": {
                        "type": "string"
                      },
                      "pragma": {
                        "type": "string"
                      },
                      "x-content-type-options": {
                        "type": "string"
                      },
                      "wd-logged-in": {
                        "type": "string"
                      },
                      "access-control-allow-origin": {
                        "type": "string"
                      },
                      "content-length": {
                        "type": "string"
                      },
                      "connection": {
                        "type": "string"
                      },
                      "content-type": {
                        "type": "string"
                      }
                    }
                  },
                  "body": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          },
          "error_handling": {
            "strategy": "automatic"
          },
          "authentication": {
            "group": "84d563f1-ec10-441a-a077-3571c2e2af0e",
            "title": "Keiffer Tray Webdam Account",
            "service_icon": {
              "icon_type": "url",
              "value": "//s3.amazonaws.com/images.tray.io/artisan/icons/294becd8-01cd-4c89-8642-63c5fc50ba2d.png"
            },
            "scopes": [],
            "service_name": "webdam",
            "service_version": 1
          },
          "properties": {
            "method": {
              "type": "string",
              "value": "PUT"
            },
            "include_raw_body": {
              "type": "boolean",
              "value": false
            },
            "parse_response": {
              "type": "string",
              "value": "true"
            },
            "url": {
              "type": "object",
              "value": {
                "full_url": {
                  "type": "string",
                  "value": "https://apiv2.webdamdb.com/assets/{$.steps.webdam-6.response.body.assetId}/metadatas/xmp"
                }
              }
            },
            "headers": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "Authorization"
                    },
                    "value": {
                      "type": "string",
                      "value": "Bearer {$.auth.access_token}"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "content-type"
                    },
                    "value": {
                      "type": "string",
                      "value": "application/json"
                    }
                  }
                }
              ]
            },
            "body": {
              "type": "object",
              "value": {
                "raw": {
                  "type": "jsonpath",
                  "value": "$.steps.trigger.metadata"
                }
              }
            }
          }
        },
        "math-helpers-1": {
          "title": "Linear Delay Function",
          "connector": {
            "name": "math-helpers",
            "version": "2.0"
          },
          "operation": "run_expression",
          "output_schema": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "type": "object",
            "properties": {
              "result": {
                "type": "number"
              }
            }
          },
          "error_handling": {},
          "properties": {
            "expression": {
              "type": "string",
              "value": "({$.steps.loop-3.index}+1)*3"
            }
          }
        },
        "storage-10": {
          "title": "Create completeObj",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "get",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Current Run"
            },
            "key": {
              "type": "string",
              "value": "completeObj"
            },
            "default_value": {
              "type": "null",
              "value": null
            }
          }
        },
        "break-loop-2": {
          "title": "Break Loop",
          "connector": {
            "name": "break-loop",
            "version": "1.1"
          },
          "operation": "break",
          "output_schema": {},
          "error_handling": {},
          "properties": {}
        },
        "webdam-2": {
          "title": "Get Upload URLs",
          "connector": {
            "name": "webdam",
            "version": "1.2"
          },
          "operation": "raw_http_request",
          "output_schema": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "type": "object",
            "properties": {
              "response": {
                "type": "object",
                "properties": {
                  "status_code": {
                    "type": "number"
                  },
                  "headers": {
                    "type": "object",
                    "properties": {
                      "date": {
                        "type": "string"
                      },
                      "server": {
                        "type": "string"
                      },
                      "strict-transport-security": {
                        "type": "string"
                      },
                      "access-control-allow-origin": {
                        "type": "string"
                      },
                      "access-control-allow-headers": {
                        "type": "string"
                      },
                      "access-control-allow-methods": {
                        "type": "string"
                      },
                      "set-cookie": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "expires": {
                        "type": "string"
                      },
                      "cache-control": {
                        "type": "string"
                      },
                      "pragma": {
                        "type": "string"
                      },
                      "x-content-type-options": {
                        "type": "string"
                      },
                      "wd-logged-in": {
                        "type": "string"
                      },
                      "content-length": {
                        "type": "string"
                      },
                      "connection": {
                        "type": "string"
                      },
                      "content-type": {
                        "type": "string"
                      }
                    }
                  },
                  "body": {
                    "type": "object",
                    "properties": {
                      "uploadId": {
                        "type": "string"
                      },
                      "status": {
                        "type": "string"
                      },
                      "createdAt": {
                        "type": "string"
                      },
                      "fileName": {
                        "type": "string"
                      },
                      "fileSize": {
                        "type": "string"
                      },
                      "contentType": {
                        "type": "string"
                      },
                      "folderId": {
                        "type": "string"
                      },
                      "intent": {
                        "type": "object",
                        "properties": {
                          "action": {
                            "type": "string"
                          }
                        }
                      },
                      "affiliateId": {
                        "type": "string"
                      },
                      "parts": {
                        "type": "object",
                        "properties": {
                          "1": {
                            "type": "object",
                            "properties": {
                              "seqId": {
                                "type": "string"
                              },
                              "partSize": {
                                "type": "string"
                              },
                              "uploadUrl": {
                                "type": "string"
                              },
                              "expires": {
                                "type": "string"
                              },
                              "etag": {
                                "type": "string"
                              },
                              "status": {
                                "type": "string"
                              }
                            }
                          },
                          "2": {
                            "type": "object",
                            "properties": {
                              "seqId": {
                                "type": "string"
                              },
                              "partSize": {
                                "type": "string"
                              },
                              "uploadUrl": {
                                "type": "string"
                              },
                              "expires": {
                                "type": "string"
                              },
                              "etag": {
                                "type": "string"
                              },
                              "status": {
                                "type": "string"
                              }
                            }
                          },
                          "3": {
                            "type": "object",
                            "properties": {
                              "seqId": {
                                "type": "string"
                              },
                              "partSize": {
                                "type": "string"
                              },
                              "uploadUrl": {
                                "type": "string"
                              },
                              "expires": {
                                "type": "string"
                              },
                              "etag": {
                                "type": "string"
                              },
                              "status": {
                                "type": "string"
                              }
                            }
                          },
                          "4": {
                            "type": "object",
                            "properties": {
                              "seqId": {
                                "type": "string"
                              },
                              "partSize": {
                                "type": "string"
                              },
                              "uploadUrl": {
                                "type": "string"
                              },
                              "expires": {
                                "type": "string"
                              },
                              "etag": {
                                "type": "string"
                              },
                              "status": {
                                "type": "string"
                              }
                            }
                          },
                          "5": {
                            "type": "object",
                            "properties": {
                              "seqId": {
                                "type": "string"
                              },
                              "partSize": {
                                "type": "string"
                              },
                              "uploadUrl": {
                                "type": "string"
                              },
                              "expires": {
                                "type": "string"
                              },
                              "etag": {
                                "type": "string"
                              },
                              "status": {
                                "type": "string"
                              }
                            }
                          },
                          "6": {
                            "type": "object",
                            "properties": {
                              "seqId": {
                                "type": "string"
                              },
                              "partSize": {
                                "type": "string"
                              },
                              "uploadUrl": {
                                "type": "string"
                              },
                              "expires": {
                                "type": "string"
                              },
                              "etag": {
                                "type": "string"
                              },
                              "status": {
                                "type": "string"
                              }
                            }
                          },
                          "7": {
                            "type": "object",
                            "properties": {
                              "seqId": {
                                "type": "string"
                              },
                              "partSize": {
                                "type": "string"
                              },
                              "uploadUrl": {
                                "type": "string"
                              },
                              "expires": {
                                "type": "string"
                              },
                              "etag": {
                                "type": "string"
                              },
                              "status": {
                                "type": "string"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "error_handling": {},
          "authentication": {
            "group": "84d563f1-ec10-441a-a077-3571c2e2af0e",
            "title": "Keiffer Tray Webdam Account",
            "service_icon": {
              "icon_type": "url",
              "value": "//s3.amazonaws.com/images.tray.io/artisan/icons/294becd8-01cd-4c89-8642-63c5fc50ba2d.png"
            },
            "scopes": [],
            "service_name": "webdam",
            "service_version": 1
          },
          "properties": {
            "method": {
              "type": "string",
              "value": "PATCH"
            },
            "include_raw_body": {
              "type": "boolean",
              "value": false
            },
            "parse_response": {
              "type": "string",
              "value": "true"
            },
            "url": {
              "type": "object",
              "value": {
                "full_url": {
                  "type": "string",
                  "value": "https://apiv2.webdamdb.com/awss3/multipartupload/{$.steps.webdam-1.response.body.uploadId}"
                }
              }
            },
            "headers": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "Authorization"
                    },
                    "value": {
                      "type": "string",
                      "value": "Bearer {$.auth.access_token}"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "content-type"
                    },
                    "value": {
                      "type": "string",
                      "value": "application/json"
                    }
                  }
                }
              ]
            },
            "body": {
              "type": "object",
              "value": {
                "raw": {
                  "type": "object",
                  "value": {
                    "requestParts": {
                      "type": "jsonpath",
                      "value": "$.steps.loop-1.value.parts"
                    }
                  }
                }
              }
            }
          }
        },
        "loop-4": {
          "title": "Loop Collection",
          "connector": {
            "name": "loop",
            "version": "1.3"
          },
          "operation": "loop_forever",
          "output_schema": {
            "type": "object",
            "$schema": "http://json-schema.org/draft-03/schema",
            "id": "http://jsonschema.net",
            "properties": {
              "index": {
                "type": "number",
                "id": "http://jsonschema.net/index"
              }
            }
          },
          "error_handling": {},
          "properties": {}
        },
        "file-helpers-3": {
          "title": "Chunk File",
          "connector": {
            "name": "file-helpers",
            "version": "2.6"
          },
          "operation": "create_byte_ranges_list",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "file": {
              "type": "jsonpath",
              "value": "$.steps.file-helpers-1.file"
            },
            "chunk_size": {
              "type": "jsonpath",
              "value": "$.config.chunkSize"
            }
          }
        },
        "break-loop-1": {
          "title": "Break Loop",
          "connector": {
            "name": "break-loop",
            "version": "1.1"
          },
          "operation": "break",
          "output_schema": {},
          "error_handling": {},
          "properties": {}
        },
        "storage-6": {
          "title": "Create completeObj",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "set",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Current Run"
            },
            "key": {
              "type": "string",
              "value": "completeObj"
            },
            "value": {
              "type": "array",
              "value": []
            }
          }
        },
        "webdam-1": {
          "title": "Create Upload URLs",
          "connector": {
            "name": "webdam",
            "version": "1.2"
          },
          "operation": "raw_http_request",
          "output_schema": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "type": "object",
            "properties": {
              "response": {
                "type": "object",
                "properties": {
                  "status_code": {
                    "type": "number"
                  },
                  "headers": {
                    "type": "object",
                    "properties": {
                      "date": {
                        "type": "string"
                      },
                      "server": {
                        "type": "string"
                      },
                      "strict-transport-security": {
                        "type": "string"
                      },
                      "access-control-allow-origin": {
                        "type": "string"
                      },
                      "access-control-allow-headers": {
                        "type": "string"
                      },
                      "access-control-allow-methods": {
                        "type": "string"
                      },
                      "set-cookie": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "expires": {
                        "type": "string"
                      },
                      "cache-control": {
                        "type": "string"
                      },
                      "pragma": {
                        "type": "string"
                      },
                      "x-content-type-options": {
                        "type": "string"
                      },
                      "wd-logged-in": {
                        "type": "string"
                      },
                      "content-length": {
                        "type": "string"
                      },
                      "connection": {
                        "type": "string"
                      },
                      "content-type": {
                        "type": "string"
                      }
                    }
                  },
                  "body": {
                    "type": "object",
                    "properties": {
                      "uploadId": {
                        "type": "string"
                      },
                      "status": {
                        "type": "string"
                      },
                      "createdAt": {
                        "type": "number"
                      },
                      "fileName": {
                        "type": "string"
                      },
                      "fileSize": {
                        "type": "string"
                      },
                      "contentType": {
                        "type": "string"
                      },
                      "folderId": {
                        "type": "string"
                      },
                      "intent": {
                        "type": "object",
                        "properties": {
                          "action": {
                            "type": "string"
                          }
                        }
                      },
                      "affiliateId": {
                        "type": "string"
                      },
                      "parts": {
                        "type": "object",
                        "properties": {
                          "1": {
                            "type": "object",
                            "properties": {
                              "seqId": {
                                "type": "string"
                              },
                              "partSize": {
                                "type": "string"
                              },
                              "uploadUrl": {
                                "type": "string"
                              },
                              "expires": {
                                "type": "number"
                              },
                              "status": {
                                "type": "string"
                              }
                            }
                          },
                          "2": {
                            "type": "object",
                            "properties": {
                              "seqId": {
                                "type": "string"
                              },
                              "partSize": {
                                "type": "string"
                              },
                              "uploadUrl": {
                                "type": "string"
                              },
                              "expires": {
                                "type": "number"
                              },
                              "status": {
                                "type": "string"
                              }
                            }
                          },
                          "3": {
                            "type": "object",
                            "properties": {
                              "seqId": {
                                "type": "string"
                              },
                              "partSize": {
                                "type": "string"
                              },
                              "uploadUrl": {
                                "type": "string"
                              },
                              "expires": {
                                "type": "number"
                              },
                              "status": {
                                "type": "string"
                              }
                            }
                          },
                          "4": {
                            "type": "object",
                            "properties": {
                              "seqId": {
                                "type": "string"
                              },
                              "partSize": {
                                "type": "string"
                              },
                              "uploadUrl": {
                                "type": "string"
                              },
                              "expires": {
                                "type": "number"
                              },
                              "status": {
                                "type": "string"
                              }
                            }
                          },
                          "5": {
                            "type": "object",
                            "properties": {
                              "seqId": {
                                "type": "string"
                              },
                              "partSize": {
                                "type": "string"
                              },
                              "uploadUrl": {
                                "type": "string"
                              },
                              "expires": {
                                "type": "number"
                              },
                              "status": {
                                "type": "string"
                              }
                            }
                          },
                          "6": {
                            "type": "object",
                            "properties": {
                              "seqId": {
                                "type": "string"
                              },
                              "partSize": {
                                "type": "string"
                              },
                              "uploadUrl": {
                                "type": "string"
                              },
                              "expires": {
                                "type": "number"
                              },
                              "status": {
                                "type": "string"
                              }
                            }
                          },
                          "7": {
                            "type": "object",
                            "properties": {
                              "seqId": {
                                "type": "string"
                              },
                              "partSize": {
                                "type": "string"
                              },
                              "uploadUrl": {
                                "type": "string"
                              },
                              "expires": {
                                "type": "number"
                              },
                              "status": {
                                "type": "string"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "error_handling": {},
          "authentication": {
            "group": "84d563f1-ec10-441a-a077-3571c2e2af0e",
            "title": "Keiffer Tray Webdam Account",
            "service_icon": {
              "icon_type": "url",
              "value": "//s3.amazonaws.com/images.tray.io/artisan/icons/294becd8-01cd-4c89-8642-63c5fc50ba2d.png"
            },
            "scopes": [],
            "service_name": "webdam",
            "service_version": 1
          },
          "properties": {
            "method": {
              "type": "string",
              "value": "POST"
            },
            "include_raw_body": {
              "type": "boolean",
              "value": false
            },
            "parse_response": {
              "type": "string",
              "value": "true"
            },
            "url": {
              "type": "object",
              "value": {
                "full_url": {
                  "type": "string",
                  "value": "https://apiv2.webdamdb.com/awss3/multipartupload"
                }
              }
            },
            "headers": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "Authorization"
                    },
                    "value": {
                      "type": "string",
                      "value": "Bearer {$.auth.access_token}"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "content-type"
                    },
                    "value": {
                      "type": "string",
                      "value": "application/json"
                    }
                  }
                }
              ]
            },
            "body": {
              "type": "object",
              "value": {
                "raw": {
                  "type": "jsonpath",
                  "value": "$.steps.script-1.result.contents"
                }
              }
            }
          }
        },
        "terminate-3": {
          "title": "Terminate",
          "connector": {
            "name": "terminate",
            "version": "1.1"
          },
          "operation": "fail_run",
          "output_schema": {},
          "error_handling": {},
          "properties": {}
        },
        "http-client-2": {
          "title": "Lookup Ext from mimeType",
          "connector": {
            "name": "http-client",
            "version": "5.6"
          },
          "operation": "post_request",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "auth": {
              "type": "object",
              "value": {
                "none": {
                  "type": "null",
                  "value": null
                }
              }
            },
            "follow_redirect": {
              "type": "boolean",
              "value": false
            },
            "follow_keep_method": {
              "type": "boolean",
              "value": false
            },
            "reject_unauthorized": {
              "type": "boolean",
              "value": true
            },
            "follow_authorization_header": {
              "type": "boolean",
              "value": false
            },
            "parse_response": {
              "type": "string",
              "value": "true"
            },
            "status_code": {
              "type": "object",
              "value": {
                "range": {
                  "type": "object",
                  "value": {
                    "from": {
                      "type": "integer",
                      "value": 200
                    },
                    "to": {
                      "type": "integer",
                      "value": 299
                    }
                  }
                }
              }
            },
            "case_sensitive_headers": {
              "type": "boolean",
              "value": false
            },
            "url": {
              "type": "string",
              "value": "https://2a7cb8fe-fc2e-41d6-931c-c8eb30c4c291.integration-hook.com"
            },
            "queries": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "mimeType"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.file-helpers-1.file.mime_type"
                    }
                  }
                }
              ]
            }
          }
        },
        "object-helpers-1": {
          "title": "add eTag to Loop Obj",
          "connector": {
            "name": "object-helpers",
            "version": "4.1"
          },
          "operation": "add_value_by_key",
          "output_schema": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "type": "object",
            "properties": {
              "result": {
                "type": "object",
                "properties": {
                  "etag": {
                    "type": "null"
                  }
                }
              }
            }
          },
          "error_handling": {},
          "properties": {
            "key": {
              "type": "string",
              "value": "etag"
            },
            "value": {
              "type": "jsonpath",
              "value": "$.steps.file-helpers-4.headers.etag"
            },
            "source": {
              "type": "jsonpath",
              "value": "$.steps.loop-2.value"
            }
          }
        },
        "delay-1": {
          "title": "Delay",
          "connector": {
            "name": "delay",
            "version": "1.0"
          },
          "operation": "delay",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "time_unit": {
              "type": "string",
              "value": "seconds"
            },
            "delay_value": {
              "type": "jsonpath",
              "value": "$.steps.math-helpers-1.result"
            }
          }
        },
        "script-2": {
          "title": "Create partInfo",
          "connector": {
            "name": "script",
            "version": "3.3"
          },
          "operation": "execute",
          "output_schema": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "type": "object",
            "properties": {
              "result": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "startByte": {
                      "type": "number"
                    },
                    "endByte": {
                      "type": "number"
                    },
                    "seqId": {
                      "type": "string"
                    },
                    "partSize": {
                      "type": "string"
                    },
                    "uploadUrl": {
                      "type": "string"
                    },
                    "expires": {
                      "type": "number"
                    },
                    "status": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "startByte",
                    "endByte",
                    "seqId",
                    "partSize",
                    "uploadUrl",
                    "expires",
                    "status"
                  ]
                }
              },
              "console": {
                "type": "array",
                "items": {}
              }
            }
          },
          "error_handling": {},
          "properties": {
            "variables": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "name": {
                      "type": "string",
                      "value": "result"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.json-transformer-1.result"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "name": {
                      "type": "string",
                      "value": "byteList"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.file-helpers-3.byteRanges"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "name": {
                      "type": "string",
                      "value": "chunkLength"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.config.chunkLength"
                    }
                  }
                }
              ]
            },
            "script": {
              "type": "string",
              "value": "// You can reference the input variables using input.NAME\n// Parsed JSON files could be referenced as fileInput\nexports.step = function (input) {\n\tlet res = [];\n\tif (input.result.length - input.chunkLength <= 0) {\n\t\tfor (let i = 0; i < input.result.length; i++) {\n\t\t\tconst index = input.result[i].seqId - 1;\n\t\t\tconst obj = input.byteList[index];\n\t\t\tconst part = input.result[i];\n\t\t\tres.push({\n\t\t\t\t...obj,\n\t\t\t\t...part,\n\t\t\t});\n\t\t}\n\t} else {\n\t\tfor (let i = input.result.length - input.chunkLength; i < input.result.length; i++) {\n\t\t\tconst index = input.result[i].seqId - 1;\n\t\t\tconst obj = input.byteList[index];\n\t\t\tconst part = input.result[i];\n\t\t\tres.push({\n\t\t\t\t...obj,\n\t\t\t\t...part,\n\t\t\t});\n\t\t}\n\t}\n\treturn res;\n};"
            },
            "file_output": {
              "type": "boolean",
              "value": false
            }
          }
        },
        "boolean-condition-3": {
          "title": "Small file?",
          "connector": {
            "name": "boolean-condition",
            "version": "2.3"
          },
          "operation": "boolean_condition",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "conditions": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "value1": {
                      "type": "jsonpath",
                      "value": "$.steps.file-helpers-2.size"
                    },
                    "comparison_type": {
                      "type": "string",
                      "value": "<="
                    },
                    "value2": {
                      "type": "jsonpath",
                      "value": "$.config.chunkSize"
                    }
                  }
                }
              ]
            },
            "strictness": {
              "type": "string",
              "value": "All"
            }
          }
        },
        "json-transformer-1": {
          "title": "JSON Transformer",
          "connector": {
            "name": "json-transformer",
            "version": "1.0"
          },
          "operation": "transform",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "query": {
              "type": "string",
              "value": "[response.body.parts.*]"
            },
            "data": {
              "type": "object",
              "value": {
                "response": {
                  "type": "jsonpath",
                  "value": "$.steps.webdam-2.response"
                }
              }
            }
          }
        },
        "file-helpers-1": {
          "title": "Save File",
          "connector": {
            "name": "file-helpers",
            "version": "2.5"
          },
          "operation": "create_file",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "url": {
              "type": "jsonpath",
              "value": "$.steps.trigger.downloadURI"
            },
            "headers": {
              "type": "object",
              "value": {}
            },
            "name": {
              "type": "string",
              "value": "Getty Images {$.steps.trigger.assetData.id}"
            }
          }
        },
        "trigger": {
          "title": "Callable Trigger",
          "connector": {
            "name": "callable-trigger",
            "version": "2.0"
          },
          "operation": "trigger",
          "output_schema": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "type": "object",
            "properties": {
              "metadata": {
                "type": "object",
                "properties": {
                  "CREDIT": {
                    "type": "string"
                  },
                  "BYLINE": {
                    "type": "string"
                  },
                  "CITY": {
                    "type": "string"
                  },
                  "COUNTRYNAME": {
                    "type": "string"
                  },
                  "RIGHTSUSAGETERMS": {
                    "type": "string"
                  },
                  "KEYWORD": {
                    "type": "string"
                  }
                }
              },
              "downloadURI": {
                "type": "string"
              },
              "assetData": {
                "type": "object",
                "properties": {
                  "country": {
                    "type": "string"
                  },
                  "credit_line": {
                    "type": "string"
                  },
                  "keywords": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "artist": {
                    "type": "string"
                  },
                  "city": {
                    "type": "string"
                  },
                  "license_model": {
                    "type": "string"
                  },
                  "id": {
                    "type": "string"
                  },
                  "title": {
                    "type": "string"
                  },
                  "assetType": {
                    "type": "string"
                  }
                }
              },
              "solutionData": {
                "type": "object",
                "properties": {
                  "transformerString": {
                    "type": "string"
                  },
                  "uploadFolder": {
                    "type": "string"
                  },
                  "queryObject": {
                    "type": "object",
                    "properties": {
                      "country": {
                        "type": "string"
                      },
                      "credit_line": {
                        "type": "string"
                      },
                      "keywords": {
                        "type": "string"
                      },
                      "artist": {
                        "type": "string"
                      },
                      "city": {
                        "type": "string"
                      },
                      "license_model": {
                        "type": "string"
                      },
                      "id": {
                        "type": "string"
                      },
                      "title": {
                        "type": "string"
                      }
                    }
                  },
                  "staticMeta": {
                    "type": "object",
                    "properties": {
                      "RIGHTSUSAGETERMS": {
                        "type": "string"
                      },
                      "KEYWORD": {
                        "type": "string"
                      },
                      "COUNTRYNAME": {
                        "type": "string"
                      }
                    }
                  },
                  "dateFrom": {
                    "type": "string"
                  },
                  "metadataMap": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "value": {
                          "type": "string"
                        },
                        "key": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "value",
                        "key"
                      ]
                    }
                  },
                  "mapObject": {
                    "type": "object",
                    "properties": {
                      "CREDIT": {
                        "type": "string"
                      },
                      "BYLINE": {
                        "type": "string"
                      },
                      "CITY": {
                        "type": "string"
                      },
                      "COUNTRYNAME": {
                        "type": "string"
                      }
                    }
                  }
                }
              },
              "#calling_workflow": {
                "type": "string"
              },
              "#calling_execution": {
                "type": "string"
              },
              "#calling_execution_log_url": {
                "type": "string"
              }
            }
          },
          "error_handling": {},
          "properties": {}
        }
      },
      "dependencies": [
        {
          "id": "a00c6f01-0770-4297-a0bf-594c9217587e",
          "name": "[Getty - Webdam] Error Catch"
        }
      ]
    },
    {
      "id": "a00c6f01-0770-4297-a0bf-594c9217587e",
      "created": "2023-10-05T21:07:54.439147Z",
      "workspace_id": "139e4592-3b78-46ad-885b-bc64d04d3bed",
      "project_id": "e328e1a2-7c42-4337-988f-1b85a156113f",
      "group": "175da2a9-3db6-4298-bb45-f2dc9c007f5e",
      "creator": "c0fb1638-958b-4aa0-a664-c3effbe736a5",
      "version": {
        "id": "ce5ec08c-7856-438e-85ea-e01ed14cec97",
        "created": "2023-10-05T21:09:32.865243Z"
      },
      "title": "[Getty - Webdam] Error Catch",
      "enabled": true,
      "tags": [],
      "settings": {
        "config": {
          "dateFrom": "2022-11-30",
          "orgDownloads": "false",
          "syncVideo": false,
          "metadataMap": [],
          "staticMapInput": [],
          "dataMapInput": {},
          "uploadFolder": 0,
          "uploadDelay": 10,
          "uploadLimiter": 12,
          "chunkSize": 67108864,
          "chunkLength": 10
        },
        "input_schema": {},
        "output_schema": {}
      },
      "steps_structure": [
        {
          "name": "trigger",
          "type": "normal",
          "content": {}
        },
        {
          "name": "branch-1",
          "type": "branch",
          "content": {
            "__default__": [],
            "branch1": [
              {
                "name": "storage-1",
                "type": "normal",
                "content": {}
              }
            ]
          }
        }
      ],
      "steps": {
        "trigger": {
          "title": "Alert",
          "connector": {
            "name": "alerting-trigger",
            "version": "1.1"
          },
          "operation": "trigger",
          "output_schema": {},
          "error_handling": {},
          "properties": {}
        },
        "branch-1": {
          "title": "Branch",
          "connector": {
            "name": "branch",
            "version": "1.3"
          },
          "operation": "simple",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "value": {
              "type": "jsonpath",
              "value": "$.steps.trigger.origin.workflow_title"
            },
            "branches": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "value": {
                      "type": "string",
                      "value": "[Getty - Webdam] Webdam Uploader"
                    },
                    "label": {
                      "type": "string",
                      "value": "Upload"
                    }
                  }
                }
              ]
            }
          }
        },
        "storage-1": {
          "title": "Dec uploadCount",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "atomic_increment",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Account"
            },
            "key": {
              "type": "string",
              "value": "gettyUploadCount-{$.env.solution_instance_id or:'testGetty'}"
            },
            "value_to_add": {
              "type": "integer",
              "value": -1
            }
          }
        }
      },
      "dependencies": []
    },
    {
      "id": "fd59624b-2d0d-448a-b761-c80efd2313b4",
      "created": "2023-10-05T21:15:41.548869Z",
      "workspace_id": "139e4592-3b78-46ad-885b-bc64d04d3bed",
      "project_id": "e328e1a2-7c42-4337-988f-1b85a156113f",
      "group": "787965fe-21c1-4cfd-957d-2f2e82011787",
      "creator": "c0fb1638-958b-4aa0-a664-c3effbe736a5",
      "version": {
        "id": "e4a2b43b-e26b-4dfc-bc21-b5c551e4915b",
        "created": "2023-10-05T21:16:00.478984Z"
      },
      "title": "[Getty - Webdam] Manual Debug",
      "enabled": false,
      "tags": [],
      "settings": {
        "config": {
          "dateFrom": "2022-11-30",
          "orgDownloads": "false",
          "syncVideo": false,
          "metadataMap": [],
          "staticMapInput": [],
          "dataMapInput": {},
          "uploadFolder": 0,
          "uploadDelay": 10,
          "uploadLimiter": 12,
          "chunkSize": 67108864,
          "chunkLength": 10
        },
        "input_schema": {},
        "output_schema": {}
      },
      "steps_structure": [
        {
          "name": "trigger",
          "type": "normal",
          "content": {}
        },
        {
          "name": "storage-1",
          "type": "normal",
          "content": {}
        }
      ],
      "steps": {
        "trigger": {
          "title": "Webhook",
          "connector": {
            "name": "webhook",
            "version": "2.3"
          },
          "operation": "fire_and_forget",
          "output_schema": {},
          "error_handling": {},
          "properties": {}
        },
        "storage-1": {
          "title": "Reset uploadCount",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "set",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Account"
            },
            "key": {
              "type": "string",
              "value": "gettyUploadCount-{$.env.solution_instance_id or:'testGetty'}"
            },
            "value": {
              "type": "number",
              "value": 0
            }
          }
        }
      },
      "dependencies": []
    },
    {
      "id": "7b9fff3a-cc7d-4f41-85df-1b0a354f25ca",
      "created": "2023-04-12T18:14:44.947181Z",
      "workspace_id": "139e4592-3b78-46ad-885b-bc64d04d3bed",
      "project_id": "e328e1a2-7c42-4337-988f-1b85a156113f",
      "group": "49ac9e1b-cb74-4c24-b7e6-66fe5b05ddf1",
      "creator": "c0fb1638-958b-4aa0-a664-c3effbe736a5",
      "version": {
        "id": "20166e56-4edc-4458-9cb6-31a335db4e1b",
        "created": "2023-04-12T18:14:44.947179Z"
      },
      "title": "[Getty - Webdam] Interval Control",
      "enabled": false,
      "tags": [],
      "settings": {
        "config": {
          "dateFrom": "2022-11-30",
          "orgDownloads": "false",
          "syncVideo": false,
          "metadataMap": [],
          "staticMapInput": [],
          "dataMapInput": {},
          "uploadFolder": 0,
          "uploadDelay": 10,
          "uploadLimiter": 12,
          "chunkSize": 67108864,
          "chunkLength": 10
        },
        "input_schema": {},
        "output_schema": {}
      },
      "steps_structure": [
        {
          "name": "trigger",
          "type": "normal",
          "content": {}
        },
        {
          "name": "storage-1",
          "type": "normal",
          "content": {}
        },
        {
          "name": "storage-2",
          "type": "normal",
          "content": {}
        },
        {
          "name": "call-workflow-1",
          "type": "normal",
          "content": {}
        }
      ],
      "steps": {
        "trigger": {
          "title": "Scheduled Trigger",
          "connector": {
            "name": "scheduled",
            "version": "3.5"
          },
          "operation": "simple",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "synchronous": {
              "type": "boolean",
              "value": true
            },
            "public_url": {
              "type": "jsonpath",
              "value": "$.env.public_url"
            },
            "interval": {
              "type": "integer",
              "value": 2
            },
            "time_unit": {
              "type": "string",
              "value": "hours"
            }
          }
        },
        "storage-1": {
          "title": "Get errorFile",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "get",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Account"
            },
            "key": {
              "type": "string",
              "value": "GettyErrorFile-{$.env.solution_instance_id or:'Getty'}"
            },
            "default_value": {
              "type": "null",
              "value": null
            }
          }
        },
        "storage-2": {
          "title": "Get syncFile",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "get",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Account"
            },
            "key": {
              "type": "string",
              "value": "gettySyncFile-{$.env.solution_instance_id or:'Getty'}"
            },
            "default_value": {
              "type": "null",
              "value": null
            }
          }
        },
        "call-workflow-1": {
          "title": "Call Workflow",
          "connector": {
            "name": "call-workflow",
            "version": "2.0"
          },
          "operation": "fire_and_forget",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "workflow_id": {
              "type": "string",
              "value": "33ade10c-1fba-46c1-9e2f-dea9a64ea11e"
            },
            "trigger_input": {
              "type": "object",
              "value": {
                "payload": {
                  "type": "string",
                  "value": "Hello Getty"
                }
              }
            }
          }
        }
      },
      "dependencies": [
        {
          "id": "33ade10c-1fba-46c1-9e2f-dea9a64ea11e",
          "name": "[Getty - Webdam] Sync Master"
        }
      ]
    },
    {
      "id": "33ade10c-1fba-46c1-9e2f-dea9a64ea11e",
      "created": "2023-04-12T18:14:44.168688Z",
      "workspace_id": "139e4592-3b78-46ad-885b-bc64d04d3bed",
      "project_id": "e328e1a2-7c42-4337-988f-1b85a156113f",
      "group": "2284e1ac-6ed5-4090-8be4-2b18db7d0a15",
      "creator": "c0fb1638-958b-4aa0-a664-c3effbe736a5",
      "version": {
        "id": "794ee7e8-063a-4271-a0ad-f7d3a100e477",
        "created": "2023-10-05T19:01:33.615304Z"
      },
      "title": "[Getty - Webdam] Sync Master",
      "enabled": true,
      "tags": [],
      "settings": {
        "config": {
          "dateFrom": "2022-11-30",
          "orgDownloads": "false",
          "syncVideo": false,
          "metadataMap": [],
          "staticMapInput": [],
          "dataMapInput": {},
          "uploadFolder": 0,
          "uploadDelay": 10,
          "uploadLimiter": 12,
          "chunkSize": 67108864,
          "chunkLength": 10
        },
        "input_schema": {},
        "output_schema": {}
      },
      "steps_structure": [
        {
          "name": "trigger",
          "type": "normal",
          "content": {}
        },
        {
          "name": "storage-4",
          "type": "normal",
          "content": {}
        },
        {
          "name": "storage-10",
          "type": "normal",
          "content": {}
        },
        {
          "name": "storage-11",
          "type": "normal",
          "content": {}
        },
        {
          "name": "date-time-helpers-2",
          "type": "normal",
          "content": {}
        },
        {
          "name": "date-time-helpers-3",
          "type": "normal",
          "content": {}
        },
        {
          "name": "date-time-helpers-5",
          "type": "normal",
          "content": {}
        },
        {
          "name": "storage-3",
          "type": "normal",
          "content": {}
        },
        {
          "name": "loop-1",
          "type": "loop",
          "content": {
            "_loop": [
              {
                "name": "loop-2",
                "type": "loop",
                "content": {
                  "_loop": [
                    {
                      "name": "storage-2",
                      "type": "normal",
                      "content": {}
                    },
                    {
                      "name": "script-3",
                      "type": "normal",
                      "content": {}
                    },
                    {
                      "name": "boolean-condition-1",
                      "type": "branch",
                      "content": {
                        "true": [
                          {
                            "name": "storage-5",
                            "type": "normal",
                            "content": {}
                          },
                          {
                            "name": "getty-4",
                            "type": "normal",
                            "content": {}
                          },
                          {
                            "name": "list-helpers-3",
                            "type": "normal",
                            "content": {}
                          },
                          {
                            "name": "boolean-condition-2",
                            "type": "branch",
                            "content": {
                              "true": [
                                {
                                  "name": "script-1",
                                  "type": "normal",
                                  "content": {}
                                },
                                {
                                  "name": "boolean-condition-3",
                                  "type": "branch",
                                  "content": {
                                    "true": [],
                                    "false": [
                                      {
                                        "name": "json-transformer-1",
                                        "type": "normal",
                                        "content": {}
                                      },
                                      {
                                        "name": "json-transformer-2",
                                        "type": "normal",
                                        "content": {}
                                      },
                                      {
                                        "name": "getty-1",
                                        "type": "normal",
                                        "content": {}
                                      },
                                      {
                                        "name": "json-transformer-3",
                                        "type": "normal",
                                        "content": {}
                                      },
                                      {
                                        "name": "script-2",
                                        "type": "normal",
                                        "content": {}
                                      },
                                      {
                                        "name": "storage-6",
                                        "type": "normal",
                                        "content": {}
                                      }
                                    ]
                                  }
                                }
                              ],
                              "false": [
                                {
                                  "name": "storage-7",
                                  "type": "normal",
                                  "content": {}
                                },
                                {
                                  "name": "list-helpers-4",
                                  "type": "normal",
                                  "content": {}
                                },
                                {
                                  "name": "storage-8",
                                  "type": "normal",
                                  "content": {}
                                },
                                {
                                  "name": "storage-9",
                                  "type": "normal",
                                  "content": {}
                                },
                                {
                                  "name": "break-loop-1",
                                  "type": "break",
                                  "content": {},
                                  "target": "loop-1"
                                }
                              ]
                            }
                          },
                          {
                            "name": "math-helpers-3",
                            "type": "normal",
                            "content": {}
                          },
                          {
                            "name": "storage-12",
                            "type": "normal",
                            "content": {}
                          }
                        ],
                        "false": [
                          {
                            "name": "storage-13",
                            "type": "normal",
                            "content": {}
                          },
                          {
                            "name": "list-helpers-5",
                            "type": "normal",
                            "content": {}
                          },
                          {
                            "name": "storage-14",
                            "type": "normal",
                            "content": {}
                          },
                          {
                            "name": "storage-15",
                            "type": "normal",
                            "content": {}
                          },
                          {
                            "name": "break-loop-2",
                            "type": "break",
                            "content": {},
                            "target": "loop-2"
                          }
                        ]
                      }
                    }
                  ]
                }
              }
            ]
          }
        },
        {
          "name": "storage-1",
          "type": "normal",
          "content": {}
        },
        {
          "name": "loop-3",
          "type": "loop",
          "content": {
            "_loop": [
              {
                "name": "storage-17",
                "type": "normal",
                "content": {}
              },
              {
                "name": "loop-4",
                "type": "loop",
                "content": {
                  "_loop": [
                    {
                      "name": "logic-helpers-1",
                      "type": "normal",
                      "content": {}
                    },
                    {
                      "name": "boolean-condition-4",
                      "type": "branch",
                      "content": {
                        "true": [
                          {
                            "name": "date-time-helpers-1",
                            "type": "normal",
                            "content": {}
                          },
                          {
                            "name": "date-time-helpers-4",
                            "type": "normal",
                            "content": {}
                          },
                          {
                            "name": "boolean-condition-5",
                            "type": "branch",
                            "content": {
                              "true": [
                                {
                                  "name": "break-loop-3",
                                  "type": "break",
                                  "content": {},
                                  "target": "loop-3"
                                }
                              ],
                              "false": [
                                {
                                  "name": "getty-2",
                                  "type": "normal",
                                  "content": {}
                                },
                                {
                                  "name": "script-4",
                                  "type": "normal",
                                  "content": {}
                                },
                                {
                                  "name": "storage-16",
                                  "type": "normal",
                                  "content": {}
                                },
                                {
                                  "name": "boolean-condition-6",
                                  "type": "branch",
                                  "content": {
                                    "true": [
                                      {
                                        "name": "loop-5",
                                        "type": "loop",
                                        "content": {
                                          "_loop": [
                                            {
                                              "name": "delay-2",
                                              "type": "normal",
                                              "content": {}
                                            },
                                            {
                                              "name": "storage-18",
                                              "type": "normal",
                                              "content": {}
                                            },
                                            {
                                              "name": "boolean-condition-7",
                                              "type": "branch",
                                              "content": {
                                                "true": [],
                                                "false": [
                                                  {
                                                    "name": "break-loop-4",
                                                    "type": "break",
                                                    "content": {},
                                                    "target": "loop-5"
                                                  }
                                                ]
                                              }
                                            }
                                          ]
                                        }
                                      }
                                    ],
                                    "false": []
                                  }
                                },
                                {
                                  "name": "call-workflow-2",
                                  "type": "normal",
                                  "content": {}
                                },
                                {
                                  "name": "storage-19",
                                  "type": "normal",
                                  "content": {}
                                }
                              ]
                            }
                          }
                        ],
                        "false": []
                      }
                    }
                  ]
                }
              }
            ]
          }
        }
      ],
      "steps": {
        "json-transformer-3": {
          "title": "Compactify Metadata",
          "connector": {
            "name": "json-transformer",
            "version": "1.0"
          },
          "operation": "transform",
          "output_schema": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "type": "object",
            "properties": {
              "result": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "number"
                    },
                    "title": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "id",
                    "title"
                  ]
                }
              }
            }
          },
          "error_handling": {},
          "properties": {
            "data": {
              "type": "object",
              "value": {
                "response": {
                  "type": "jsonpath",
                  "value": "$.steps.getty-1.body"
                }
              }
            },
            "query": {
              "type": "jsonpath",
              "value": "$.steps.storage-4.value.transformerString"
            }
          }
        },
        "storage-16": {
          "title": "Check uploadCount",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "get",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Account"
            },
            "default_value": {
              "type": "number",
              "value": 0
            },
            "key": {
              "type": "string",
              "value": "gettyUploadCount-{$.env.solution_instance_id or:'testGetty'}"
            }
          }
        },
        "storage-12": {
          "title": "Store Page Number",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "set",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Current Run"
            },
            "key": {
              "type": "string",
              "value": "pageCount"
            },
            "value": {
              "type": "jsonpath",
              "value": "$.steps.math-helpers-3.result"
            }
          }
        },
        "date-time-helpers-4": {
          "title": "Time for killSwitch ?",
          "connector": {
            "name": "date-time-helpers",
            "version": "3.0"
          },
          "operation": "compare_dates",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "comparison": {
              "type": "string",
              "value": "IS AFTER"
            },
            "resolution": {
              "type": "string",
              "value": ""
            },
            "date_a": {
              "type": "jsonpath",
              "value": "$.steps.date-time-helpers-1.result"
            },
            "date_b": {
              "type": "jsonpath",
              "value": "$.steps.date-time-helpers-3.result"
            }
          }
        },
        "boolean-condition-1": {
          "title": "Break When Key is Full",
          "connector": {
            "name": "boolean-condition",
            "version": "2.3"
          },
          "operation": "boolean_condition",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "conditions": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "value1": {
                      "type": "jsonpath",
                      "value": "$.steps.script-3.result"
                    },
                    "comparison_type": {
                      "type": "string",
                      "value": "<="
                    },
                    "value2": {
                      "type": "number",
                      "value": 200000
                    }
                  }
                }
              ]
            },
            "strictness": {
              "type": "string",
              "value": "Any"
            }
          }
        },
        "script-4": {
          "title": "Build Metadata Object",
          "connector": {
            "name": "script",
            "version": "3.3"
          },
          "operation": "execute",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "variables": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "name": {
                      "type": "string",
                      "value": "mapObject"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.storage-4.value.mapObject"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "name": {
                      "type": "string",
                      "value": "metadata"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.loop-4.value"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "name": {
                      "type": "string",
                      "value": "staticMeta"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.storage-4.value.staticMeta"
                    }
                  }
                }
              ]
            },
            "script": {
              "type": "string",
              "value": "// You can reference the input variables using input.NAME\n// Parsed JSON files could be referenced as fileInput\nexports.step = function (input) {\n\tconst mapping = input.mapObject\n\tconst propArray = input.metadata\n\tconst bynderMapping = {}\n\n\tObject.keys(mapping).forEach(function (key) {\n\t\tbynderMapping[key] = typeof ((propArray[`${(mapping[key])}`])) == \"object\" ? JSON.stringify(propArray[`${(mapping[key])}`]) : propArray[`${(mapping[key])}`]\n\t});\n\n\treturn Object.assign(bynderMapping, input.staticMeta)\n};"
            },
            "file_output": {
              "type": "boolean",
              "value": false
            }
          }
        },
        "getty-4": {
          "title": "Get Download List",
          "connector": {
            "name": "getty",
            "version": "2.0"
          },
          "operation": "raw_http_request",
          "output_schema": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "type": "object",
            "properties": {
              "headers": {
                "type": "object",
                "properties": {
                  "content-type": {
                    "type": "string"
                  },
                  "content-length": {
                    "type": "string"
                  },
                  "connection": {
                    "type": "string"
                  },
                  "date": {
                    "type": "string"
                  },
                  "x-amzn-requestid": {
                    "type": "string"
                  },
                  "gi-coordination-id": {
                    "type": "string"
                  },
                  "access-control-allow-origin": {
                    "type": "string"
                  },
                  "strict-transport-security": {
                    "type": "string"
                  },
                  "x-amzn-remapped-content-length": {
                    "type": "string"
                  },
                  "content-language": {
                    "type": "string"
                  },
                  "x-amzn-remapped-connection": {
                    "type": "string"
                  },
                  "x-amz-apigw-id": {
                    "type": "string"
                  },
                  "cache-control": {
                    "type": "string"
                  },
                  "x-amzn-remapped-server": {
                    "type": "string"
                  },
                  "x-amzn-remapped-date": {
                    "type": "string"
                  },
                  "vary": {
                    "type": "string"
                  },
                  "x-cache": {
                    "type": "string"
                  },
                  "via": {
                    "type": "string"
                  },
                  "x-amz-cf-pop": {
                    "type": "string"
                  },
                  "x-amz-cf-id": {
                    "type": "string"
                  }
                }
              },
              "body": {
                "type": "object",
                "properties": {
                  "result_count": {
                    "type": "number"
                  },
                  "downloads": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "date_downloaded": {
                          "type": "string"
                        },
                        "id": {
                          "type": "string"
                        },
                        "asset_type": {
                          "type": "string"
                        },
                        "product_type": {
                          "type": "string"
                        },
                        "thumb_uri": {
                          "type": "string"
                        },
                        "product_id": {
                          "type": "number"
                        },
                        "download_details": {
                          "type": "object",
                          "properties": {
                            "download_notes": {
                              "type": "string"
                            },
                            "project_code": {
                              "type": "string"
                            }
                          }
                        },
                        "download_source": {
                          "type": "string"
                        },
                        "user": {
                          "type": "object",
                          "properties": {
                            "username": {
                              "type": "string"
                            },
                            "first_name": {
                              "type": "string"
                            },
                            "last_name": {
                              "type": "string"
                            }
                          }
                        },
                        "size_name": {
                          "type": "string"
                        },
                        "dimensions": {
                          "type": "object",
                          "properties": {
                            "width": {
                              "type": "number"
                            },
                            "height": {
                              "type": "number"
                            },
                            "dpi": {
                              "type": "number"
                            }
                          }
                        },
                        "agreement_name": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "date_downloaded",
                        "id",
                        "asset_type",
                        "product_type",
                        "thumb_uri",
                        "agreement_name",
                        "product_id",
                        "download_details",
                        "download_source",
                        "user",
                        "size_name",
                        "dimensions"
                      ]
                    }
                  }
                }
              }
            }
          },
          "error_handling": {},
          "authentication": {
            "group": "697b24cc-2ca7-4478-aba9-b246f13dcd74",
            "title": "Keiffer Getty Prod Testing",
            "service_icon": {
              "icon_type": "url",
              "value": "//s3.amazonaws.com/images.tray.io/artisan/icons/f65f16a201224c76046bc5331abb9a06.png"
            },
            "scopes": [],
            "service_name": "getty",
            "service_version": 2
          },
          "properties": {
            "method": {
              "type": "string",
              "value": "GET"
            },
            "include_raw_body": {
              "type": "boolean",
              "value": false
            },
            "parse_response": {
              "type": "string",
              "value": "true"
            },
            "url": {
              "type": "object",
              "value": {
                "full_url": {
                  "type": "string",
                  "value": "https://api.gettyimages.com/v3/downloads"
                }
              }
            },
            "headers": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "Authorization"
                    },
                    "value": {
                      "type": "string",
                      "value": "{$.auth.token_type} {$.auth.access_token}"
                    }
                  }
                }
              ]
            },
            "query_parameters": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "company_downloads"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.config.orgDownloads"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "product_type"
                    },
                    "value": {
                      "type": "string",
                      "value": "premiumaccess"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "date_from"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.storage-4.value.dateFrom",
                      "fallback": {
                        "value": "2001-01-01",
                        "type": "string"
                      }
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "date_to"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.date-time-helpers-5.result"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "page"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.storage-5.value"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "page_size"
                    },
                    "value": {
                      "type": "string",
                      "value": "100"
                    }
                  }
                }
              ]
            },
            "body": {
              "type": "object",
              "value": {
                "none": {
                  "type": "null",
                  "value": null
                }
              }
            }
          }
        },
        "getty-1": {
          "title": "Getty Metadata",
          "connector": {
            "name": "getty",
            "version": "2.0"
          },
          "operation": "raw_http_request",
          "output_schema": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "type": "object",
            "properties": {
              "headers": {
                "type": "object",
                "properties": {
                  "content-type": {
                    "type": "string"
                  },
                  "content-length": {
                    "type": "string"
                  },
                  "connection": {
                    "type": "string"
                  },
                  "date": {
                    "type": "string"
                  },
                  "x-amzn-requestid": {
                    "type": "string"
                  },
                  "gi-coordination-id": {
                    "type": "string"
                  },
                  "access-control-allow-origin": {
                    "type": "string"
                  },
                  "strict-transport-security": {
                    "type": "string"
                  },
                  "x-amzn-remapped-content-length": {
                    "type": "string"
                  },
                  "content-language": {
                    "type": "string"
                  },
                  "x-amzn-remapped-connection": {
                    "type": "string"
                  },
                  "x-amz-apigw-id": {
                    "type": "string"
                  },
                  "cache-control": {
                    "type": "string"
                  },
                  "x-amzn-remapped-server": {
                    "type": "string"
                  },
                  "x-amzn-remapped-date": {
                    "type": "string"
                  },
                  "vary": {
                    "type": "string"
                  },
                  "x-cache": {
                    "type": "string"
                  },
                  "via": {
                    "type": "string"
                  },
                  "x-amz-cf-pop": {
                    "type": "string"
                  },
                  "x-amz-cf-id": {
                    "type": "string"
                  }
                }
              },
              "body": {
                "type": "object",
                "properties": {
                  "images": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string"
                        },
                        "allowed_use": {
                          "type": "object",
                          "properties": {
                            "how_can_i_use_it": {
                              "type": "string"
                            },
                            "release_info": {
                              "type": "string"
                            },
                            "usage_restrictions": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            }
                          }
                        },
                        "artist": {
                          "type": "string"
                        },
                        "artist_title": {
                          "type": "string"
                        },
                        "asset_family": {
                          "type": "string"
                        },
                        "call_for_image": {
                          "type": "boolean"
                        },
                        "caption": {
                          "type": [
                            "null",
                            "string"
                          ]
                        },
                        "city": {
                          "type": "string"
                        },
                        "collection_code": {
                          "type": "string"
                        },
                        "collection_id": {
                          "type": "number"
                        },
                        "collection_name": {
                          "type": "string"
                        },
                        "color_type": {
                          "type": [
                            "string",
                            "null"
                          ]
                        },
                        "copyright": {
                          "type": [
                            "null",
                            "string"
                          ]
                        },
                        "country": {
                          "type": "string"
                        },
                        "credit_line": {
                          "type": "string"
                        },
                        "date_created": {
                          "type": "string"
                        },
                        "date_submitted": {
                          "type": "string"
                        },
                        "download_sizes": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "bytes": {
                                "type": "number"
                              },
                              "height": {
                                "type": "number"
                              },
                              "media_type": {
                                "type": "string"
                              },
                              "name": {
                                "type": "string"
                              },
                              "width": {
                                "type": "number"
                              },
                              "dpi": {
                                "type": "number"
                              }
                            },
                            "required": [
                              "bytes",
                              "height",
                              "media_type",
                              "name",
                              "width",
                              "dpi"
                            ]
                          }
                        },
                        "editorial_segments": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        },
                        "event_ids": {
                          "type": "array",
                          "items": {
                            "type": "number"
                          }
                        },
                        "graphical_style": {
                          "type": "string"
                        },
                        "keywords": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "keyword_id": {
                                "type": "string"
                              },
                              "text": {
                                "type": "string"
                              },
                              "type": {
                                "type": "string"
                              },
                              "relevance": {
                                "type": [
                                  "null",
                                  "number"
                                ]
                              }
                            },
                            "required": [
                              "keyword_id",
                              "text",
                              "type",
                              "relevance"
                            ]
                          }
                        },
                        "license_model": {
                          "type": "string"
                        },
                        "max_dimensions": {
                          "type": "object",
                          "properties": {
                            "height": {
                              "type": "number"
                            },
                            "width": {
                              "type": "number"
                            }
                          }
                        },
                        "object_name": {
                          "type": "string"
                        },
                        "orientation": {
                          "type": "string"
                        },
                        "prestige": {
                          "type": "boolean"
                        },
                        "product_types": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        },
                        "quality_rank": {
                          "type": "number"
                        },
                        "referral_destinations": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "site_name": {
                                "type": "string"
                              },
                              "uri": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "site_name",
                              "uri"
                            ]
                          }
                        },
                        "state_province": {
                          "type": "string"
                        },
                        "title": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "id",
                        "allowed_use",
                        "artist",
                        "artist_title",
                        "asset_family",
                        "call_for_image",
                        "caption",
                        "city",
                        "collection_code",
                        "collection_id",
                        "collection_name",
                        "color_type",
                        "copyright",
                        "country",
                        "credit_line",
                        "date_created",
                        "date_submitted",
                        "download_sizes",
                        "editorial_segments",
                        "event_ids",
                        "graphical_style",
                        "keywords",
                        "license_model",
                        "max_dimensions",
                        "object_name",
                        "orientation",
                        "prestige",
                        "product_types",
                        "quality_rank",
                        "referral_destinations",
                        "state_province",
                        "title"
                      ]
                    }
                  },
                  "images_not_found": {
                    "type": "array",
                    "items": {}
                  }
                }
              }
            }
          },
          "error_handling": {},
          "authentication": {
            "group": "697b24cc-2ca7-4478-aba9-b246f13dcd74",
            "title": "Keiffer Getty Prod Testing",
            "service_icon": {
              "icon_type": "url",
              "value": "//s3.amazonaws.com/images.tray.io/artisan/icons/f65f16a201224c76046bc5331abb9a06.png"
            },
            "scopes": [],
            "service_name": "getty",
            "service_version": 2
          },
          "properties": {
            "method": {
              "type": "string",
              "value": "GET"
            },
            "include_raw_body": {
              "type": "boolean",
              "value": false
            },
            "parse_response": {
              "type": "string",
              "value": "true"
            },
            "url": {
              "type": "object",
              "value": {
                "full_url": {
                  "type": "string",
                  "value": "https://api.gettyimages.com/v3/images/"
                }
              }
            },
            "headers": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "Authorization"
                    },
                    "value": {
                      "type": "string",
                      "value": "{$.auth.token_type} {$.auth.access_token}"
                    }
                  }
                }
              ]
            },
            "query_parameters": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "ids"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.json-transformer-2.result"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "fields"
                    },
                    "value": {
                      "type": "string",
                      "value": "detail_set,keywords"
                    }
                  }
                }
              ]
            },
            "body": {
              "type": "object",
              "value": {
                "none": {
                  "type": "null",
                  "value": null
                }
              }
            }
          }
        },
        "storage-1": {
          "title": "Get syncKeyArray",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "get",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Current Run"
            },
            "default_value": {
              "type": "null",
              "value": null
            },
            "key": {
              "type": "string",
              "value": "syncKeyArray-{$.env.solution_instance_id or:'gettySolutionID'}"
            }
          }
        },
        "storage-17": {
          "title": "Get syncKey",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "get",
          "output_schema": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "type": "object",
            "properties": {
              "value": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "keywords": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "artist": {
                      "type": "string"
                    },
                    "id": {
                      "type": "string"
                    },
                    "title": {
                      "type": "string"
                    },
                    "assetType": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "keywords",
                    "artist",
                    "id",
                    "title",
                    "assetType"
                  ]
                }
              }
            }
          },
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Current Run"
            },
            "default_value": {
              "type": "null",
              "value": null
            },
            "key": {
              "type": "jsonpath",
              "value": "$.steps.loop-3.value"
            }
          }
        },
        "script-1": {
          "title": "Remove Sync'd and Unsupported",
          "connector": {
            "name": "script",
            "version": "3.3"
          },
          "operation": "execute",
          "output_schema": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "type": "object",
            "properties": {
              "result": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "keywords": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "content_type": {
                      "type": "string"
                    },
                    "download_url": {
                      "type": "string"
                    },
                    "country_name": {
                      "type": "string"
                    },
                    "description": {
                      "type": [
                        "null",
                        "string"
                      ]
                    },
                    "marketing_text": {
                      "type": "null"
                    },
                    "id": {
                      "type": "number"
                    },
                    "title": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "keywords",
                    "content_type",
                    "download_url",
                    "country_name",
                    "description",
                    "marketing_text",
                    "id",
                    "title"
                  ]
                }
              },
              "console": {
                "type": "array",
                "items": {}
              }
            }
          },
          "error_handling": {},
          "properties": {
            "variables": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "name": {
                      "type": "string",
                      "value": "syncedAssets"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.storage-10.value"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "name": {
                      "type": "string",
                      "value": "fileList"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.getty-4.body.downloads"
                    }
                  }
                }
              ]
            },
            "script": {
              "type": "string",
              "value": "exports.step = function(input) {\n    let fileList = input.fileList\n    const syncedAssets = input.syncedAssets\n    for (var i = 0; i < fileList.length; i++) {\n        var obj = fileList[i];\n    \n        if (syncedAssets.indexOf(obj.id) !== -1) {\n            fileList.splice(i, 1);\n            i--;\n        }\n    }\n    return fileList\n    }"
            },
            "file_output": {
              "type": "boolean",
              "value": false
            }
          }
        },
        "storage-19": {
          "title": "Inc uploadCount",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "atomic_increment",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Account"
            },
            "key": {
              "type": "string",
              "value": "gettyUploadCount-{$.env.solution_instance_id or:'testGetty'}"
            },
            "value_to_add": {
              "type": "integer",
              "value": 1
            }
          }
        },
        "loop-3": {
          "title": "Loop syncKeyArray",
          "connector": {
            "name": "loop",
            "version": "1.3"
          },
          "operation": "loop_array",
          "output_schema": {
            "type": "object",
            "$schema": "http://json-schema.org/draft-03/schema",
            "id": "http://jsonschema.net",
            "additionalProperties": false,
            "properties": {
              "value": {
                "type": [
                  "object",
                  "array",
                  "string",
                  "number",
                  "boolean",
                  "null"
                ],
                "title": "Value",
                "id": "http://jsonschema.net/value"
              },
              "count": {
                "type": "number",
                "id": "http://jsonschema.net/total"
              },
              "index": {
                "type": "number",
                "id": "http://jsonschema.net/index"
              },
              "is_first": {
                "type": "boolean",
                "id": "http://jsonschema.net/is_first"
              },
              "is_last": {
                "type": "boolean",
                "id": "http://jsonschema.net/is_last"
              }
            }
          },
          "error_handling": {},
          "properties": {
            "array": {
              "type": "jsonpath",
              "value": "$.steps.storage-1.value"
            }
          }
        },
        "storage-2": {
          "title": "Init syncList by Key",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "get",
          "output_schema": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "type": "object",
            "properties": {
              "value": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "keywords": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "content_type": {
                      "type": "string"
                    },
                    "download_url": {
                      "type": "string"
                    },
                    "country_name": {
                      "type": "string"
                    },
                    "description": {
                      "type": "null"
                    },
                    "marketing_text": {
                      "type": "null"
                    },
                    "id": {
                      "type": "number"
                    },
                    "title": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "keywords",
                    "content_type",
                    "download_url",
                    "country_name",
                    "description",
                    "marketing_text",
                    "id",
                    "title"
                  ]
                }
              }
            }
          },
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Current Run"
            },
            "key": {
              "type": "string",
              "value": "assetsSyncList-{$.env.solution_instance_id or:'adobeSolutionID'}-{$.steps.loop-1.index}"
            },
            "default_value": {
              "type": "array",
              "value": []
            }
          }
        },
        "date-time-helpers-3": {
          "title": "Calc Kill Time",
          "connector": {
            "name": "date-time-helpers",
            "version": "3.0"
          },
          "operation": "plus",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "years": {
              "type": "integer",
              "value": 0
            },
            "months": {
              "type": "integer",
              "value": 0
            },
            "weeks": {
              "type": "integer",
              "value": 0
            },
            "days": {
              "type": "integer",
              "value": 0
            },
            "business_days": {
              "type": "integer",
              "value": 0
            },
            "hours": {
              "type": "integer",
              "value": 1
            },
            "minutes": {
              "type": "integer",
              "value": 50
            },
            "seconds": {
              "type": "integer",
              "value": 0
            },
            "date": {
              "type": "jsonpath",
              "value": "$.steps.date-time-helpers-2.result"
            }
          }
        },
        "delay-2": {
          "title": "Delay",
          "connector": {
            "name": "delay",
            "version": "1.0"
          },
          "operation": "delay",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "time_unit": {
              "type": "string",
              "value": "seconds"
            },
            "delay_value": {
              "type": "jsonpath",
              "value": "$.config.uploadDelay"
            }
          }
        },
        "storage-5": {
          "title": "Get pageCount",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "get",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Current Run"
            },
            "default_value": {
              "type": "null",
              "value": null
            },
            "key": {
              "type": "string",
              "value": "pageCount"
            }
          }
        },
        "boolean-condition-5": {
          "title": "Boolean Condition",
          "connector": {
            "name": "boolean-condition",
            "version": "2.3"
          },
          "operation": "boolean_condition",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "conditions": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "value1": {
                      "type": "jsonpath",
                      "value": "$.steps.date-time-helpers-4.result"
                    },
                    "comparison_type": {
                      "type": "string",
                      "value": "==="
                    },
                    "value2": {
                      "type": "boolean",
                      "value": true
                    }
                  }
                }
              ]
            },
            "strictness": {
              "type": "string",
              "value": "All"
            }
          }
        },
        "math-helpers-3": {
          "title": "Add Page Number",
          "connector": {
            "name": "math-helpers",
            "version": "2.0"
          },
          "operation": "add",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "first_value": {
              "type": "jsonpath",
              "value": "$.steps.storage-5.value"
            },
            "second_value": {
              "value": 1,
              "type": "integer"
            }
          }
        },
        "storage-9": {
          "title": "Save Key to syncKeyArray",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "append_to_list",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Current Run"
            },
            "key": {
              "type": "string",
              "value": "syncKeyArray-{$.env.solution_instance_id or:'gettySolutionID'}"
            },
            "value": {
              "type": "string",
              "value": "assetsSyncList-{$.env.solution_instance_id or:'adobeSolutionID'}-{$.steps.loop-1.index}"
            },
            "create_if_missing": {
              "value": true,
              "type": "boolean"
            }
          }
        },
        "boolean-condition-2": {
          "title": "List != 0 ? Sync to Bynder",
          "connector": {
            "name": "boolean-condition",
            "version": "2.3"
          },
          "operation": "boolean_condition",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "conditions": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "value1": {
                      "type": "jsonpath",
                      "value": "$.steps.list-helpers-3.result"
                    },
                    "comparison_type": {
                      "type": "string",
                      "value": "!=="
                    },
                    "value2": {
                      "type": "number",
                      "value": 0
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "comparison_type": {
                      "type": "string",
                      "value": "<"
                    },
                    "is_case_sensitive": {
                      "type": "boolean",
                      "value": false
                    },
                    "value1": {
                      "type": "jsonpath",
                      "value": "$.steps.storage-5.value"
                    },
                    "value2": {
                      "type": "number",
                      "value": 500
                    }
                  }
                }
              ]
            },
            "strictness": {
              "type": "string",
              "value": "All"
            }
          }
        },
        "script-3": {
          "title": "Check Key Size",
          "connector": {
            "name": "script",
            "version": "3.3"
          },
          "operation": "execute",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "variables": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "name": {
                      "type": "string",
                      "value": "syncKey"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.storage-2.value"
                    }
                  }
                }
              ]
            },
            "script": {
              "type": "string",
              "value": "// You can reference the input variables using input.NAME\n// Parsed JSON files could be referenced as fileInput\nexports.step = function(input, fileInput) {\n\treturn JSON.stringify(input.syncKey).length;\n};"
            },
            "file_output": {
              "type": "boolean",
              "value": false
            }
          }
        },
        "list-helpers-3": {
          "title": "Count Licensed Assets",
          "connector": {
            "name": "list-helpers",
            "version": "2.1"
          },
          "operation": "count_items",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "list": {
              "type": "jsonpath",
              "value": "$.steps.getty-4.body.downloads"
            }
          }
        },
        "call-workflow-2": {
          "title": "Call Workflow",
          "connector": {
            "name": "call-workflow",
            "version": "2.0"
          },
          "operation": "fire_and_forget",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "workflow_id": {
              "type": "string",
              "value": "93b58877-77ca-4d2d-96d7-aab9ffd29940"
            },
            "trigger_input": {
              "type": "object",
              "value": {
                "metadata": {
                  "type": "jsonpath",
                  "value": "$.steps.script-4.result"
                },
                "downloadURI": {
                  "type": "jsonpath",
                  "value": "$.steps.getty-2.body.uri"
                },
                "assetData": {
                  "type": "jsonpath",
                  "value": "$.steps.loop-4.value"
                },
                "solutionData": {
                  "type": "jsonpath",
                  "value": "$.steps.storage-4.value"
                }
              }
            }
          }
        },
        "json-transformer-2": {
          "title": "Build Asset Array",
          "connector": {
            "name": "json-transformer",
            "version": "1.0"
          },
          "operation": "transform",
          "output_schema": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "type": "object",
            "properties": {
              "result": {
                "type": "array",
                "items": {
                  "type": "number"
                }
              }
            }
          },
          "error_handling": {},
          "properties": {
            "data": {
              "type": "object",
              "value": {
                "result": {
                  "type": "jsonpath",
                  "value": "$.steps.json-transformer-1.result"
                }
              }
            },
            "query": {
              "type": "string",
              "value": "[result.id]"
            }
          }
        },
        "storage-3": {
          "title": "Init pageCount",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "set",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Current Run"
            },
            "key": {
              "type": "string",
              "value": "pageCount"
            },
            "value": {
              "type": "number",
              "value": 1
            }
          }
        },
        "break-loop-4": {
          "title": "Break Loop",
          "connector": {
            "name": "break-loop",
            "version": "1.1"
          },
          "operation": "break",
          "output_schema": {},
          "error_handling": {},
          "properties": {}
        },
        "storage-8": {
          "title": "Finalize List by Key",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "set",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Current Run"
            },
            "key": {
              "type": "string",
              "value": "assetsSyncList-{$.env.solution_instance_id or:'adobeSolutionID'}-{$.steps.loop-1.index}"
            },
            "value": {
              "type": "jsonpath",
              "value": "$.steps.list-helpers-4.result"
            }
          }
        },
        "break-loop-3": {
          "title": "Break All",
          "connector": {
            "name": "break-loop",
            "version": "1.1"
          },
          "operation": "break",
          "output_schema": {},
          "error_handling": {},
          "properties": {}
        },
        "boolean-condition-4": {
          "title": "Boolean Condition",
          "connector": {
            "name": "boolean-condition",
            "version": "2.3"
          },
          "operation": "boolean_condition",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "conditions": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "value1": {
                      "type": "jsonpath",
                      "value": "$.steps.logic-helpers-1.result"
                    },
                    "comparison_type": {
                      "type": "string",
                      "value": "==="
                    },
                    "value2": {
                      "type": "boolean",
                      "value": true
                    }
                  }
                }
              ]
            },
            "strictness": {
              "type": "string",
              "value": "All"
            }
          }
        },
        "loop-1": {
          "title": "Loop Until Broken",
          "connector": {
            "name": "loop",
            "version": "1.3"
          },
          "operation": "loop_forever",
          "output_schema": {
            "type": "object",
            "$schema": "http://json-schema.org/draft-03/schema",
            "id": "http://jsonschema.net",
            "properties": {
              "index": {
                "type": "number",
                "id": "http://jsonschema.net/index"
              }
            }
          },
          "error_handling": {},
          "properties": {}
        },
        "storage-4": {
          "title": "Get solutionData",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "get",
          "output_schema": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "type": "object",
            "properties": {
              "value": {
                "type": "object",
                "properties": {
                  "transformerString": {
                    "type": "string"
                  },
                  "queryObject": {
                    "type": "object",
                    "properties": {
                      "country": {
                        "type": "string"
                      },
                      "copyright": {
                        "type": "string"
                      },
                      "keywords": {
                        "type": "string"
                      },
                      "artist": {
                        "type": "string"
                      },
                      "city": {
                        "type": "string"
                      },
                      "id": {
                        "type": "string"
                      },
                      "title": {
                        "type": "string"
                      }
                    }
                  },
                  "brandID": {
                    "type": "string"
                  },
                  "staticMeta": {
                    "type": "object",
                    "properties": {
                      "731047A5-E954-44ED-AD6371E4A48E8687": {
                        "type": "string"
                      },
                      "77B98683-A921-4C0C-B0542AB4729B97EE": {
                        "type": "string"
                      },
                      "6C2EA67D-9A96-4769-A743413AD87B32A9": {
                        "type": "string"
                      }
                    }
                  },
                  "dateFrom": {
                    "type": "string"
                  },
                  "metadataMap": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "value": {
                          "type": "string"
                        },
                        "key": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "value",
                        "key"
                      ]
                    }
                  },
                  "mapObject": {
                    "type": "object",
                    "properties": {
                      "metaproperty.1734230F-A766-4924-B1C2EAB4A1469D2C": {
                        "type": "string"
                      },
                      "metaproperty.2F2DB080-C4FB-4758-92B3DCB85ED6B94C": {
                        "type": "string"
                      },
                      "metaproperty.0A36E145-36E2-4141-A2D18C6BFE0B4B93": {
                        "type": "string"
                      },
                      "metaproperty.D1F45D8B-B872-4322-B4A4A6F6517E1B7F": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          },
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Account"
            },
            "key": {
              "type": "string",
              "value": "gettyWebdamSolutionData-{$.env.solution_instance_id or:'Getty'}"
            },
            "default_value": {
              "type": "null",
              "value": null
            }
          }
        },
        "storage-11": {
          "title": "Get errorList",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "get",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Account"
            },
            "key": {
              "type": "string",
              "value": "gettyWebdamErrorList-{$.env.solution_instance_id or:'adobeSolutionID'}"
            },
            "default_value": {
              "type": "null",
              "value": null
            }
          }
        },
        "loop-5": {
          "title": "Loop Until Available",
          "connector": {
            "name": "loop",
            "version": "1.3"
          },
          "operation": "loop_forever",
          "output_schema": {
            "type": "object",
            "$schema": "http://json-schema.org/draft-03/schema",
            "id": "http://jsonschema.net",
            "properties": {
              "index": {
                "type": "number",
                "id": "http://jsonschema.net/index"
              }
            }
          },
          "error_handling": {},
          "properties": {}
        },
        "storage-15": {
          "title": "Save Key to syncKeyArray",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "append_to_list",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Current Run"
            },
            "key": {
              "type": "string",
              "value": "syncKeyArray-{$.env.solution_instance_id or:'gettySolutionID'}"
            },
            "value": {
              "type": "string",
              "value": "assetsSyncList-{$.env.solution_instance_id or:'adobeSolutionID'}-{$.steps.loop-1.index}"
            },
            "create_if_missing": {
              "value": true,
              "type": "boolean"
            }
          }
        },
        "storage-7": {
          "title": "Load Asset List by Key",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "get",
          "output_schema": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "type": "object",
            "properties": {
              "value": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "keywords": {
                      "type": "array",
                      "items": {
                        "oneOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "string"
                          },
                          {
                            "type": "string"
                          },
                          {
                            "type": "string"
                          },
                          {
                            "type": "string"
                          },
                          {
                            "type": "string"
                          },
                          {
                            "type": "string"
                          },
                          {
                            "type": "string"
                          },
                          {
                            "type": "string"
                          },
                          {
                            "type": "string"
                          },
                          {
                            "type": "string"
                          },
                          {
                            "type": "string"
                          },
                          {
                            "type": "string"
                          },
                          {
                            "type": "string"
                          },
                          {
                            "type": "string"
                          },
                          {
                            "type": "string"
                          },
                          {
                            "type": "string"
                          },
                          {
                            "type": "string"
                          },
                          {
                            "type": "string"
                          },
                          {
                            "type": "string"
                          },
                          {
                            "type": "string"
                          },
                          {
                            "type": "string"
                          },
                          {
                            "type": "string"
                          },
                          {
                            "type": "string"
                          },
                          {
                            "type": "string"
                          },
                          {
                            "type": "string"
                          },
                          {
                            "type": "string"
                          },
                          {
                            "type": "string"
                          },
                          {
                            "type": "string"
                          },
                          {
                            "type": "string"
                          },
                          {
                            "type": "string"
                          },
                          {
                            "type": "string"
                          },
                          {
                            "type": "number"
                          },
                          {
                            "type": "string"
                          }
                        ]
                      }
                    },
                    "content_type": {
                      "type": "string"
                    },
                    "download_url": {
                      "type": "string"
                    },
                    "country_name": {
                      "type": "string"
                    },
                    "description": {
                      "type": "null"
                    },
                    "marketing_text": {
                      "type": "null"
                    },
                    "id": {
                      "type": "number"
                    },
                    "title": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "keywords",
                    "content_type",
                    "download_url",
                    "country_name",
                    "description",
                    "marketing_text",
                    "id",
                    "title"
                  ]
                }
              }
            }
          },
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Current Run"
            },
            "key": {
              "type": "string",
              "value": "assetsSyncList-{$.env.solution_instance_id or:'adobeSolutionID'}-{$.steps.loop-1.index}"
            },
            "default_value": {
              "type": "array",
              "value": []
            }
          }
        },
        "boolean-condition-7": {
          "title": "Boolean Condition",
          "connector": {
            "name": "boolean-condition",
            "version": "2.3"
          },
          "operation": "boolean_condition",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "conditions": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "value1": {
                      "type": "jsonpath",
                      "value": "$.steps.storage-18.value"
                    },
                    "comparison_type": {
                      "type": "string",
                      "value": ">="
                    },
                    "value2": {
                      "type": "jsonpath",
                      "value": "$.config.uploadLimiter"
                    }
                  }
                }
              ]
            },
            "strictness": {
              "type": "string",
              "value": "All"
            }
          }
        },
        "storage-10": {
          "title": "Get syncFile",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "get",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Account"
            },
            "key": {
              "type": "string",
              "value": "gettyWebdamSyncFile-{$.env.solution_instance_id or:'Getty'}"
            },
            "default_value": {
              "type": "array",
              "value": []
            }
          }
        },
        "break-loop-2": {
          "title": "Break Loop 2",
          "connector": {
            "name": "break-loop",
            "version": "1.1"
          },
          "operation": "break",
          "output_schema": {},
          "error_handling": {},
          "properties": {}
        },
        "storage-14": {
          "title": "Finalize List by Key",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "set",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Current Run"
            },
            "key": {
              "type": "string",
              "value": "assetsSyncList-{$.env.solution_instance_id or:'adobeSolutionID'}-{$.steps.loop-1.index}"
            },
            "value": {
              "type": "jsonpath",
              "value": "$.steps.list-helpers-5.result"
            }
          }
        },
        "logic-helpers-1": {
          "title": "Logic Test for Sync",
          "connector": {
            "name": "logic-helpers",
            "version": "2.1"
          },
          "operation": "evaluation",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "initial_condition": {
              "type": "object",
              "value": {
                "not": {
                  "type": "boolean",
                  "value": false
                },
                "value1": {
                  "type": "jsonpath",
                  "value": "$.steps.loop-4.value.assetType"
                },
                "condition": {
                  "type": "string",
                  "value": "==="
                },
                "value2": {
                  "type": "string",
                  "value": "Image"
                }
              }
            },
            "initial_not": {
              "type": "boolean",
              "value": false
            },
            "further_conditions": {
              "type": "array",
              "value": []
            },
            "further_groups": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "initial_condition": {
                      "type": "object",
                      "value": {
                        "not": {
                          "type": "boolean",
                          "value": false
                        },
                        "value2": {
                          "type": "string",
                          "value": "Video"
                        },
                        "value1": {
                          "type": "jsonpath",
                          "value": "$.steps.loop-4.value.assetType"
                        },
                        "condition": {
                          "type": "string",
                          "value": "==="
                        }
                      }
                    },
                    "group_not": {
                      "type": "boolean",
                      "value": false
                    },
                    "conjunction": {
                      "type": "string",
                      "value": "OR"
                    },
                    "further_conditions": {
                      "type": "array",
                      "value": [
                        {
                          "type": "object",
                          "value": {
                            "not": {
                              "type": "boolean",
                              "value": false
                            },
                            "conjunction": {
                              "type": "string",
                              "value": "AND"
                            },
                            "value1": {
                              "type": "jsonpath",
                              "value": "$.config.syncVideo"
                            },
                            "condition": {
                              "type": "string",
                              "value": "==="
                            },
                            "value2": {
                              "type": "boolean",
                              "value": true
                            }
                          }
                        }
                      ]
                    }
                  }
                }
              ]
            }
          }
        },
        "date-time-helpers-5": {
          "title": "Format Time for Getty Call",
          "connector": {
            "name": "date-time-helpers",
            "version": "3.0"
          },
          "operation": "format",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "timezone": {
              "type": "string",
              "value": "UTC"
            },
            "date": {
              "type": "jsonpath",
              "value": "$.steps.date-time-helpers-2.result"
            },
            "format": {
              "type": "object",
              "value": {
                "existing_format": {
                  "type": "string",
                  "value": "MM/DD/YYYY"
                }
              }
            }
          }
        },
        "list-helpers-4": {
          "title": "Remove Duplicates",
          "connector": {
            "name": "list-helpers",
            "version": "2.1"
          },
          "operation": "remove_duplicates",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "list": {
              "type": "jsonpath",
              "value": "$.steps.storage-7.value"
            }
          }
        },
        "loop-4": {
          "title": "Loop syncKey",
          "connector": {
            "name": "loop",
            "version": "1.3"
          },
          "operation": "loop_array",
          "output_schema": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "type": "object",
            "properties": {
              "value": {
                "type": "object",
                "properties": {
                  "keywords": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "artist": {
                    "type": "string"
                  },
                  "id": {
                    "type": "string"
                  },
                  "title": {
                    "type": "string"
                  },
                  "assetType": {
                    "type": "string"
                  }
                },
                "required": [
                  "keywords",
                  "artist",
                  "id",
                  "title",
                  "assetType"
                ]
              },
              "count": {
                "type": "number"
              },
              "index": {
                "type": "number"
              },
              "is_first": {
                "type": "boolean"
              },
              "is_last": {
                "type": "boolean"
              },
              "branch_name": {
                "type": "string"
              }
            }
          },
          "error_handling": {},
          "properties": {
            "array": {
              "type": "jsonpath",
              "value": "$.steps.storage-17.value"
            }
          }
        },
        "storage-13": {
          "title": "Load Asset List by Key",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "get",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Current Run"
            },
            "key": {
              "type": "string",
              "value": "assetsSyncList-{$.env.solution_instance_id or:'adobeSolutionID'}-{$.steps.loop-1.index}"
            },
            "default_value": {
              "type": "array",
              "value": []
            }
          }
        },
        "storage-18": {
          "title": "Check uploadCount",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "get",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Account"
            },
            "default_value": {
              "type": "null",
              "value": null
            },
            "key": {
              "type": "string",
              "value": "gettyUploadCount-{$.env.solution_instance_id or:'testGetty'}"
            }
          }
        },
        "boolean-condition-6": {
          "title": "Boolean Condition",
          "connector": {
            "name": "boolean-condition",
            "version": "2.3"
          },
          "operation": "boolean_condition",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "conditions": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "value1": {
                      "type": "jsonpath",
                      "value": "$.steps.storage-16.value"
                    },
                    "comparison_type": {
                      "type": "string",
                      "value": ">"
                    },
                    "value2": {
                      "type": "jsonpath",
                      "value": "$.config.uploadLimiter"
                    }
                  }
                }
              ]
            },
            "strictness": {
              "type": "string",
              "value": "All"
            }
          }
        },
        "date-time-helpers-1": {
          "title": "Get Current Time",
          "connector": {
            "name": "date-time-helpers",
            "version": "3.0"
          },
          "operation": "current_timestamp",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "timezone": {
              "type": "string",
              "value": "UTC"
            },
            "format": {
              "type": "object",
              "value": {
                "existing_format": {
                  "type": "string",
                  "value": "X"
                }
              }
            }
          }
        },
        "loop-2": {
          "title": "Loop Collection",
          "connector": {
            "name": "loop",
            "version": "1.3"
          },
          "operation": "loop_forever",
          "output_schema": {
            "type": "object",
            "$schema": "http://json-schema.org/draft-03/schema",
            "id": "http://jsonschema.net",
            "properties": {
              "index": {
                "type": "number",
                "id": "http://jsonschema.net/index"
              }
            }
          },
          "error_handling": {},
          "properties": {}
        },
        "getty-2": {
          "title": "Getty Org Downloads",
          "connector": {
            "name": "getty",
            "version": "2.0"
          },
          "operation": "raw_http_request",
          "output_schema": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "type": "object",
            "properties": {
              "headers": {
                "type": "object",
                "properties": {
                  "content-type": {
                    "type": "string"
                  },
                  "content-length": {
                    "type": "string"
                  },
                  "connection": {
                    "type": "string"
                  },
                  "date": {
                    "type": "string"
                  },
                  "x-amzn-requestid": {
                    "type": "string"
                  },
                  "gi-coordination-id": {
                    "type": "string"
                  },
                  "access-control-allow-origin": {
                    "type": "string"
                  },
                  "strict-transport-security": {
                    "type": "string"
                  },
                  "x-amzn-remapped-content-length": {
                    "type": "string"
                  },
                  "content-language": {
                    "type": "string"
                  },
                  "x-amzn-remapped-connection": {
                    "type": "string"
                  },
                  "x-amz-apigw-id": {
                    "type": "string"
                  },
                  "cache-control": {
                    "type": "string"
                  },
                  "x-amzn-remapped-server": {
                    "type": "string"
                  },
                  "x-amzn-remapped-date": {
                    "type": "string"
                  },
                  "x-cache": {
                    "type": "string"
                  },
                  "via": {
                    "type": "string"
                  },
                  "x-amz-cf-pop": {
                    "type": "string"
                  },
                  "x-amz-cf-id": {
                    "type": "string"
                  }
                }
              },
              "body": {
                "type": "object",
                "properties": {
                  "uri": {
                    "type": "string"
                  }
                }
              }
            }
          },
          "error_handling": {},
          "authentication": {
            "group": "697b24cc-2ca7-4478-aba9-b246f13dcd74",
            "title": "Keiffer Getty Prod Testing",
            "service_icon": {
              "icon_type": "url",
              "value": "//s3.amazonaws.com/images.tray.io/artisan/icons/f65f16a201224c76046bc5331abb9a06.png"
            },
            "scopes": [],
            "service_name": "getty",
            "service_version": 2
          },
          "properties": {
            "method": {
              "type": "string",
              "value": "POST"
            },
            "include_raw_body": {
              "type": "boolean",
              "value": false
            },
            "parse_response": {
              "type": "string",
              "value": "true"
            },
            "url": {
              "type": "object",
              "value": {
                "full_url": {
                  "type": "string",
                  "value": "https://api.gettyimages.com/v3/downloads/images/{$.steps.loop-4.value.id}"
                }
              }
            },
            "headers": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "Authorization"
                    },
                    "value": {
                      "type": "string",
                      "value": "{$.auth.token_type} {$.auth.access_token}"
                    }
                  }
                }
              ]
            },
            "query_parameters": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "auto_download"
                    },
                    "value": {
                      "type": "string",
                      "value": "false"
                    }
                  }
                }
              ]
            },
            "body": {
              "type": "object",
              "value": {
                "none": {
                  "type": "null",
                  "value": null
                }
              }
            }
          }
        },
        "break-loop-1": {
          "title": "Break Loop 1 if List = 0",
          "connector": {
            "name": "break-loop",
            "version": "1.1"
          },
          "operation": "break",
          "output_schema": {},
          "error_handling": {},
          "properties": {}
        },
        "storage-6": {
          "title": "Save Asset Data to Key",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "append_to_list",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Current Run"
            },
            "key": {
              "type": "string",
              "value": "assetsSyncList-{$.env.solution_instance_id or:'adobeSolutionID'}-{$.steps.loop-1.index}"
            },
            "value": {
              "type": "jsonpath",
              "value": "$.steps.script-2.result"
            },
            "create_if_missing": {
              "value": true,
              "type": "boolean"
            }
          }
        },
        "script-2": {
          "title": "Merge syncList with Metadata",
          "connector": {
            "name": "script",
            "version": "3.3"
          },
          "operation": "execute",
          "output_schema": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "type": "object",
            "properties": {
              "result": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "number"
                    },
                    "title": {
                      "type": "string"
                    },
                    "keywords": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "download_url": {
                      "type": "string"
                    },
                    "content_type": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "id",
                    "title",
                    "keywords",
                    "download_url",
                    "content_type"
                  ]
                }
              },
              "console": {
                "type": "array",
                "items": {}
              }
            }
          },
          "error_handling": {},
          "properties": {
            "variables": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "name": {
                      "type": "string",
                      "value": "assetList"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.json-transformer-1.result"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "name": {
                      "type": "string",
                      "value": "metadata"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.steps.json-transformer-3.result"
                    }
                  }
                }
              ]
            },
            "script": {
              "type": "string",
              "value": "exports.step = function(input) {\n\tconst assetList = input.assetList\n\tconst metadata = input.metadata\n\tconst mergeById = (assetList, metadata) =>\n\t\tmetadata.map(itm => ({\n\t\t\t...assetList.find((item) => (item.id === itm.id) && item),\n\t\t\t...itm\n\t\t}));\n\treturn mergeById(assetList, metadata)\n\t}"
            },
            "file_output": {
              "type": "boolean",
              "value": false
            }
          }
        },
        "list-helpers-5": {
          "title": "Remove Duplicates",
          "connector": {
            "name": "list-helpers",
            "version": "2.1"
          },
          "operation": "remove_duplicates",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "list": {
              "type": "jsonpath",
              "value": "$.steps.storage-13.value"
            }
          }
        },
        "boolean-condition-3": {
          "title": "All Removed ?  GoTo Next",
          "connector": {
            "name": "boolean-condition",
            "version": "2.3"
          },
          "operation": "boolean_condition",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "conditions": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "value1": {
                      "type": "jsonpath",
                      "value": "$.steps.script-1.result"
                    },
                    "comparison_type": {
                      "type": "string",
                      "value": "==="
                    },
                    "value2": {
                      "type": "array",
                      "value": []
                    }
                  }
                }
              ]
            },
            "strictness": {
              "type": "string",
              "value": "All"
            }
          }
        },
        "date-time-helpers-2": {
          "title": "Get Current Time",
          "connector": {
            "name": "date-time-helpers",
            "version": "3.0"
          },
          "operation": "current_timestamp",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "format": {
              "type": "object",
              "value": {
                "existing_format": {
                  "type": "string",
                  "value": "X"
                }
              }
            },
            "timezone": {
              "type": "string",
              "value": "UTC"
            }
          }
        },
        "json-transformer-1": {
          "title": "Compactify Asset List",
          "connector": {
            "name": "json-transformer",
            "version": "1.0"
          },
          "operation": "transform",
          "output_schema": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "type": "object",
            "properties": {
              "result": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "title": {
                      "type": "string"
                    },
                    "download_url": {
                      "type": "string"
                    },
                    "id": {
                      "type": "number"
                    },
                    "content_type": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "title",
                    "download_url",
                    "id",
                    "content_type"
                  ]
                }
              }
            }
          },
          "error_handling": {},
          "properties": {
            "data": {
              "type": "object",
              "value": {
                "result": {
                  "type": "jsonpath",
                  "value": "$.steps.script-1.result"
                }
              }
            },
            "query": {
              "type": "string",
              "value": "[result.{\n    \"id\": id,\n    \"assetType\": asset_type\n}]"
            }
          }
        },
        "trigger": {
          "title": "Callable Trigger",
          "connector": {
            "name": "callable-trigger",
            "version": "2.0"
          },
          "operation": "trigger",
          "output_schema": {},
          "error_handling": {},
          "properties": {}
        }
      },
      "dependencies": [
        {
          "id": "93b58877-77ca-4d2d-96d7-aab9ffd29940",
          "name": "[Getty - Webdam] Webdam Uploader"
        }
      ]
    },
    {
      "id": "e7aa88b4-7a17-4bf0-af00-63ecc4401e19",
      "created": "2023-04-12T18:14:44.968137Z",
      "workspace_id": "139e4592-3b78-46ad-885b-bc64d04d3bed",
      "project_id": "e328e1a2-7c42-4337-988f-1b85a156113f",
      "group": "63a76f67-9ec9-49ac-966b-4adcc9f4e277",
      "creator": "c0fb1638-958b-4aa0-a664-c3effbe736a5",
      "version": {
        "id": "946d54ae-bb83-44e2-a113-051b92e3c9bd",
        "created": "2023-04-24T19:54:38.170771Z"
      },
      "title": "[Getty - Webdam] Initialize",
      "enabled": false,
      "tags": [],
      "settings": {
        "config": {
          "dateFrom": "2022-11-30",
          "orgDownloads": "false",
          "syncVideo": false,
          "metadataMap": [],
          "staticMapInput": [],
          "dataMapInput": {},
          "uploadFolder": 0,
          "uploadDelay": 10,
          "uploadLimiter": 12,
          "chunkSize": 67108864,
          "chunkLength": 10
        },
        "input_schema": {},
        "output_schema": {}
      },
      "steps_structure": [
        {
          "name": "trigger",
          "type": "normal",
          "content": {}
        },
        {
          "name": "storage-1",
          "type": "normal",
          "content": {}
        },
        {
          "name": "boolean-condition-6",
          "type": "branch",
          "content": {
            "true": [
              {
                "name": "storage-7",
                "type": "normal",
                "content": {}
              }
            ],
            "false": []
          }
        },
        {
          "name": "storage-10",
          "type": "normal",
          "content": {}
        },
        {
          "name": "script-1",
          "type": "normal",
          "content": {}
        },
        {
          "name": "getty-4",
          "type": "normal",
          "content": {}
        },
        {
          "name": "json-transformer-1",
          "type": "normal",
          "content": {}
        },
        {
          "name": "text-helpers-1",
          "type": "normal",
          "content": {}
        },
        {
          "name": "date-time-helpers-1",
          "type": "normal",
          "content": {}
        },
        {
          "name": "date-time-helpers-2",
          "type": "normal",
          "content": {}
        },
        {
          "name": "boolean-condition-1",
          "type": "branch",
          "content": {
            "true": [
              {
                "name": "storage-3",
                "type": "normal",
                "content": {}
              }
            ],
            "false": [
              {
                "name": "storage-6",
                "type": "normal",
                "content": {}
              }
            ]
          }
        },
        {
          "name": "storage-9",
          "type": "normal",
          "content": {}
        },
        {
          "name": "storage-2",
          "type": "normal",
          "content": {}
        },
        {
          "name": "storage-5",
          "type": "normal",
          "content": {}
        },
        {
          "name": "webdam-1",
          "type": "branch",
          "content": {
            "error": [
              {
                "name": "boolean-condition-2",
                "type": "branch",
                "content": {
                  "true": [
                    {
                      "name": "webdam-2",
                      "type": "normal",
                      "content": {}
                    },
                    {
                      "name": "storage-4",
                      "type": "normal",
                      "content": {}
                    }
                  ],
                  "false": [
                    {
                      "name": "terminate-2",
                      "type": "normal",
                      "content": {}
                    }
                  ]
                }
              }
            ],
            "success": []
          }
        },
        {
          "name": "storage-8",
          "type": "normal",
          "content": {}
        },
        {
          "name": "getty-3",
          "type": "normal",
          "content": {}
        },
        {
          "name": "getty-5",
          "type": "normal",
          "content": {}
        },
        {
          "name": "getty-1",
          "type": "normal",
          "content": {}
        },
        {
          "name": "getty-2",
          "type": "normal",
          "content": {}
        },
        {
          "name": "call-workflow-1",
          "type": "normal",
          "content": {}
        }
      ],
      "steps": {
        "script-1": {
          "title": "Query Constructor",
          "connector": {
            "name": "script",
            "version": "3.3"
          },
          "operation": "execute",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "variables": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "name": {
                      "type": "string",
                      "value": "metadataMap"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.config.metadataMap"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "name": {
                      "type": "string",
                      "value": "staticMapInput"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.config.staticMapInput"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "name": {
                      "type": "string",
                      "value": "fullMapInput"
                    },
                    "value": {
                      "type": "jsonpath",
                      "value": "$.config.dataMapInput"
                    }
                  }
                }
              ]
            },
            "script": {
              "type": "string",
              "value": "// You can reference the input variables using input.NAME\n// Parsed JSON files could be referenced as fileInput\nexports.step = function (input) {\n\n    //remove any null values from the metadata map.  This can happen when someone leaves an empty box in the mapping tool\n    removeNullObject(input.metadataMap).forEach(element => {\n        queryObject[element.key] = element.key;\n    });\n\n    return ({\n        \"transformerString\": `[response.images[$contains(license_model, \"royaltyfree\")].{` + queryBuild(input.metadataMap) + `}]`,\n        queryObject,\n        \"mapObject\": {\n            ...mapBuild(removeNullArray(input.metadataMap))\n        },\n        \"staticMeta\": removeNullObject(input.fullMapInput),\n        \"metadataMap\": removeNullArray(input.metadataMap)\n    })\n};\n\n//create the base queryObject\nconst queryObject = {\n    \"id\": \"id\",\n    \"keywords\": \"[keywords.name, id, 'Getty']\",\n    \"title\": \"title\",\n};\n\n//function to remove null values from input arrays\nconst removeNullArray = function (array) {\n    for (let i = 0; i < array.length; i++) {\n        if (array[i].value === null || array[i].key === null) {\n            array.splice(i, 1);\n            i--;\n        }\n    }\n    return array\n}\n\n//function to remove null values from input objects\nconst removeNullObject = function (obj) {\n    Object.keys(obj).forEach(key => {\n        if (key == 'null') {\n            delete obj[key]\n        } else {\n            const newKey = `${key}`\n            obj[newKey] = obj[key]\n        }\n    })\n    return obj\n}\n\n//function to build map in form of metaproperty.ID:value\nconst mapBuild = function (obj) {\n    let resObj = {}\n    for (let i = 0; i < obj.length; i++) {\n        const keyValue = (`${obj[i].value}`)\n        resObj[keyValue] = obj[i].key\n    }\n    return resObj\n}\n\n//function to create transformer string from config values.  This is used in the compactify metadata step when querying assets from Getty.\n\nconst queryBuild = function (metadataMap) {\n    let transformerString = `\"id\": id,\"keywords\": [keywords.text, id, 'Getty'],\"title\": title`;\n    metadataMap.forEach(element => {\n        if (element.key === 'id') {\n            //skip\n        } else {\n            transformerString = transformerString.concat(`,\"`, element.key, `\":`, element.key)\n        }\n    });\n    return transformerString\n}"
            },
            "file_output": {
              "type": "boolean",
              "value": false
            }
          }
        },
        "storage-2": {
          "title": "Set solutionData",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "set",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Account"
            },
            "key": {
              "type": "string",
              "value": "gettyWebdamSolutionData-{$.env.solution_instance_id or:'Getty'}"
            },
            "value": {
              "type": "object",
              "value": {
                "dateFrom": {
                  "type": "jsonpath",
                  "value": "$.steps.storage-9.value"
                },
                "transformerString": {
                  "type": "jsonpath",
                  "value": "$.steps.script-1.result.transformerString"
                },
                "queryObject": {
                  "type": "jsonpath",
                  "value": "$.steps.script-1.result.queryObject"
                },
                "mapObject": {
                  "type": "jsonpath",
                  "value": "$.steps.script-1.result.mapObject"
                },
                "staticMeta": {
                  "type": "jsonpath",
                  "value": "$.steps.script-1.result.staticMeta"
                },
                "metadataMap": {
                  "type": "jsonpath",
                  "value": "$.steps.script-1.result.metadataMap"
                },
                "uploadFolder": {
                  "type": "jsonpath",
                  "value": "$.config.uploadFolder"
                }
              }
            }
          }
        },
        "storage-5": {
          "title": "Load solutionData",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "get",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Account"
            },
            "key": {
              "type": "string",
              "value": "gettyWebdamSolutionData-{$.env.solution_instance_id or:'Getty'}"
            },
            "default_value": {
              "type": "null",
              "value": null
            }
          }
        },
        "text-helpers-1": {
          "title": "Format Date",
          "connector": {
            "name": "text-helpers",
            "version": "3.0"
          },
          "operation": "extract_by_regular_expression",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "regex": {
              "type": "string",
              "value": "(\\d{4})-(\\d{2})-(\\d{2})"
            },
            "flags": {
              "type": "object",
              "value": {
                "ignore_case": {
                  "type": "boolean",
                  "value": false
                },
                "multiline": {
                  "type": "boolean",
                  "value": false
                },
                "unicode": {
                  "type": "boolean",
                  "value": false
                },
                "sticky": {
                  "type": "boolean",
                  "value": false
                }
              }
            },
            "text": {
              "type": "jsonpath",
              "value": "$.steps.json-transformer-1.result[0]"
            }
          }
        },
        "getty-5": {
          "title": "Getty Org Purchases",
          "connector": {
            "name": "getty",
            "version": "2.0"
          },
          "operation": "raw_http_request",
          "output_schema": {},
          "error_handling": {
            "strategy": "automatic"
          },
          "authentication": {
            "group": "697b24cc-2ca7-4478-aba9-b246f13dcd74",
            "title": "Keiffer Getty Prod Testing",
            "service_icon": {
              "icon_type": "url",
              "value": "//s3.amazonaws.com/images.tray.io/artisan/icons/f65f16a201224c76046bc5331abb9a06.png"
            },
            "scopes": [],
            "service_name": "getty",
            "service_version": 2
          },
          "properties": {
            "method": {
              "type": "string",
              "value": "GET"
            },
            "include_raw_body": {
              "type": "boolean",
              "value": false
            },
            "parse_response": {
              "type": "string",
              "value": "true"
            },
            "url": {
              "type": "object",
              "value": {
                "full_url": {
                  "type": "string",
                  "value": "https://api.gettyimages.com/v3/purchased-assets"
                }
              }
            },
            "headers": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "Authorization"
                    },
                    "value": {
                      "type": "string",
                      "value": "{$.auth.token_type} {$.auth.access_token}"
                    }
                  }
                }
              ]
            },
            "query_parameters": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "company_downloads"
                    },
                    "value": {
                      "type": "string",
                      "value": "true"
                    }
                  }
                }
              ]
            }
          }
        },
        "call-workflow-1": {
          "title": "Call Workflow",
          "connector": {
            "name": "call-workflow",
            "version": "2.0"
          },
          "operation": "fire_and_forget",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "workflow_id": {
              "type": "string",
              "value": "33ade10c-1fba-46c1-9e2f-dea9a64ea11e"
            },
            "trigger_input": {
              "type": "jsonpath",
              "value": "$.steps.storage-8.value"
            }
          }
        },
        "storage-4": {
          "title": "Set solutionData",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "set",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Account"
            },
            "key": {
              "type": "string",
              "value": "gettyWebdamSolutionData-{$.env.solution_instance_id or:'Getty'}"
            },
            "value": {
              "type": "object",
              "value": {
                "dateFrom": {
                  "type": "jsonpath",
                  "value": "$.steps.storage-9.value"
                },
                "transformerString": {
                  "type": "jsonpath",
                  "value": "$.steps.script-1.result.transformerString"
                },
                "queryObject": {
                  "type": "jsonpath",
                  "value": "$.steps.script-1.result.queryObject"
                },
                "mapObject": {
                  "type": "jsonpath",
                  "value": "$.steps.script-1.result.mapObject"
                },
                "staticMeta": {
                  "type": "jsonpath",
                  "value": "$.steps.script-1.result.staticMeta"
                },
                "metadataMap": {
                  "type": "jsonpath",
                  "value": "$.steps.script-1.result.metadataMap"
                },
                "uploadFolder": {
                  "type": "jsonpath",
                  "value": "$.steps.webdam-2.id"
                }
              }
            }
          }
        },
        "boolean-condition-1": {
          "title": "termDate after configDate?",
          "connector": {
            "name": "boolean-condition",
            "version": "2.3"
          },
          "operation": "boolean_condition",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "conditions": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "value1": {
                      "type": "jsonpath",
                      "value": "$.steps.date-time-helpers-2.result"
                    },
                    "comparison_type": {
                      "type": "string",
                      "value": "==="
                    },
                    "value2": {
                      "type": "boolean",
                      "value": true
                    }
                  }
                }
              ]
            },
            "strictness": {
              "type": "string",
              "value": "All"
            }
          }
        },
        "storage-7": {
          "title": "Create syncFile",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "set",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Account"
            },
            "key": {
              "type": "string",
              "value": "gettyWebdamSyncFile-{$.env.solution_instance_id or:'Getty'}"
            },
            "value": {
              "type": "array",
              "value": []
            }
          }
        },
        "getty-4": {
          "title": "Getty Product Call",
          "connector": {
            "name": "getty",
            "version": "2.0"
          },
          "operation": "raw_http_request",
          "output_schema": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "type": "object",
            "properties": {
              "headers": {
                "type": "object",
                "properties": {
                  "content-type": {
                    "type": "string"
                  },
                  "content-length": {
                    "type": "string"
                  },
                  "connection": {
                    "type": "string"
                  },
                  "date": {
                    "type": "string"
                  },
                  "x-amzn-requestid": {
                    "type": "string"
                  },
                  "gi-coordination-id": {
                    "type": "string"
                  },
                  "access-control-allow-origin": {
                    "type": "string"
                  },
                  "strict-transport-security": {
                    "type": "string"
                  },
                  "x-amzn-remapped-content-length": {
                    "type": "string"
                  },
                  "content-language": {
                    "type": "string"
                  },
                  "x-amzn-remapped-connection": {
                    "type": "string"
                  },
                  "x-amz-apigw-id": {
                    "type": "string"
                  },
                  "cache-control": {
                    "type": "string"
                  },
                  "x-amzn-remapped-server": {
                    "type": "string"
                  },
                  "x-amzn-remapped-date": {
                    "type": "string"
                  },
                  "x-cache": {
                    "type": "string"
                  },
                  "via": {
                    "type": "string"
                  },
                  "x-amz-cf-pop": {
                    "type": "string"
                  },
                  "x-amz-cf-id": {
                    "type": "string"
                  }
                }
              },
              "body": {
                "type": "object",
                "properties": {
                  "products": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "application_website": {
                          "type": "string"
                        },
                        "credits_remaining": {
                          "type": "null"
                        },
                        "download_limit": {
                          "type": [
                            "number",
                            "null"
                          ]
                        },
                        "download_limit_duration": {
                          "type": "null"
                        },
                        "download_limit_reset_utc_date": {
                          "type": "null"
                        },
                        "downloads_remaining": {
                          "type": [
                            "number",
                            "null"
                          ]
                        },
                        "expiration_utc_date": {
                          "type": "string"
                        },
                        "id": {
                          "type": "number"
                        },
                        "name": {
                          "type": "null"
                        },
                        "status": {
                          "type": "string"
                        },
                        "type": {
                          "type": "string"
                        },
                        "agreement_name": {
                          "type": [
                            "string",
                            "null"
                          ]
                        },
                        "imagepack_resolution": {
                          "type": "null"
                        }
                      },
                      "required": [
                        "application_website",
                        "credits_remaining",
                        "download_limit",
                        "download_limit_duration",
                        "download_limit_reset_utc_date",
                        "downloads_remaining",
                        "expiration_utc_date",
                        "id",
                        "name",
                        "status",
                        "type",
                        "agreement_name",
                        "imagepack_resolution"
                      ]
                    }
                  }
                }
              }
            }
          },
          "error_handling": {},
          "authentication": {
            "group": "697b24cc-2ca7-4478-aba9-b246f13dcd74",
            "title": "Keiffer Getty Prod Testing",
            "service_icon": {
              "icon_type": "url",
              "value": "//s3.amazonaws.com/images.tray.io/artisan/icons/f65f16a201224c76046bc5331abb9a06.png"
            },
            "scopes": [],
            "service_name": "getty",
            "service_version": 2
          },
          "properties": {
            "method": {
              "type": "string",
              "value": "GET"
            },
            "include_raw_body": {
              "type": "boolean",
              "value": false
            },
            "parse_response": {
              "type": "string",
              "value": "true"
            },
            "url": {
              "type": "object",
              "value": {
                "full_url": {
                  "type": "string",
                  "value": "https://api.gettyimages.com/v3/Products"
                }
              }
            },
            "headers": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "Authorization"
                    },
                    "value": {
                      "type": "string",
                      "value": "{$.auth.token_type} {$.auth.access_token}"
                    }
                  }
                }
              ]
            }
          }
        },
        "getty-1": {
          "title": "Getty Downloads",
          "connector": {
            "name": "getty",
            "version": "2.0"
          },
          "operation": "raw_http_request",
          "output_schema": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "type": "object",
            "properties": {
              "headers": {
                "type": "object",
                "properties": {
                  "content-type": {
                    "type": "string"
                  },
                  "content-length": {
                    "type": "string"
                  },
                  "connection": {
                    "type": "string"
                  },
                  "date": {
                    "type": "string"
                  },
                  "x-amzn-requestid": {
                    "type": "string"
                  },
                  "gi-coordination-id": {
                    "type": "string"
                  },
                  "access-control-allow-origin": {
                    "type": "string"
                  },
                  "strict-transport-security": {
                    "type": "string"
                  },
                  "x-amzn-remapped-content-length": {
                    "type": "string"
                  },
                  "content-language": {
                    "type": "string"
                  },
                  "x-amzn-remapped-connection": {
                    "type": "string"
                  },
                  "x-amz-apigw-id": {
                    "type": "string"
                  },
                  "cache-control": {
                    "type": "string"
                  },
                  "x-amzn-remapped-server": {
                    "type": "string"
                  },
                  "x-amzn-remapped-date": {
                    "type": "string"
                  },
                  "vary": {
                    "type": "string"
                  },
                  "x-cache": {
                    "type": "string"
                  },
                  "via": {
                    "type": "string"
                  },
                  "x-amz-cf-pop": {
                    "type": "string"
                  },
                  "x-amz-cf-id": {
                    "type": "string"
                  }
                }
              },
              "body": {
                "type": "object",
                "properties": {
                  "result_count": {
                    "type": "number"
                  },
                  "downloads": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "date_downloaded": {
                          "type": "string"
                        },
                        "id": {
                          "type": "string"
                        },
                        "asset_type": {
                          "type": "string"
                        },
                        "product_type": {
                          "type": "string"
                        },
                        "thumb_uri": {
                          "type": "string"
                        },
                        "product_id": {
                          "type": "number"
                        },
                        "download_details": {
                          "type": "object",
                          "properties": {
                            "download_notes": {
                              "type": "string"
                            },
                            "project_code": {
                              "type": "string"
                            }
                          }
                        },
                        "download_source": {
                          "type": "string"
                        },
                        "user": {
                          "type": "object",
                          "properties": {
                            "username": {
                              "type": "string"
                            },
                            "first_name": {
                              "type": "string"
                            },
                            "last_name": {
                              "type": "string"
                            }
                          }
                        },
                        "size_name": {
                          "type": "string"
                        },
                        "dimensions": {
                          "type": "object",
                          "properties": {
                            "width": {
                              "type": "number"
                            },
                            "height": {
                              "type": "number"
                            },
                            "dpi": {
                              "type": "number"
                            }
                          }
                        },
                        "agreement_name": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "date_downloaded",
                        "id",
                        "asset_type",
                        "product_type",
                        "thumb_uri",
                        "agreement_name",
                        "product_id",
                        "download_details",
                        "download_source",
                        "user",
                        "size_name",
                        "dimensions"
                      ]
                    }
                  }
                }
              }
            }
          },
          "error_handling": {
            "strategy": "automatic"
          },
          "authentication": {
            "group": "697b24cc-2ca7-4478-aba9-b246f13dcd74",
            "title": "Keiffer Getty Prod Testing",
            "service_icon": {
              "icon_type": "url",
              "value": "//s3.amazonaws.com/images.tray.io/artisan/icons/f65f16a201224c76046bc5331abb9a06.png"
            },
            "scopes": [],
            "service_name": "getty",
            "service_version": 2
          },
          "properties": {
            "method": {
              "type": "string",
              "value": "GET"
            },
            "include_raw_body": {
              "type": "boolean",
              "value": false
            },
            "parse_response": {
              "type": "string",
              "value": "true"
            },
            "url": {
              "type": "object",
              "value": {
                "full_url": {
                  "type": "string",
                  "value": "https://api.gettyimages.com/v3/downloads"
                }
              }
            },
            "headers": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "Authorization"
                    },
                    "value": {
                      "type": "string",
                      "value": "{$.auth.token_type} {$.auth.access_token}"
                    }
                  }
                }
              ]
            },
            "query_parameters": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "company_downloads"
                    },
                    "value": {
                      "type": "string",
                      "value": "false"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "product_type"
                    },
                    "value": {
                      "type": "string",
                      "value": "premiumaccess"
                    }
                  }
                }
              ]
            },
            "body": {
              "type": "object",
              "value": {
                "none": {
                  "type": "null",
                  "value": null
                }
              }
            }
          }
        },
        "storage-10": {
          "title": "Get syncFile",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "get",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Account"
            },
            "default_value": {
              "type": "null",
              "value": null
            },
            "key": {
              "type": "string",
              "value": "gettyWebdamSyncFile-{$.env.solution_instance_id or:'Getty'}"
            }
          }
        },
        "terminate-2": {
          "title": "Terminate",
          "connector": {
            "name": "terminate",
            "version": "1.1"
          },
          "operation": "fail_run",
          "output_schema": {},
          "error_handling": {},
          "properties": {}
        },
        "storage-1": {
          "title": "Get syncFile",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "get",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Account"
            },
            "default_value": {
              "type": "null",
              "value": null
            },
            "key": {
              "type": "string",
              "value": "gettyWebdamSyncFile-{$.env.solution_instance_id or:'Getty'}"
            }
          }
        },
        "getty-3": {
          "title": "Getty Purchases",
          "connector": {
            "name": "getty",
            "version": "2.0"
          },
          "operation": "raw_http_request",
          "output_schema": {},
          "error_handling": {
            "strategy": "automatic"
          },
          "authentication": {
            "group": "697b24cc-2ca7-4478-aba9-b246f13dcd74",
            "title": "Keiffer Getty Prod Testing",
            "service_icon": {
              "icon_type": "url",
              "value": "//s3.amazonaws.com/images.tray.io/artisan/icons/f65f16a201224c76046bc5331abb9a06.png"
            },
            "scopes": [],
            "service_name": "getty",
            "service_version": 2
          },
          "properties": {
            "method": {
              "type": "string",
              "value": "GET"
            },
            "include_raw_body": {
              "type": "boolean",
              "value": false
            },
            "parse_response": {
              "type": "string",
              "value": "true"
            },
            "url": {
              "type": "object",
              "value": {
                "full_url": {
                  "type": "string",
                  "value": "https://api.gettyimages.com/v3/purchased-assets"
                }
              }
            },
            "headers": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "Authorization"
                    },
                    "value": {
                      "type": "string",
                      "value": "{$.auth.token_type} {$.auth.access_token}"
                    }
                  }
                }
              ]
            }
          }
        },
        "storage-9": {
          "title": "Get dateFrom",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "get",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Current Run"
            },
            "key": {
              "type": "string",
              "value": "dateFrom"
            },
            "default_value": {
              "type": "null",
              "value": null
            }
          }
        },
        "boolean-condition-2": {
          "title": "Not Found?  Create New",
          "connector": {
            "name": "boolean-condition",
            "version": "2.3"
          },
          "operation": "boolean_condition",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "conditions": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "value1": {
                      "type": "jsonpath",
                      "value": "$.errors.webdam-1.response.body.message"
                    },
                    "comparison_type": {
                      "type": "string",
                      "value": "==="
                    },
                    "value2": {
                      "type": "string",
                      "value": "Not Found"
                    }
                  }
                }
              ]
            },
            "strictness": {
              "type": "string",
              "value": "All"
            }
          }
        },
        "storage-3": {
          "title": "Set termDate as dateFrom",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "set",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Current Run"
            },
            "key": {
              "type": "string",
              "value": "dateFrom"
            },
            "value": {
              "type": "jsonpath",
              "value": "$.steps.date-time-helpers-1.result"
            }
          }
        },
        "storage-8": {
          "title": "Load solutionData",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "get",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Account"
            },
            "key": {
              "type": "string",
              "value": "gettyWebdamSolutionData-{$.env.solution_instance_id or:'Getty'}"
            },
            "default_value": {
              "type": "null",
              "value": null
            }
          }
        },
        "webdam-2": {
          "title": "Webdam",
          "connector": {
            "name": "webdam",
            "version": "1.2"
          },
          "operation": "create_folder",
          "output_schema": {},
          "error_handling": {},
          "authentication": {
            "group": "84d563f1-ec10-441a-a077-3571c2e2af0e",
            "title": "Keiffer Tray Webdam Account",
            "service_icon": {
              "icon_type": "url",
              "value": "//s3.amazonaws.com/images.tray.io/artisan/icons/294becd8-01cd-4c89-8642-63c5fc50ba2d.png"
            },
            "scopes": [],
            "service_name": "webdam",
            "service_version": 1
          },
          "properties": {
            "folder_parent": {
              "type": "string",
              "value": "0"
            },
            "folder_name": {
              "type": "string",
              "value": "Getty Images"
            },
            "folder_status": {
              "type": "string",
              "value": "active"
            }
          }
        },
        "boolean-condition-6": {
          "title": "If syncList = null ? Create",
          "connector": {
            "name": "boolean-condition",
            "version": "2.3"
          },
          "operation": "boolean_condition",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "conditions": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "value1": {
                      "type": "jsonpath",
                      "value": "$.steps.storage-1.value"
                    },
                    "comparison_type": {
                      "type": "string",
                      "value": "==="
                    },
                    "value2": {
                      "type": "null",
                      "value": null
                    }
                  }
                }
              ]
            },
            "strictness": {
              "type": "string",
              "value": "All"
            }
          }
        },
        "date-time-helpers-1": {
          "title": "Set termDate -1yr",
          "connector": {
            "name": "date-time-helpers",
            "version": "3.0"
          },
          "operation": "minus",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "years": {
              "type": "integer",
              "value": 0
            },
            "months": {
              "type": "integer",
              "value": 0
            },
            "weeks": {
              "type": "integer",
              "value": 0
            },
            "days": {
              "type": "integer",
              "value": 364
            },
            "business_days": {
              "type": "integer",
              "value": 0
            },
            "hours": {
              "type": "integer",
              "value": 0
            },
            "minutes": {
              "type": "integer",
              "value": 0
            },
            "seconds": {
              "type": "integer",
              "value": 0
            },
            "date": {
              "type": "jsonpath",
              "value": "$.steps.text-helpers-1.result[0]"
            }
          }
        },
        "getty-2": {
          "title": "Getty Org Downloads",
          "connector": {
            "name": "getty",
            "version": "2.0"
          },
          "operation": "raw_http_request",
          "output_schema": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "type": "object",
            "properties": {
              "headers": {
                "type": "object",
                "properties": {
                  "content-type": {
                    "type": "string"
                  },
                  "content-length": {
                    "type": "string"
                  },
                  "connection": {
                    "type": "string"
                  },
                  "date": {
                    "type": "string"
                  },
                  "x-amzn-requestid": {
                    "type": "string"
                  },
                  "gi-coordination-id": {
                    "type": "string"
                  },
                  "access-control-allow-origin": {
                    "type": "string"
                  },
                  "strict-transport-security": {
                    "type": "string"
                  },
                  "x-amzn-remapped-content-length": {
                    "type": "string"
                  },
                  "content-language": {
                    "type": "string"
                  },
                  "x-amzn-remapped-connection": {
                    "type": "string"
                  },
                  "x-amz-apigw-id": {
                    "type": "string"
                  },
                  "cache-control": {
                    "type": "string"
                  },
                  "x-amzn-remapped-server": {
                    "type": "string"
                  },
                  "x-amzn-remapped-date": {
                    "type": "string"
                  },
                  "vary": {
                    "type": "string"
                  },
                  "x-cache": {
                    "type": "string"
                  },
                  "via": {
                    "type": "string"
                  },
                  "x-amz-cf-pop": {
                    "type": "string"
                  },
                  "x-amz-cf-id": {
                    "type": "string"
                  }
                }
              },
              "body": {
                "type": "object",
                "properties": {
                  "result_count": {
                    "type": "number"
                  },
                  "downloads": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "date_downloaded": {
                          "type": "string"
                        },
                        "id": {
                          "type": "string"
                        },
                        "asset_type": {
                          "type": "string"
                        },
                        "product_type": {
                          "type": "string"
                        },
                        "thumb_uri": {
                          "type": "string"
                        },
                        "product_id": {
                          "type": "number"
                        },
                        "download_details": {
                          "type": "object",
                          "properties": {
                            "download_notes": {
                              "type": "string"
                            },
                            "project_code": {
                              "type": "string"
                            }
                          }
                        },
                        "download_source": {
                          "type": "string"
                        },
                        "user": {
                          "type": "object",
                          "properties": {
                            "username": {
                              "type": "string"
                            },
                            "first_name": {
                              "type": "string"
                            },
                            "last_name": {
                              "type": "string"
                            }
                          }
                        },
                        "size_name": {
                          "type": "string"
                        },
                        "dimensions": {
                          "type": "object",
                          "properties": {
                            "width": {
                              "type": "number"
                            },
                            "height": {
                              "type": "number"
                            },
                            "dpi": {
                              "type": "number"
                            }
                          }
                        },
                        "agreement_name": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "date_downloaded",
                        "id",
                        "asset_type",
                        "product_type",
                        "thumb_uri",
                        "agreement_name",
                        "product_id",
                        "download_details",
                        "download_source",
                        "user",
                        "size_name",
                        "dimensions"
                      ]
                    }
                  }
                }
              }
            }
          },
          "error_handling": {
            "strategy": "automatic"
          },
          "authentication": {
            "group": "697b24cc-2ca7-4478-aba9-b246f13dcd74",
            "title": "Keiffer Getty Prod Testing",
            "service_icon": {
              "icon_type": "url",
              "value": "//s3.amazonaws.com/images.tray.io/artisan/icons/f65f16a201224c76046bc5331abb9a06.png"
            },
            "scopes": [],
            "service_name": "getty",
            "service_version": 2
          },
          "properties": {
            "method": {
              "type": "string",
              "value": "GET"
            },
            "include_raw_body": {
              "type": "boolean",
              "value": false
            },
            "parse_response": {
              "type": "string",
              "value": "true"
            },
            "url": {
              "type": "object",
              "value": {
                "full_url": {
                  "type": "string",
                  "value": "https://api.gettyimages.com/v3/downloads"
                }
              }
            },
            "headers": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "Authorization"
                    },
                    "value": {
                      "type": "string",
                      "value": "{$.auth.token_type} {$.auth.access_token}"
                    }
                  }
                }
              ]
            },
            "query_parameters": {
              "type": "array",
              "value": [
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "company_downloads"
                    },
                    "value": {
                      "type": "string",
                      "value": "true"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "product_type"
                    },
                    "value": {
                      "type": "string",
                      "value": "premiumaccess"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "page"
                    },
                    "value": {
                      "type": "string",
                      "value": "1"
                    }
                  }
                },
                {
                  "type": "object",
                  "value": {
                    "key": {
                      "type": "string",
                      "value": "page_size"
                    },
                    "value": {
                      "type": "string",
                      "value": "100"
                    }
                  }
                }
              ]
            },
            "body": {
              "type": "object",
              "value": {
                "none": {
                  "type": "null",
                  "value": null
                }
              }
            }
          }
        },
        "storage-6": {
          "title": "Set configDate as dateFrom",
          "connector": {
            "name": "storage",
            "version": "1.4"
          },
          "operation": "set",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "scope": {
              "type": "string",
              "value": "Current Run"
            },
            "key": {
              "type": "string",
              "value": "dateFrom"
            },
            "value": {
              "type": "jsonpath",
              "value": "$.config.dateFrom"
            }
          }
        },
        "webdam-1": {
          "title": "Check Upload Folder",
          "connector": {
            "name": "webdam",
            "version": "1.2"
          },
          "operation": "get_folder",
          "output_schema": {},
          "error_handling": {
            "strategy": "manual"
          },
          "authentication": {
            "group": "84d563f1-ec10-441a-a077-3571c2e2af0e",
            "title": "Keiffer Tray Webdam Account",
            "service_icon": {
              "icon_type": "url",
              "value": "//s3.amazonaws.com/images.tray.io/artisan/icons/294becd8-01cd-4c89-8642-63c5fc50ba2d.png"
            },
            "scopes": [],
            "service_name": "webdam",
            "service_version": 1
          },
          "properties": {
            "folder_id": {
              "type": "jsonpath",
              "value": "$.steps.storage-5.value.uploadFolder"
            }
          }
        },
        "date-time-helpers-2": {
          "title": "Check dateFrom Config",
          "connector": {
            "name": "date-time-helpers",
            "version": "3.0"
          },
          "operation": "compare_dates",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "comparison": {
              "type": "string",
              "value": "IS AFTER"
            },
            "resolution": {
              "type": "string",
              "value": "day"
            },
            "date_a": {
              "type": "jsonpath",
              "value": "$.steps.date-time-helpers-1.result"
            },
            "date_b": {
              "type": "jsonpath",
              "value": "$.config.dateFrom",
              "fallback": {
                "value": "2001-01-01",
                "type": "string"
              }
            }
          }
        },
        "json-transformer-1": {
          "title": "Extract termDate Expiration",
          "connector": {
            "name": "json-transformer",
            "version": "1.0"
          },
          "operation": "transform",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "query": {
              "type": "string",
              "value": "[result[type='premiumaccess'].expiration_utc_date]"
            },
            "data": {
              "type": "object",
              "value": {
                "result": {
                  "type": "jsonpath",
                  "value": "$.steps.getty-4.body.products"
                }
              }
            }
          }
        },
        "trigger": {
          "title": "solution-instance-trigger-service",
          "connector": {
            "name": "solution-instance-trigger",
            "version": "1.0"
          },
          "operation": "webhook",
          "output_schema": {},
          "error_handling": {},
          "properties": {
            "events": {
              "type": "object",
              "value": {
                "updated": {
                  "type": "boolean",
                  "value": true
                }
              }
            }
          }
        }
      },
      "dependencies": [
        {
          "id": "33ade10c-1fba-46c1-9e2f-dea9a64ea11e",
          "name": "[Getty - Webdam] Sync Master"
        }
      ]
    }
  ],
  "projects": [
    {
      "id": "e328e1a2-7c42-4337-988f-1b85a156113f",
      "name": "[Webdam] Getty Images",
      "config": {
        "dateFrom": "2022-11-30",
        "orgDownloads": "false",
        "syncVideo": false,
        "metadataMap": [],
        "staticMapInput": [],
        "dataMapInput": {},
        "uploadFolder": 0,
        "uploadDelay": 10,
        "uploadLimiter": 12,
        "chunkSize": 67108864,
        "chunkLength": 10
      },
      "workflows": [
        "93b58877-77ca-4d2d-96d7-aab9ffd29940",
        "7b9fff3a-cc7d-4f41-85df-1b0a354f25ca",
        "fd59624b-2d0d-448a-b761-c80efd2313b4",
        "a00c6f01-0770-4297-a0bf-594c9217587e",
        "33ade10c-1fba-46c1-9e2f-dea9a64ea11e",
        "e7aa88b4-7a17-4bf0-af00-63ecc4401e19"
      ],
      "dependencies": []
    }
  ],
  "solution": {
    "id": "c069d03d-a4d3-4ad9-83bd-1f4fdef0d71c",
    "name": "Getty Images",
    "description": "Automatically synchronize your Getty licensed assets to Bynder",
    "project_id": "e328e1a2-7c42-4337-988f-1b85a156113f",
    "tags": [
      "Stock photography",
      "Standard",
      "WebDAM"
    ],
    "custom_fields": {
      "icon": "https://integrations.getbynder.com/transform/d8c79272-92a5-401b-8859-de7dc47aea1f/Getty"
    },
    "view_schema": {
      "version": 6,
      "screens": [
        {
          "id": "8ecf3c30-9dfc-4e7c-8394-f0314f28b913",
          "hidden": true,
          "items": [
            {
              "id": "2d5b909c-3bed-4fa4-bba4-36e652f0e3c6",
              "itemType": 2,
              "new": false,
              "title": "[Getty v1 - Webdam] - Sync Master Public Url",
              "workflowId": "33ade10c-1fba-46c1-9e2f-dea9a64ea11e"
            },
            {
              "id": "de5de027-965e-4347-abdf-4af565daaa0e",
              "itemType": 2,
              "new": false,
              "title": "[Getty v1 - Webdam] - Interval Control Public Url",
              "workflowId": "7b9fff3a-cc7d-4f41-85df-1b0a354f25ca"
            },
            {
              "id": "a3196430-c390-4220-8290-8a4186ceea32",
              "itemType": 2,
              "new": false,
              "title": "[Getty v1 - Webdam] Webdam Uploader Public Url",
              "workflowId": "93b58877-77ca-4d2d-96d7-aab9ffd29940"
            },
            {
              "id": "f8b81e9f-8d28-47f4-bf78-f18e4781a590",
              "itemType": 2,
              "new": false,
              "title": "[Getty v1 - Webdam] - Initialize Public Url",
              "workflowId": "e7aa88b4-7a17-4bf0-af00-63ecc4401e19"
            },
            {
              "id": "3709e6aa-be16-4234-bc0d-c7e351efa5b0",
              "itemType": 1,
              "new": false,
              "slot": {
                "id": "929d2239-7a36-4d58-82b1-38b7caa1b7e8",
                "key": "chunkSize",
                "title": "chunkSize",
                "description": "",
                "externalId": "external_chunksize",
                "hidden": true,
                "type": "number",
                "defaultValue": 67108864,
                "required": true,
                "useDefaultValue": true,
                "static": true,
                "usage": [
                  {
                    "workflowId": "93b58877-77ca-4d2d-96d7-aab9ffd29940",
                    "versionId": "246fb6d4-22dd-4e51-a5c4-a8728e53e648",
                    "steps": [
                      {
                        "stepName": "file-helpers-3",
                        "connector": {
                          "name": "file-helpers",
                          "version": "2.6"
                        },
                        "operation": "create_byte_ranges_list",
                        "properties": [
                          {
                            "path": "chunk_size",
                            "value": {
                              "type": "jsonpath",
                              "value": "$.config.chunkSize"
                            }
                          }
                        ]
                      },
                      {
                        "stepName": "boolean-condition-3",
                        "connector": {
                          "name": "boolean-condition",
                          "version": "2.3"
                        },
                        "operation": "boolean_condition",
                        "properties": [
                          {
                            "path": "conditions[0].value2",
                            "value": {
                              "type": "jsonpath",
                              "value": "$.config.chunkSize"
                            }
                          }
                        ]
                      },
                      {
                        "stepName": "script-1",
                        "connector": {
                          "name": "script",
                          "version": "3.3"
                        },
                        "operation": "execute",
                        "properties": [
                          {
                            "path": "variables[2].value",
                            "value": {
                              "type": "jsonpath",
                              "value": "$.config.chunkSize"
                            }
                          }
                        ]
                      }
                    ]
                  }
                ]
              }
            },
            {
              "id": "a6924ed9-2a88-4af5-be7d-b9de39cbb2bb",
              "itemType": 1,
              "new": false,
              "slot": {
                "id": "1da099c2-5589-44b3-88a9-7abaf4a44f15",
                "key": "chunkLength",
                "title": "chunkLength",
                "description": "",
                "externalId": "external_chunklength",
                "hidden": true,
                "type": "number",
                "defaultValue": 10,
                "required": true,
                "useDefaultValue": true,
                "static": true,
                "usage": [
                  {
                    "workflowId": "93b58877-77ca-4d2d-96d7-aab9ffd29940",
                    "versionId": "246fb6d4-22dd-4e51-a5c4-a8728e53e648",
                    "steps": [
                      {
                        "stepName": "script-1",
                        "connector": {
                          "name": "script",
                          "version": "3.3"
                        },
                        "operation": "execute",
                        "properties": [
                          {
                            "path": "variables[3].value",
                            "value": {
                              "type": "jsonpath",
                              "value": "$.config.chunkLength"
                            }
                          }
                        ]
                      },
                      {
                        "stepName": "script-2",
                        "connector": {
                          "name": "script",
                          "version": "3.3"
                        },
                        "operation": "execute",
                        "properties": [
                          {
                            "path": "variables[2].value",
                            "value": {
                              "type": "jsonpath",
                              "value": "$.config.chunkLength"
                            }
                          }
                        ]
                      }
                    ]
                  }
                ]
              }
            },
            {
              "id": "adacaf8a-42d8-4591-9e12-4b8ff4fd7d0f",
              "itemType": 1,
              "new": false,
              "slot": {
                "id": "07c1f104-adb6-4d80-9e9d-0b7ce01121f6",
                "key": "uploadLimiter",
                "title": "uploadLimiter",
                "description": "",
                "externalId": "external_uploadlimiter",
                "hidden": true,
                "type": "number",
                "defaultValue": 12,
                "required": true,
                "useDefaultValue": true,
                "static": true,
                "usage": [
                  {
                    "workflowId": "33ade10c-1fba-46c1-9e2f-dea9a64ea11e",
                    "versionId": "794ee7e8-063a-4271-a0ad-f7d3a100e477",
                    "steps": [
                      {
                        "stepName": "boolean-condition-6",
                        "connector": {
                          "name": "boolean-condition",
                          "version": "2.3"
                        },
                        "operation": "boolean_condition",
                        "properties": [
                          {
                            "path": "conditions[0].value2",
                            "value": {
                              "type": "jsonpath",
                              "value": "$.config.uploadLimiter"
                            }
                          }
                        ]
                      },
                      {
                        "stepName": "boolean-condition-7",
                        "connector": {
                          "name": "boolean-condition",
                          "version": "2.3"
                        },
                        "operation": "boolean_condition",
                        "properties": [
                          {
                            "path": "conditions[0].value2",
                            "value": {
                              "type": "jsonpath",
                              "value": "$.config.uploadLimiter"
                            }
                          }
                        ]
                      }
                    ]
                  }
                ]
              }
            },
            {
              "id": "2941e04d-cd7d-4a26-b73e-8d8f07d85327",
              "itemType": 1,
              "new": false,
              "slot": {
                "id": "3522896b-3108-4e98-8b06-677f8c1e77c1",
                "key": "uploadDelay",
                "title": "uploadDelay",
                "description": "",
                "externalId": "external_uploaddelay",
                "hidden": true,
                "type": "number",
                "defaultValue": 10,
                "required": true,
                "useDefaultValue": true,
                "static": true,
                "usage": [
                  {
                    "workflowId": "33ade10c-1fba-46c1-9e2f-dea9a64ea11e",
                    "versionId": "794ee7e8-063a-4271-a0ad-f7d3a100e477",
                    "steps": [
                      {
                        "stepName": "delay-2",
                        "connector": {
                          "name": "delay",
                          "version": "1.0"
                        },
                        "operation": "delay",
                        "properties": [
                          {
                            "path": "delay_value",
                            "value": {
                              "type": "jsonpath",
                              "value": "$.config.uploadDelay"
                            }
                          }
                        ]
                      }
                    ]
                  }
                ]
              }
            },
            {
              "id": "950bc910-f082-4ca0-8e9f-0cad8e0aaa19",
              "itemType": 2,
              "new": false,
              "title": "[Getty - Webdam] Manual Debug Public Url",
              "workflowId": "fd59624b-2d0d-448a-b761-c80efd2313b4"
            },
            {
              "id": "98d7db31-9b94-4f01-a007-72639e72b9c7",
              "itemType": 2,
              "new": false,
              "title": "[Getty - Webdam] Error Catch Public Url",
              "workflowId": "a00c6f01-0770-4297-a0bf-594c9217587e"
            }
          ],
          "new": false
        },
        {
          "id": "90d4287b-952d-47e8-9807-d15aeba1e967",
          "items": [
            {
              "id": "8c8895ec-c2a6-429c-a336-df9e86847a59",
              "itemType": 3,
              "content": "Getty Images"
            },
            {
              "id": "4937ea36-5ffe-4df4-b525-0cdfc787fad8",
              "itemType": 4,
              "content": "This connector will synchronize your license history from Getty Images to Webdam.  Assets licensed under your account will be downloaded from Getty and added to Webdam.  As long as this connector is active, any newly licensed assets will be transferred.  "
            },
            {
              "id": "a0bc02e0-0eac-425c-8ae1-e52c40672883",
              "itemType": "SPACER",
              "unit": "%",
              "height": 1
            },
            {
              "id": "938fa69e-927e-4297-b3c6-c700499e46ea",
              "itemType": 3,
              "content": "Important Information on Licensing"
            },
            {
              "id": "4ad2ac78-d5cf-4a84-b065-1c8561a9c6d1",
              "itemType": 4,
              "content": "Check re-downloading rights with your Getty Account Manager before enabling this connection.  Each license agreement with Getty is unique, and only your Getty team will be able to determine what rights your account has.  Specifically, this connector will re-download any asset that you or your organization downloaded within the current license term.  If your account does not have re-download rights, enabling this connection may cause duplicate downloads.  That potentially impacts download limits under your account agreement.  "
            },
            {
              "id": "b920d7d9-207a-4ead-87ae-27fffdf51dcf",
              "itemType": 4,
              "content": "This connector is only compatible with the \"Premium Access\" licensing type.  Many enterprise accounts with Getty fall under that type.  It will re-download any asset in the license history within the licensing term.  Any assets licensed prior to that term will not be re-downloaded.  Specific dates for those terms are available from Getty.  "
            },
            {
              "id": "2f20b917-897d-48da-8ec0-06df95bdadb7",
              "itemType": "SPACER",
              "unit": "%",
              "height": 1
            },
            {
              "id": "10044e1b-093b-4ee5-8d80-c63570c6e964",
              "itemType": 3,
              "content": "Before You Begin"
            },
            {
              "id": "b2184510-e7f7-4541-872b-486eafeff3b2",
              "itemType": 4,
              "content": "Once configured, assets will be uploaded to your Webdam account along with any embedded metadata supplied by Getty. You will also have the option to map metadata fields from Getty's service to your Webdam metaproperties, or set values to write on all assets migrated by this connection."
            },
            {
              "id": "1f034981-777d-42e3-b6be-3fded29c17ac",
              "itemType": 4,
              "content": "Any new assets licensed in Getty will be uploaded to Webdam as long as this connection is active. Our service will check Getty every two hours for newly licensed assets."
            }
          ],
          "new": false,
          "hidden": false,
          "persist": false
        },
        {
          "id": "7cb0c96c-2119-404a-9107-be1fa31fde07",
          "items": [
            {
              "id": "2d652d6a-2d26-4c25-bc3f-439b40505c11",
              "itemType": 3,
              "content": "Webdam Configuration"
            },
            {
              "id": "08fbced2-40ee-4a33-bc55-c026026b5e0e",
              "itemType": 4,
              "content": "Add credentials for your Webdam account below. If you've already configured a Webdam connection, you can select it below. If not, click \"create new authentication\". Enter the API key and secret for your account. A login screen will open where you will enter your username and password."
            },
            {
              "id": "85f8ab83-7cd0-4ecd-9d1e-4f8e9352c22d",
              "itemType": "SPACER",
              "unit": "%",
              "height": 1
            },
            {
              "id": "a028044a-b655-4cd0-8a81-0f1250780638",
              "itemType": 0,
              "new": false,
              "buttonCTA": "New authentication",
              "slot": {
                "id": "a54402b4-e5fd-49e9-8e07-6ea80fc5ba5c",
                "authId": "087a8388-9d0a-40ee-8e03-660ac4f8ad08",
                "serviceId": "8233b27f-52ea-4083-a073-4f07ebaf9a4f",
                "authAppId": "8c5f664d-f02b-429d-b125-ea1b03b943f7",
                "title": "Webdam authentication",
                "description": "",
                "externalId": "external_webdam_authentication",
                "hidden": false,
                "useExisting": false,
                "static": false,
                "scopes": [],
                "usage": [
                  {
                    "workflowId": "93b58877-77ca-4d2d-96d7-aab9ffd29940",
                    "versionId": "246fb6d4-22dd-4e51-a5c4-a8728e53e648",
                    "steps": [
                      {
                        "stepName": "webdam-9",
                        "connector": {
                          "name": "webdam",
                          "version": "1.2"
                        },
                        "operation": "raw_http_request",
                        "authId": "087a8388-9d0a-40ee-8e03-660ac4f8ad08",
                        "properties": []
                      },
                      {
                        "stepName": "webdam-2",
                        "connector": {
                          "name": "webdam",
                          "version": "1.2"
                        },
                        "operation": "raw_http_request",
                        "authId": "087a8388-9d0a-40ee-8e03-660ac4f8ad08",
                        "properties": []
                      },
                      {
                        "stepName": "webdam-3",
                        "connector": {
                          "name": "webdam",
                          "version": "1.2"
                        },
                        "operation": "raw_http_request",
                        "authId": "087a8388-9d0a-40ee-8e03-660ac4f8ad08",
                        "properties": []
                      },
                      {
                        "stepName": "webdam-6",
                        "connector": {
                          "name": "webdam",
                          "version": "1.2"
                        },
                        "operation": "raw_http_request",
                        "authId": "087a8388-9d0a-40ee-8e03-660ac4f8ad08",
                        "properties": []
                      },
                      {
                        "stepName": "webdam-1",
                        "connector": {
                          "name": "webdam",
                          "version": "1.2"
                        },
                        "operation": "raw_http_request",
                        "authId": "087a8388-9d0a-40ee-8e03-660ac4f8ad08",
                        "properties": []
                      },
                      {
                        "stepName": "webdam-4",
                        "connector": {
                          "name": "webdam",
                          "version": "1.2"
                        },
                        "operation": "raw_http_request",
                        "authId": "087a8388-9d0a-40ee-8e03-660ac4f8ad08",
                        "properties": []
                      },
                      {
                        "stepName": "webdam-8",
                        "connector": {
                          "name": "webdam",
                          "version": "1.2"
                        },
                        "operation": "raw_http_request",
                        "authId": "087a8388-9d0a-40ee-8e03-660ac4f8ad08",
                        "properties": []
                      },
                      {
                        "stepName": "webdam-5",
                        "connector": {
                          "name": "webdam",
                          "version": "1.2"
                        },
                        "operation": "raw_http_request",
                        "authId": "087a8388-9d0a-40ee-8e03-660ac4f8ad08",
                        "properties": []
                      },
                      {
                        "stepName": "webdam-7",
                        "connector": {
                          "name": "webdam",
                          "version": "1.2"
                        },
                        "operation": "raw_http_request",
                        "authId": "087a8388-9d0a-40ee-8e03-660ac4f8ad08",
                        "properties": []
                      }
                    ]
                  },
                  {
                    "workflowId": "e7aa88b4-7a17-4bf0-af00-63ecc4401e19",
                    "versionId": "946d54ae-bb83-44e2-a113-051b92e3c9bd",
                    "steps": [
                      {
                        "stepName": "webdam-2",
                        "connector": {
                          "name": "webdam",
                          "version": "1.2"
                        },
                        "operation": "create_folder",
                        "authId": "087a8388-9d0a-40ee-8e03-660ac4f8ad08",
                        "properties": []
                      },
                      {
                        "stepName": "webdam-1",
                        "connector": {
                          "name": "webdam",
                          "version": "1.2"
                        },
                        "operation": "get_folder",
                        "authId": "087a8388-9d0a-40ee-8e03-660ac4f8ad08",
                        "properties": []
                      }
                    ]
                  }
                ]
              }
            },
            {
              "id": "f78a7fe2-3ea1-400e-8b9b-ea40b0e25a27",
              "itemType": "SPACER",
              "unit": "%",
              "height": 2
            },
            {
              "id": "e2abf04b-6f1a-4621-a4c4-bcd5066fae2d",
              "itemType": 4,
              "content": "From the list below, choose the folder to intake assets from Getty Images. This will list the root folders of your account. You can move this folder to another location at a later time."
            },
            {
              "id": "4acbee10-e7a0-484c-96f7-7b2455038d5a",
              "itemType": 1,
              "new": false,
              "slot": {
                "id": "8099f019-c3b9-42a2-965d-26d430775286",
                "key": "uploadFolder",
                "title": "Upload Folder",
                "description": "",
                "externalId": "external_uploadfolder",
                "hidden": false,
                "type": "number",
                "defaultValue": 0,
                "required": true,
                "useDefaultValue": false,
                "static": false,
                "usage": [
                  {
                    "workflowId": "e7aa88b4-7a17-4bf0-af00-63ecc4401e19",
                    "versionId": "946d54ae-bb83-44e2-a113-051b92e3c9bd",
                    "steps": [
                      {
                        "stepName": "storage-2",
                        "connector": {
                          "name": "storage",
                          "version": "1.4"
                        },
                        "operation": "set",
                        "properties": [
                          {
                            "path": "value.uploadFolder",
                            "value": {
                              "type": "jsonpath",
                              "value": "$.config.uploadFolder"
                            }
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              "customScript": {
                "version": 1,
                "srcCode": "//What to do when the page initially load.  If there's a value, keep that value.\n//If not, then wait for an auth and then get the folders\ntray.on(\"CONFIG_SLOT_MOUNT\", async ({ event, previousWizardState, previousSlotState }) => {\n\tif (event.data.externalId !== \"external_uploadfolder\") {\n\t\treturn;\n\t} else {\n\t\tif (\n\t\t\tpreviousWizardState.values.external_uploadfolder === false ||\n\t\t\tpreviousWizardState.values.external_uploadfolder === undefined ||\n\t\t\tpreviousWizardState.values.external_uploadfolder === \"\"\n\t\t) {\n\t\t\tconsole.log(\"No auth. Add a valid auth for Webdam\");\n\t\t\treturn {\n\t\t\t\t...event.data,\n\t\t\t\tstatus: \"LOADING\",\n\t\t\t};\n\t\t} else {\n\t\t\treturn await folderState({\n\t\t\t\tevent,\n\t\t\t\tpreviousWizardState,\n\t\t\t\tpreviousSlotState,\n\t\t\t});\n\t\t}\n\t}\n});\n\n//When an auth is submitted to the Webdam Auth slot, or is changed, get the folders\ntray.on(\"AUTH_SLOT_VALUE_CHANGED\", async ({ event, previousWizardState, previousSlotState }) => {\n\tif (\n\t\tpreviousWizardState.values.external_uploadfolder === false ||\n\t\tpreviousWizardState.values.external_uploadfolder === undefined ||\n\t\tpreviousWizardState.values.external_uploadfolder === \"\"\n\t) {\n\t\treturn {\n\t\t\t...event.data,\n\t\t\tstatus: \"VISIBLE\",\n\t\t\tjsonSchema: await getJsonSchema({ previousWizardState }),\n\t\t};\n\t} else {\n\t\treturn await folderState({\n\t\t\tevent,\n\t\t\tpreviousWizardState,\n\t\t\tpreviousSlotState,\n\t\t});\n\t}\n});\n\nasync function getJsonSchema({ previousWizardState }, uploadFolder) {\n\t// use the Webdam connector to call the top level folder in account\n\n\tconst response = await tray.callConnector({\n\t\tconnector: \"webdam\",\n\t\tversion: \"1.0\",\n\t\toperation: \"list_folders\",\n\t\tauthId: previousWizardState.values.external_webdam_authentication,\n\t\tinput: {},\n\t});\n\n\t// parse response into a proper object\n\tconst folderArray = JSON.parse(response);\n\t//return JSON object to generate dropdown in Tray config\n\treturn {\n\t\t// output the list of fields to pick from in the data mapping component\n\t\tenum: await enumerator(folderArray.results, previousWizardState, uploadFolder),\n\t};\n}\n\n//function to create an array for Tray to render.  The first value is the root folder value, which should prompt the workflow to create a new folder.\nconst enumerator = async function (input, previousWizardState, uploadFolder) {\n\tlet newArray = [\n\t\t/* commentting this out for now...need to figure out how to handle the different scenarios when a user updates the config\n\t\t\t  {\n\t\t\t\t  \"text\": \"Create New Folder\",\n\t\t\t\t  \"value\": 0\n\t\t\t  }\n\t\t\t\t\t*/\n\t];\n\tinput.forEach((element) => {\n\t\tnewArray.push({\n\t\t\ttext: element.name,\n\t\t\tvalue: element.id,\n\t\t});\n\t});\n\tif (uploadFolder !== undefined) {\n\t\tconst folderDetail = await folderRes(previousWizardState);\n\t\tnewArray.push({\n\t\t\ttext: folderDetail.name,\n\t\t\tvalue: folderDetail.id,\n\t\t});\n\t}\n\treturn newArray;\n};\n\n//function to call the Webdam folder status\nconst folderRes = async function (previousWizardState) {\n\tlet res = \"\";\n\tif (previousWizardState.values.external_uploadfolder === undefined) {\n\t\treturn {\n\t\t\tmessage: \"Not Found\",\n\t\t};\n\t} else {\n\t\ttry {\n\t\t\tres = await tray.callConnector({\n\t\t\t\tconnector: \"webdam\",\n\t\t\t\tversion: \"1.2\",\n\t\t\t\toperation: \"get_folder\",\n\t\t\t\tauthId: previousWizardState.values.external_webdam_authentication,\n\t\t\t\tinput: {\n\t\t\t\t\tfolder_id: Number(previousWizardState.values.external_uploadfolder),\n\t\t\t\t},\n\t\t\t});\n\t\t} catch (err) {\n\t\t\tconsole.log(\"folder deleted, getting new folder list\");\n\t\t\tres = {\n\t\t\t\tmessage: \"Not Found\",\n\t\t\t};\n\t\t\treturn res;\n\t\t}\n\t\tconst response = JSON.parse(res);\n\t\treturn response;\n\t}\n};\n\nconst folderState = async function ({ event, previousWizardState, previousSlotState }) {\n\tconsole.log(\"getting folder state\");\n\tconst folderState = await folderRes(previousWizardState);\n\tif (folderState.message === \"Not Found\") {\n\t\tconsole.log(\"folder not found\");\n\t\t{\n\t\t\treturn {\n\t\t\t\t...event.data,\n\t\t\t\tstatus: \"VISIBLE\",\n\t\t\t\tjsonSchema: await getJsonSchema({ previousWizardState }),\n\t\t\t};\n\t\t}\n\t} else {\n\t\tconsole.log(\"folder found, returning previous value\");\n\t\treturn {\n\t\t\t...previousSlotState,\n\t\t\tstatus: \"VISIBLE\",\n\t\t\tjsonSchema: await getJsonSchema({ previousWizardState }, previousSlotState.value),\n\t\t};\n\t}\n};\n",
                "environmentVariables": {
                  "type": "object",
                  "value": {
                    "env": {
                      "type": "object",
                      "value": {
                        "slotExternalId": {
                          "type": "string",
                          "value": "external_uploadfolder"
                        }
                      }
                    }
                  }
                }
              }
            },
            {
              "id": "39544958-be27-4358-9b9e-a8348d067dda",
              "itemType": "SPACER",
              "unit": "%",
              "height": 2
            },
            {
              "id": "ba241b7e-4d3a-42f6-a8b8-1291347de680",
              "itemType": 4,
              "content": "Optionally, video files in Getty Images can be uploaded to your Webdam account. Check the box below to also sync videos."
            },
            {
              "id": "8583eada-e845-4fee-a674-0f554210ffa9",
              "itemType": 1,
              "new": false,
              "slot": {
                "id": "418b0cc5-6d13-4015-bd01-22ffd22889ad",
                "key": "syncVideo",
                "title": "Include Video?",
                "description": "",
                "externalId": "external_syncvideo",
                "hidden": false,
                "type": "boolean",
                "defaultValue": true,
                "required": true,
                "useDefaultValue": false,
                "static": false,
                "usage": [
                  {
                    "workflowId": "33ade10c-1fba-46c1-9e2f-dea9a64ea11e",
                    "versionId": "794ee7e8-063a-4271-a0ad-f7d3a100e477",
                    "steps": [
                      {
                        "stepName": "logic-helpers-1",
                        "connector": {
                          "name": "logic-helpers",
                          "version": "2.1"
                        },
                        "operation": "evaluation",
                        "properties": [
                          {
                            "path": "further_groups[0].further_conditions[0].value1",
                            "value": {
                              "type": "jsonpath",
                              "value": "$.config.syncVideo"
                            }
                          }
                        ]
                      }
                    ]
                  }
                ]
              }
            }
          ],
          "new": false
        },
        {
          "id": "fbb2b05a-1d12-4f5f-8a00-6d22c8c1f9a3",
          "items": [
            {
              "id": "30fcf13a-290b-4769-81ba-21bced539b4d",
              "itemType": 3,
              "content": "Getty Configuration"
            },
            {
              "id": "05013a0b-5ae7-4999-add1-7dbd5c51e600",
              "itemType": 4,
              "content": "Add your Getty Images account credentials below. You will be directed to enter your username and password on the Getty Images login page."
            },
            {
              "id": "f03bdb26-e08f-415a-b792-5e8e8310555d",
              "itemType": "SPACER",
              "unit": "%",
              "height": 1
            },
            {
              "id": "e4685399-978b-4945-9854-e9e6c94a928b",
              "itemType": 0,
              "new": false,
              "buttonCTA": "New authentication",
              "slot": {
                "id": "132a43e4-3415-46ec-ad18-68fae2621a42",
                "authId": "9f8db9b0-745d-4402-a062-b849a966c8bd",
                "serviceId": "7ba76231-9c62-4dea-b38a-d804e5c728f0",
                "authAppId": "b47e0327-2e1c-4798-89a2-a980bd23ddbe",
                "title": "Getty authentication",
                "description": "",
                "externalId": "external_getty_authentication",
                "hidden": false,
                "useExisting": false,
                "static": false,
                "scopes": [],
                "usage": [
                  {
                    "workflowId": "e7aa88b4-7a17-4bf0-af00-63ecc4401e19",
                    "versionId": "946d54ae-bb83-44e2-a113-051b92e3c9bd",
                    "steps": [
                      {
                        "stepName": "getty-4",
                        "connector": {
                          "name": "getty",
                          "version": "2.0"
                        },
                        "operation": "raw_http_request",
                        "authId": "9f8db9b0-745d-4402-a062-b849a966c8bd",
                        "properties": []
                      },
                      {
                        "stepName": "getty-5",
                        "connector": {
                          "name": "getty",
                          "version": "2.0"
                        },
                        "operation": "raw_http_request",
                        "authId": "9f8db9b0-745d-4402-a062-b849a966c8bd",
                        "properties": []
                      },
                      {
                        "stepName": "getty-3",
                        "connector": {
                          "name": "getty",
                          "version": "2.0"
                        },
                        "operation": "raw_http_request",
                        "authId": "9f8db9b0-745d-4402-a062-b849a966c8bd",
                        "properties": []
                      },
                      {
                        "stepName": "getty-2",
                        "connector": {
                          "name": "getty",
                          "version": "2.0"
                        },
                        "operation": "raw_http_request",
                        "authId": "9f8db9b0-745d-4402-a062-b849a966c8bd",
                        "properties": []
                      },
                      {
                        "stepName": "getty-1",
                        "connector": {
                          "name": "getty",
                          "version": "2.0"
                        },
                        "operation": "raw_http_request",
                        "authId": "9f8db9b0-745d-4402-a062-b849a966c8bd",
                        "properties": []
                      }
                    ]
                  },
                  {
                    "workflowId": "33ade10c-1fba-46c1-9e2f-dea9a64ea11e",
                    "versionId": "794ee7e8-063a-4271-a0ad-f7d3a100e477",
                    "steps": [
                      {
                        "stepName": "getty-1",
                        "connector": {
                          "name": "getty",
                          "version": "2.0"
                        },
                        "operation": "raw_http_request",
                        "authId": "9f8db9b0-745d-4402-a062-b849a966c8bd",
                        "properties": []
                      },
                      {
                        "stepName": "getty-4",
                        "connector": {
                          "name": "getty",
                          "version": "2.0"
                        },
                        "operation": "raw_http_request",
                        "authId": "9f8db9b0-745d-4402-a062-b849a966c8bd",
                        "properties": []
                      },
                      {
                        "stepName": "getty-2",
                        "connector": {
                          "name": "getty",
                          "version": "2.0"
                        },
                        "operation": "raw_http_request",
                        "authId": "9f8db9b0-745d-4402-a062-b849a966c8bd",
                        "properties": []
                      }
                    ]
                  }
                ]
              }
            },
            {
              "id": "166b201a-1aa5-4392-8a65-c90fe687e3af",
              "itemType": "SPACER",
              "unit": "%",
              "height": 2
            },
            {
              "id": "1331841c-2d22-4180-bbf0-890af971239f",
              "itemType": 4,
              "content": "You can choose to upload assets from your entire organization below.  By selecting \"True\" the connector will search for assets across all users in your organization and upload those assets.  By selecting \"False\" only assets licensed by the user authenticated above will be uploaded to Webdam.  "
            },
            {
              "id": "34ef8208-0b4e-405e-875d-46673f7c9a49",
              "itemType": 1,
              "new": false,
              "slot": {
                "id": "0439a75f-b82a-4c0d-9c56-15cbecf3ec74",
                "key": "orgDownloads",
                "title": "Sync Organization Assets?",
                "description": "",
                "externalId": "external_orgdownloads",
                "hidden": false,
                "type": "string",
                "defaultValue": "true",
                "required": true,
                "useDefaultValue": false,
                "static": false,
                "authSlotId": "132a43e4-3415-46ec-ad18-68fae2621a42",
                "usage": [
                  {
                    "workflowId": "33ade10c-1fba-46c1-9e2f-dea9a64ea11e",
                    "versionId": "794ee7e8-063a-4271-a0ad-f7d3a100e477",
                    "steps": [
                      {
                        "stepName": "getty-4",
                        "connector": {
                          "name": "getty",
                          "version": "2.0"
                        },
                        "operation": "raw_http_request",
                        "authId": "9f8db9b0-745d-4402-a062-b849a966c8bd",
                        "properties": [
                          {
                            "path": "query_parameters[0].value",
                            "value": {
                              "type": "jsonpath",
                              "value": "$.config.orgDownloads"
                            }
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              "jsonSchema": {
                "type": "string",
                "title": "Sync Organization Assets?",
                "default": "true",
                "enum": [
                  {
                    "value": "true",
                    "text": "True"
                  },
                  {
                    "text": "False",
                    "value": "false"
                  }
                ]
              }
            },
            {
              "id": "f0caf52a-29d7-4e29-a206-45060dbdc9dd",
              "itemType": "SPACER",
              "unit": "%",
              "height": 1
            },
            {
              "id": "b8fc4aca-e10d-471d-a16b-b1f481929acf",
              "itemType": 4,
              "content": "The following date field can be used to control which assets are added to Webdam.  By entering a date, only assets licensed after that date will be migrated. "
            },
            {
              "id": "b928c455-1b2b-4404-ab29-464a5c3a8d46",
              "itemType": 1,
              "new": false,
              "slot": {
                "id": "7de50908-0821-4587-81c9-b721733d85c2",
                "key": "dateFrom",
                "title": "Sync assets after",
                "description": "",
                "externalId": "external_datefrom",
                "hidden": false,
                "type": "string",
                "defaultValue": "2019-01-01",
                "required": false,
                "useDefaultValue": false,
                "static": false,
                "usage": [
                  {
                    "workflowId": "e7aa88b4-7a17-4bf0-af00-63ecc4401e19",
                    "versionId": "946d54ae-bb83-44e2-a113-051b92e3c9bd",
                    "steps": [
                      {
                        "stepName": "date-time-helpers-2",
                        "connector": {
                          "name": "date-time-helpers",
                          "version": "3.0"
                        },
                        "operation": "compare_dates",
                        "properties": [
                          {
                            "path": "date_b",
                            "value": {
                              "type": "jsonpath",
                              "value": "$.config.dateFrom",
                              "fallback": {
                                "value": "2001-01-01",
                                "type": "string"
                              }
                            }
                          }
                        ]
                      },
                      {
                        "stepName": "storage-6",
                        "connector": {
                          "name": "storage",
                          "version": "1.4"
                        },
                        "operation": "set",
                        "properties": [
                          {
                            "path": "value",
                            "value": {
                              "type": "jsonpath",
                              "value": "$.config.dateFrom"
                            }
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              "customScript": {
                "version": 1,
                "srcCode": "//this code forces the config slot to be a date picker.  \ntray.on(\"CONFIG_SLOT_MOUNT\", async ({ previousSlotState }) => {\n  return {\n    ...previousSlotState,\n    status: \"VISIBLE\",\n    jsonSchema: {\n      type: \"string\",\n      format: \"date\",\n    }\n  };\n});",
                "environmentVariables": {
                  "type": "object",
                  "value": {
                    "env": {
                      "type": "object",
                      "value": {
                        "slotExternalId": {
                          "type": "string",
                          "value": "external_datefrom"
                        }
                      }
                    }
                  }
                }
              }
            },
            {
              "id": "95203fd2-518a-4848-969e-2cd93e4f57fb",
              "itemType": "SPACER",
              "unit": "%",
              "height": 2
            }
          ],
          "new": false
        },
        {
          "id": "1bc02516-4d19-43fe-a681-6ead050c1287",
          "items": [
            {
              "id": "368d5805-129e-401c-ad1f-9d65ffde8a3e",
              "itemType": 3,
              "content": "Metadata Mapping"
            },
            {
              "id": "9a47f1e8-32a2-4e38-aeec-d2b1b964c104",
              "itemType": 4,
              "content": "Assets added to Webdam will always have tags and a short description provided by Getty Images.  In addition, you can write other fields from Getty to your Webdam metadata.  From the left column, select the field from Getty you want to include.  On the right, select the metadata field to write those values to.  You can add any number of mappings needed."
            },
            {
              "id": "7a876c86-873f-440a-856b-2a1cbe5196dd",
              "itemType": "SPACER",
              "unit": "%",
              "height": 2
            },
            {
              "id": "9cb6f622-715e-4473-88c0-1977c41d417f",
              "itemType": 1,
              "new": false,
              "slot": {
                "id": "e1bcb085-e6af-408d-b1f3-fd13630fe605",
                "key": "metadataMap",
                "title": "metadataMap",
                "description": "",
                "externalId": "external_metadatamap",
                "hidden": false,
                "type": "array",
                "defaultValue": [],
                "required": false,
                "useDefaultValue": false,
                "static": false,
                "usage": [
                  {
                    "workflowId": "e7aa88b4-7a17-4bf0-af00-63ecc4401e19",
                    "versionId": "946d54ae-bb83-44e2-a113-051b92e3c9bd",
                    "steps": [
                      {
                        "stepName": "script-1",
                        "connector": {
                          "name": "script",
                          "version": "3.3"
                        },
                        "operation": "execute",
                        "properties": [
                          {
                            "path": "variables[0].value",
                            "value": {
                              "type": "jsonpath",
                              "value": "$.config.metadataMap"
                            }
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              "customScript": {
                "version": 1,
                "srcCode": "\n\n//The CONFIG_SLOT_MOUNT event is fired when a config slot has loaded onto the screen.//\n//this call updates the previousWizardState to include the jsonSchema from the getJsonSchema function\ntray.on('CONFIG_SLOT_MOUNT', async ({ event, previousWizardState, previousSlotState }) => {\n\n  // generate the schema needed to create the data mapper\n  return await generateSchema({ event, previousWizardState, previousSlotState });\n\n});\n\nconst generateSchema = async ({ event, previousWizardState, previousSlotState }) => {\n\n  // get the first list of options\n  const list1 = await getFirstList();\n  // get the second list of options\n  const list2 = await getSecondList(previousWizardState);\n\n  // the returned value needs to be formatted as such. The jsonSchema type will need to be an\n  // array with one item of type OBJECT that holds the properties of each list. The KEY of this \n  // object will be the first list of options and the VALUE of the object\n  return {\n      ...previousSlotState,\n      status: \"VISIBLE\",\n      jsonSchema: {\n          title: \"Metadata Mapping\",\n          default: [],\n          type: \"array\",\n          table: {\n              key: \"Getty Metadata\",\n              value: \"Webdam Field\",\n          },\n          items: {\n              title: \"Mapping\",\n              type: \"object\",\n              default: {},\n              properties: {\n                  key: {\n                      type: \"string\",\n                      title: \"First Fields\",\n                      enum: list1,\n                  },\n                  value: {\n                      type: list2.type,\n                      title: \"Second Fields\",\n                      enum: list2.enum,\n                  },\n              },\n              customValues: false,\n              additionalItems: true,\n              additionalProperties: false,\n          },\n      },\n  };\n};\n\n// Hardcoded list of the Getty Fields.  Text is what is shown in the UI, value is what is recorded in the config\nconst getFirstList = async () => {\n  result = [\n    { text: 'ID', value: 'id' },\n    { text: 'Artist', value: 'artist' },\n    { text: 'Artist Title', value: 'artist_title' },\n    { text: 'Asset Family', value: 'asset_family' },\n    { text: 'Call For Image', value: 'call_for_image' },\n    { text: 'Caption', value: 'caption' },\n    { text: 'City', value: 'city' },\n    { text: 'Collection Code', value: 'collection_code' },\n    { text: 'Collection ID', value: 'collection_id' },\n    { text: 'Collection Name', value: 'collection_name' },\n    { text: 'Color Type', value: 'color_type' },\n    { text: 'Copyright', value: 'copyright' },\n    { text: 'Country', value: 'country' },\n    { text: 'Credit Line', value: 'credit_line' },\n    { text: 'Date Created', value: 'date_created' },\n    { text: 'Date Submitted', value: 'date_submitted' },\n    { text: 'Graphical Style', value: 'graphical_style' },\n    { text: 'License Type', value: 'license_model' },\n    { text: 'Object Name', value: 'object_name' },\n    { text: 'Orientation', value: 'orientation' },\n    { text: 'Prestige', value: 'prestige' },\n    { text: 'Quality Rank', value: 'quality_rank' },\n    { text: 'State or Province', value: 'state_province' },\n    { text: 'Title', value: 'title' }\n];\n  return result;\n};\n\n  // this function gets the list from Webdam and formats it into an array or objects with text and value to display in the UI\n  const getSecondList = async (previousWizardState) => {\n    \n\t// Using the Webdam Connector with the Webdam auth provided by the config wizard, get the metadata field for the account\n\tconst response = await tray.callConnector({\n\t\tconnector: \"webdam\",\n\t\tversion: \"1.0\",\n\t\toperation: \"list_xmp_metadata_schemas\",\n\t\tauthId: previousWizardState.values.external_webdam_authentication,\n\t\tinput: {}\n\t})\n\n\t// parse response into a proper object\n\tconst metapropArray = JSON.parse(response)\n\tfor (let i = 0; i < metapropArray.xmpschema.length; i++) {\n\t\tif (metapropArray.xmpschema[i].status === 'inactive') {\n\t\t\tmetapropArray.xmpschema.splice(i, 1)\n\t\t\ti--\n\t\t}\n\t}\n\n\t// convert that object to only what's needed.  Map the label and id only.  \n\tconst properties = Object.entries(metapropArray.xmpschema).map((x) => {\n    return {\n\t\t\tname: metapropArray.xmpschema[x[0]].label,\n\t\t\tvalue: metapropArray.xmpschema[x[0]].field\n\t\t}\n\t});\n\t// format properties into the object used by Tray app to display data in config\n\tresult = {\n\t\ttype: 'string',\n\t\tenum: properties.map(({\n\t\t\tname, value\n\t\t}) => ({\n\t\t\ttext: name,\n\t\t\tvalue: value\n\t\t}))\n\t};\n\treturn result;\n};",
                "environmentVariables": {
                  "type": "object",
                  "value": {
                    "env": {
                      "type": "object",
                      "value": {
                        "slotExternalId": {
                          "type": "string",
                          "value": "external_metadatamap"
                        }
                      }
                    }
                  }
                }
              }
            }
          ],
          "new": false
        },
        {
          "id": "2821757e-b7a6-4a43-91b7-63cd2cb08a94",
          "items": [
            {
              "id": "2fc1c7d9-b7f3-4388-a404-2afc7c79ad1e",
              "itemType": 3,
              "content": "Other Metadata"
            },
            {
              "id": "5309636b-dbeb-4b8f-a488-7bd675d99c60",
              "itemType": 4,
              "content": "In the table below, enter values to write to all assets migrated from Getty.  Select the Webdam metadata on the left, and type the desired value on the right.  Each asset will be updated with the values entered here."
            },
            {
              "id": "3fe3653c-4708-4aab-84fd-950d3005d1a7",
              "itemType": "SPACER",
              "unit": "%",
              "height": 2
            },
            {
              "id": "fa7c7255-7d8a-471f-a76a-8a3d2c80ec69",
              "itemType": 1,
              "new": false,
              "slot": {
                "id": "9b56bd2c-46f2-4c83-b0ef-bb3825095cde",
                "key": "dataMapInput",
                "title": "dataMapInput",
                "description": "",
                "externalId": "external_datamapinput",
                "hidden": false,
                "type": "object",
                "defaultValue": {},
                "required": false,
                "useDefaultValue": false,
                "static": false,
                "usage": [
                  {
                    "workflowId": "e7aa88b4-7a17-4bf0-af00-63ecc4401e19",
                    "versionId": "946d54ae-bb83-44e2-a113-051b92e3c9bd",
                    "steps": [
                      {
                        "stepName": "script-1",
                        "connector": {
                          "name": "script",
                          "version": "3.3"
                        },
                        "operation": "execute",
                        "properties": [
                          {
                            "path": "variables[2].value",
                            "value": {
                              "type": "jsonpath",
                              "value": "$.config.dataMapInput"
                            }
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              "dataMapping": {
                "serviceA": {
                  "type": "CONFIG_SLOT_VALUE",
                  "title": "Webdam Field",
                  "configSlotId": "652531d7-4f12-440b-a0f6-189ef50c8473",
                  "allowSettingCustomValue": false
                },
                "serviceB": {
                  "type": "HARD_CODED_LIST",
                  "fields": [
                    {
                      "value": " ",
                      "name": " "
                    }
                  ],
                  "allowSettingCustomValue": true,
                  "title": "Value"
                },
                "defaultMappings": {
                  "mappings": [
                    {
                      "id": "78ff0957-2fa2-480d-844c-c2624db07b51"
                    }
                  ]
                },
                "type": "ONE_TO_ONE",
                "newAdditionsDisabled": false
              }
            },
            {
              "id": "d93dc306-171d-4dd6-b47e-511619b2b2c6",
              "itemType": 1,
              "new": false,
              "slot": {
                "id": "652531d7-4f12-440b-a0f6-189ef50c8473",
                "key": "staticMapInput",
                "title": "staticMapInput",
                "description": "",
                "externalId": "external_staticmapinput",
                "hidden": false,
                "type": "array",
                "defaultValue": [],
                "required": true,
                "useDefaultValue": false,
                "static": false,
                "usage": [
                  {
                    "workflowId": "e7aa88b4-7a17-4bf0-af00-63ecc4401e19",
                    "versionId": "946d54ae-bb83-44e2-a113-051b92e3c9bd",
                    "steps": [
                      {
                        "stepName": "script-1",
                        "connector": {
                          "name": "script",
                          "version": "3.3"
                        },
                        "operation": "execute",
                        "properties": [
                          {
                            "path": "variables[1].value",
                            "value": {
                              "type": "jsonpath",
                              "value": "$.config.staticMapInput"
                            }
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              "customScript": {
                "version": 1,
                "srcCode": "tray.on('CONFIG_SLOT_MOUNT', async ({ event, previousWizardState }) => {\n\n\tif (event.data.externalId !== tray.env.slotExternalId) return;\n  \n\t// use the Webdam connector to call the Webdam XMP metadata\n\tconst response = await tray.callConnector({\n\t\tconnector: \"webdam\",\n\t\tversion: \"1.0\",\n\t\toperation: \"list_xmp_metadata_schemas\",\n\t\tauthId: previousWizardState.values.external_webdam_authentication,\n\t\tinput: {}\n\t})\n\n\t// parse response into a proper object\n\tconst metapropArray = JSON.parse(response)\n\tfor (let i = 0; i < metapropArray.xmpschema.length; i++) {\n\t\tif (metapropArray.xmpschema[i].status === 'inactive' || metapropArray.xmpschema[i].field === 'KEYWORD') {\n\t\t\tmetapropArray.xmpschema.splice(i, 1)\n\t\t\ti--\n\t\t}\n\t}\n\t// convert that object to only what's needed.  Map the label and id only.  \n\tconst properties = Object.entries(metapropArray.xmpschema).map((x) => {\n\t\treturn {\n\t\t\tname: metapropArray.xmpschema[x[0]].label,\n\t\t\tvalue: metapropArray.xmpschema[x[0]].field\n\t\t}\n\t});\n\n\treturn {\n\t\t...event.data,\n\t\t// hide the slot from view in the wizard\n\t\tstatus: 'HIDDEN',\n\t\t// output the list of fields to pick from in the data mapping component\n\t\tvalue: properties.map(({ name, value }) => ({ text: name, value: value }))\n\t};\n\n});",
                "environmentVariables": {
                  "type": "object",
                  "value": {
                    "env": {
                      "type": "object",
                      "value": {
                        "slotExternalId": {
                          "type": "string",
                          "value": "external_staticmapinput"
                        }
                      }
                    }
                  }
                }
              }
            }
          ],
          "new": false
        },
        {
          "id": "96bee524-0b6b-45c0-a925-4b687c6bdaeb",
          "items": [
            {
              "id": "60c5dd3e-d543-4fba-800c-16eca1d595ca",
              "itemType": 3,
              "content": "Configuration Complete"
            },
            {
              "id": "79e97959-3f48-430c-919d-cace6d6e337c",
              "itemType": 4,
              "content": "The configuration for the Webdam - Getty connector is complete.  Click the \"Finish\" button below to initiate the connection.  Assets will begin transfer immediately.  Every two hours, the connector will check for new assets and transfer those.  "
            },
            {
              "id": "bc5dd377-87e5-4367-a425-d814588ae5b9",
              "itemType": 4,
              "content": "You can return to this configuration under \"Active Integrations\" and make changes at any time.  If you wish to pause synchronization, select the option to disable this connection in the integrations hub.  If you delete this connection, all sync history will also be deleted.  Adding a new connection may create duplicate assets.  "
            },
            {
              "id": "c9d6d729-16f0-4028-bc25-23d2ac48404b",
              "itemType": 4,
              "content": "If you are not ready to begin transferring assets, you can close this window and your configuration will be saved.  Return to it under your active integrations to enable the connector.  "
            },
            {
              "id": "15d6e203-fabd-43a4-8dfe-654b35688ecf",
              "itemType": "SPACER",
              "unit": "%",
              "height": 15
            }
          ],
          "new": false,
          "hidden": false,
          "persist": false
        }
      ]
    },
    "auth_slots": [
      {
        "id": "a54402b4-e5fd-49e9-8e07-6ea80fc5ba5c",
        "auth_group": "84d563f1-ec10-441a-a077-3571c2e2af0e",
        "service_id": "8233b27f-52ea-4083-a073-4f07ebaf9a4f",
        "auth_app_id": "8c5f664d-f02b-429d-b125-ea1b03b943f7",
        "title": "Webdam authentication",
        "description": "",
        "external_id": "external_webdam_authentication",
        "hidden": false,
        "use_existing": false,
        "static": false,
        "scopes": [],
        "usage": [
          {
            "workflow_id": "93b58877-77ca-4d2d-96d7-aab9ffd29940",
            "version_id": "246fb6d4-22dd-4e51-a5c4-a8728e53e648",
            "steps": [
              {
                "step_name": "webdam-9",
                "connector": {
                  "name": "webdam",
                  "version": "1.2"
                },
                "operation": "raw_http_request",
                "auth_group": "84d563f1-ec10-441a-a077-3571c2e2af0e",
                "properties": []
              },
              {
                "step_name": "webdam-3",
                "connector": {
                  "name": "webdam",
                  "version": "1.2"
                },
                "operation": "raw_http_request",
                "auth_group": "84d563f1-ec10-441a-a077-3571c2e2af0e",
                "properties": []
              },
              {
                "step_name": "webdam-2",
                "connector": {
                  "name": "webdam",
                  "version": "1.2"
                },
                "operation": "raw_http_request",
                "auth_group": "84d563f1-ec10-441a-a077-3571c2e2af0e",
                "properties": []
              },
              {
                "step_name": "webdam-6",
                "connector": {
                  "name": "webdam",
                  "version": "1.2"
                },
                "operation": "raw_http_request",
                "auth_group": "84d563f1-ec10-441a-a077-3571c2e2af0e",
                "properties": []
              },
              {
                "step_name": "webdam-5",
                "connector": {
                  "name": "webdam",
                  "version": "1.2"
                },
                "operation": "raw_http_request",
                "auth_group": "84d563f1-ec10-441a-a077-3571c2e2af0e",
                "properties": []
              },
              {
                "step_name": "webdam-1",
                "connector": {
                  "name": "webdam",
                  "version": "1.2"
                },
                "operation": "raw_http_request",
                "auth_group": "84d563f1-ec10-441a-a077-3571c2e2af0e",
                "properties": []
              },
              {
                "step_name": "webdam-8",
                "connector": {
                  "name": "webdam",
                  "version": "1.2"
                },
                "operation": "raw_http_request",
                "auth_group": "84d563f1-ec10-441a-a077-3571c2e2af0e",
                "properties": []
              },
              {
                "step_name": "webdam-7",
                "connector": {
                  "name": "webdam",
                  "version": "1.2"
                },
                "operation": "raw_http_request",
                "auth_group": "84d563f1-ec10-441a-a077-3571c2e2af0e",
                "properties": []
              },
              {
                "step_name": "webdam-4",
                "connector": {
                  "name": "webdam",
                  "version": "1.2"
                },
                "operation": "raw_http_request",
                "auth_group": "84d563f1-ec10-441a-a077-3571c2e2af0e",
                "properties": []
              }
            ]
          },
          {
            "workflow_id": "e7aa88b4-7a17-4bf0-af00-63ecc4401e19",
            "version_id": "946d54ae-bb83-44e2-a113-051b92e3c9bd",
            "steps": [
              {
                "step_name": "webdam-2",
                "connector": {
                  "name": "webdam",
                  "version": "1.2"
                },
                "operation": "create_folder",
                "auth_group": "84d563f1-ec10-441a-a077-3571c2e2af0e",
                "properties": []
              },
              {
                "step_name": "webdam-1",
                "connector": {
                  "name": "webdam",
                  "version": "1.2"
                },
                "operation": "get_folder",
                "auth_group": "84d563f1-ec10-441a-a077-3571c2e2af0e",
                "properties": []
              }
            ]
          }
        ]
      },
      {
        "id": "132a43e4-3415-46ec-ad18-68fae2621a42",
        "auth_group": "697b24cc-2ca7-4478-aba9-b246f13dcd74",
        "service_id": "7ba76231-9c62-4dea-b38a-d804e5c728f0",
        "auth_app_id": "b47e0327-2e1c-4798-89a2-a980bd23ddbe",
        "title": "Getty authentication",
        "description": "",
        "external_id": "external_getty_authentication",
        "hidden": false,
        "use_existing": false,
        "static": false,
        "scopes": [],
        "usage": [
          {
            "workflow_id": "e7aa88b4-7a17-4bf0-af00-63ecc4401e19",
            "version_id": "946d54ae-bb83-44e2-a113-051b92e3c9bd",
            "steps": [
              {
                "step_name": "getty-2",
                "connector": {
                  "name": "getty",
                  "version": "2.0"
                },
                "operation": "raw_http_request",
                "auth_group": "697b24cc-2ca7-4478-aba9-b246f13dcd74",
                "properties": []
              },
              {
                "step_name": "getty-5",
                "connector": {
                  "name": "getty",
                  "version": "2.0"
                },
                "operation": "raw_http_request",
                "auth_group": "697b24cc-2ca7-4478-aba9-b246f13dcd74",
                "properties": []
              },
              {
                "step_name": "getty-1",
                "connector": {
                  "name": "getty",
                  "version": "2.0"
                },
                "operation": "raw_http_request",
                "auth_group": "697b24cc-2ca7-4478-aba9-b246f13dcd74",
                "properties": []
              },
              {
                "step_name": "getty-3",
                "connector": {
                  "name": "getty",
                  "version": "2.0"
                },
                "operation": "raw_http_request",
                "auth_group": "697b24cc-2ca7-4478-aba9-b246f13dcd74",
                "properties": []
              },
              {
                "step_name": "getty-4",
                "connector": {
                  "name": "getty",
                  "version": "2.0"
                },
                "operation": "raw_http_request",
                "auth_group": "697b24cc-2ca7-4478-aba9-b246f13dcd74",
                "properties": []
              }
            ]
          },
          {
            "workflow_id": "33ade10c-1fba-46c1-9e2f-dea9a64ea11e",
            "version_id": "794ee7e8-063a-4271-a0ad-f7d3a100e477",
            "steps": [
              {
                "step_name": "getty-1",
                "connector": {
                  "name": "getty",
                  "version": "2.0"
                },
                "operation": "raw_http_request",
                "auth_group": "697b24cc-2ca7-4478-aba9-b246f13dcd74",
                "properties": []
              },
              {
                "step_name": "getty-4",
                "connector": {
                  "name": "getty",
                  "version": "2.0"
                },
                "operation": "raw_http_request",
                "auth_group": "697b24cc-2ca7-4478-aba9-b246f13dcd74",
                "properties": []
              },
              {
                "step_name": "getty-2",
                "connector": {
                  "name": "getty",
                  "version": "2.0"
                },
                "operation": "raw_http_request",
                "auth_group": "697b24cc-2ca7-4478-aba9-b246f13dcd74",
                "properties": []
              }
            ]
          }
        ]
      }
    ],
    "config_slots": [
      {
        "id": "0439a75f-b82a-4c0d-9c56-15cbecf3ec74",
        "key": "orgDownloads",
        "title": "Sync Organization Assets?",
        "description": "",
        "external_id": "external_orgdownloads",
        "hidden": false,
        "type": "string",
        "default_value": "true",
        "required": true,
        "use_default_value": false,
        "static": false,
        "auth_slot_id": "132a43e4-3415-46ec-ad18-68fae2621a42",
        "usage": [
          {
            "workflow_id": "33ade10c-1fba-46c1-9e2f-dea9a64ea11e",
            "version_id": "794ee7e8-063a-4271-a0ad-f7d3a100e477",
            "steps": [
              {
                "step_name": "getty-4",
                "connector": {
                  "name": "getty",
                  "version": "2.0"
                },
                "operation": "raw_http_request",
                "auth_group": "697b24cc-2ca7-4478-aba9-b246f13dcd74",
                "properties": [
                  {
                    "path": "query_parameters[0].value",
                    "value": {
                      "type": "jsonpath",
                      "value": "$.config.orgDownloads"
                    }
                  }
                ]
              }
            ]
          }
        ]
      },
      {
        "id": "7de50908-0821-4587-81c9-b721733d85c2",
        "key": "dateFrom",
        "title": "Sync assets after",
        "description": "",
        "external_id": "external_datefrom",
        "hidden": false,
        "type": "string",
        "default_value": "2019-01-01",
        "required": false,
        "use_default_value": false,
        "static": false,
        "usage": [
          {
            "workflow_id": "e7aa88b4-7a17-4bf0-af00-63ecc4401e19",
            "version_id": "946d54ae-bb83-44e2-a113-051b92e3c9bd",
            "steps": [
              {
                "step_name": "date-time-helpers-2",
                "connector": {
                  "name": "date-time-helpers",
                  "version": "3.0"
                },
                "operation": "compare_dates",
                "properties": [
                  {
                    "path": "date_b",
                    "value": {
                      "type": "jsonpath",
                      "value": "$.config.dateFrom",
                      "fallback": {
                        "type": "string",
                        "value": "2001-01-01"
                      }
                    }
                  }
                ]
              },
              {
                "step_name": "storage-6",
                "connector": {
                  "name": "storage",
                  "version": "1.4"
                },
                "operation": "set",
                "properties": [
                  {
                    "path": "value",
                    "value": {
                      "type": "jsonpath",
                      "value": "$.config.dateFrom"
                    }
                  }
                ]
              }
            ]
          }
        ]
      },
      {
        "id": "9b56bd2c-46f2-4c83-b0ef-bb3825095cde",
        "key": "dataMapInput",
        "title": "dataMapInput",
        "description": "",
        "external_id": "external_datamapinput",
        "hidden": false,
        "type": "object",
        "default_value": {},
        "required": false,
        "use_default_value": false,
        "static": false,
        "usage": [
          {
            "workflow_id": "e7aa88b4-7a17-4bf0-af00-63ecc4401e19",
            "version_id": "946d54ae-bb83-44e2-a113-051b92e3c9bd",
            "steps": [
              {
                "step_name": "script-1",
                "connector": {
                  "name": "script",
                  "version": "3.3"
                },
                "operation": "execute",
                "properties": [
                  {
                    "path": "variables[2].value",
                    "value": {
                      "type": "jsonpath",
                      "value": "$.config.dataMapInput"
                    }
                  }
                ]
              }
            ]
          }
        ]
      },
      {
        "id": "3522896b-3108-4e98-8b06-677f8c1e77c1",
        "key": "uploadDelay",
        "title": "uploadDelay",
        "description": "",
        "external_id": "external_uploaddelay",
        "hidden": true,
        "type": "number",
        "default_value": 10,
        "required": true,
        "use_default_value": true,
        "static": true,
        "usage": [
          {
            "workflow_id": "33ade10c-1fba-46c1-9e2f-dea9a64ea11e",
            "version_id": "794ee7e8-063a-4271-a0ad-f7d3a100e477",
            "steps": [
              {
                "step_name": "delay-2",
                "connector": {
                  "name": "delay",
                  "version": "1.0"
                },
                "operation": "delay",
                "properties": [
                  {
                    "path": "delay_value",
                    "value": {
                      "type": "jsonpath",
                      "value": "$.config.uploadDelay"
                    }
                  }
                ]
              }
            ]
          }
        ]
      },
      {
        "id": "e1bcb085-e6af-408d-b1f3-fd13630fe605",
        "key": "metadataMap",
        "title": "metadataMap",
        "description": "",
        "external_id": "external_metadatamap",
        "hidden": false,
        "type": "array",
        "default_value": [],
        "required": false,
        "use_default_value": false,
        "static": false,
        "usage": [
          {
            "workflow_id": "e7aa88b4-7a17-4bf0-af00-63ecc4401e19",
            "version_id": "946d54ae-bb83-44e2-a113-051b92e3c9bd",
            "steps": [
              {
                "step_name": "script-1",
                "connector": {
                  "name": "script",
                  "version": "3.3"
                },
                "operation": "execute",
                "properties": [
                  {
                    "path": "variables[0].value",
                    "value": {
                      "type": "jsonpath",
                      "value": "$.config.metadataMap"
                    }
                  }
                ]
              }
            ]
          }
        ]
      },
      {
        "id": "8099f019-c3b9-42a2-965d-26d430775286",
        "key": "uploadFolder",
        "title": "Upload Folder",
        "description": "",
        "external_id": "external_uploadfolder",
        "hidden": false,
        "type": "number",
        "default_value": 0,
        "required": true,
        "use_default_value": false,
        "static": false,
        "usage": [
          {
            "workflow_id": "e7aa88b4-7a17-4bf0-af00-63ecc4401e19",
            "version_id": "946d54ae-bb83-44e2-a113-051b92e3c9bd",
            "steps": [
              {
                "step_name": "storage-2",
                "connector": {
                  "name": "storage",
                  "version": "1.4"
                },
                "operation": "set",
                "properties": [
                  {
                    "path": "value.uploadFolder",
                    "value": {
                      "type": "jsonpath",
                      "value": "$.config.uploadFolder"
                    }
                  }
                ]
              }
            ]
          }
        ]
      },
      {
        "id": "652531d7-4f12-440b-a0f6-189ef50c8473",
        "key": "staticMapInput",
        "title": "staticMapInput",
        "description": "",
        "external_id": "external_staticmapinput",
        "hidden": false,
        "type": "array",
        "default_value": [],
        "required": true,
        "use_default_value": false,
        "static": false,
        "usage": [
          {
            "workflow_id": "e7aa88b4-7a17-4bf0-af00-63ecc4401e19",
            "version_id": "946d54ae-bb83-44e2-a113-051b92e3c9bd",
            "steps": [
              {
                "step_name": "script-1",
                "connector": {
                  "name": "script",
                  "version": "3.3"
                },
                "operation": "execute",
                "properties": [
                  {
                    "path": "variables[1].value",
                    "value": {
                      "type": "jsonpath",
                      "value": "$.config.staticMapInput"
                    }
                  }
                ]
              }
            ]
          }
        ]
      },
      {
        "id": "1da099c2-5589-44b3-88a9-7abaf4a44f15",
        "key": "chunkLength",
        "title": "chunkLength",
        "description": "",
        "external_id": "external_chunklength",
        "hidden": true,
        "type": "number",
        "default_value": 10,
        "required": true,
        "use_default_value": true,
        "static": true,
        "usage": [
          {
            "workflow_id": "93b58877-77ca-4d2d-96d7-aab9ffd29940",
            "version_id": "246fb6d4-22dd-4e51-a5c4-a8728e53e648",
            "steps": [
              {
                "step_name": "script-1",
                "connector": {
                  "name": "script",
                  "version": "3.3"
                },
                "operation": "execute",
                "properties": [
                  {
                    "path": "variables[3].value",
                    "value": {
                      "type": "jsonpath",
                      "value": "$.config.chunkLength"
                    }
                  }
                ]
              },
              {
                "step_name": "script-2",
                "connector": {
                  "name": "script",
                  "version": "3.3"
                },
                "operation": "execute",
                "properties": [
                  {
                    "path": "variables[2].value",
                    "value": {
                      "type": "jsonpath",
                      "value": "$.config.chunkLength"
                    }
                  }
                ]
              }
            ]
          }
        ]
      },
      {
        "id": "07c1f104-adb6-4d80-9e9d-0b7ce01121f6",
        "key": "uploadLimiter",
        "title": "uploadLimiter",
        "description": "",
        "external_id": "external_uploadlimiter",
        "hidden": true,
        "type": "number",
        "default_value": 12,
        "required": true,
        "use_default_value": true,
        "static": true,
        "usage": [
          {
            "workflow_id": "33ade10c-1fba-46c1-9e2f-dea9a64ea11e",
            "version_id": "794ee7e8-063a-4271-a0ad-f7d3a100e477",
            "steps": [
              {
                "step_name": "boolean-condition-6",
                "connector": {
                  "name": "boolean-condition",
                  "version": "2.3"
                },
                "operation": "boolean_condition",
                "properties": [
                  {
                    "path": "conditions[0].value2",
                    "value": {
                      "type": "jsonpath",
                      "value": "$.config.uploadLimiter"
                    }
                  }
                ]
              },
              {
                "step_name": "boolean-condition-7",
                "connector": {
                  "name": "boolean-condition",
                  "version": "2.3"
                },
                "operation": "boolean_condition",
                "properties": [
                  {
                    "path": "conditions[0].value2",
                    "value": {
                      "type": "jsonpath",
                      "value": "$.config.uploadLimiter"
                    }
                  }
                ]
              }
            ]
          }
        ]
      },
      {
        "id": "929d2239-7a36-4d58-82b1-38b7caa1b7e8",
        "key": "chunkSize",
        "title": "chunkSize",
        "description": "",
        "external_id": "external_chunksize",
        "hidden": true,
        "type": "number",
        "default_value": 67108864,
        "required": true,
        "use_default_value": true,
        "static": true,
        "usage": [
          {
            "workflow_id": "93b58877-77ca-4d2d-96d7-aab9ffd29940",
            "version_id": "246fb6d4-22dd-4e51-a5c4-a8728e53e648",
            "steps": [
              {
                "step_name": "file-helpers-3",
                "connector": {
                  "name": "file-helpers",
                  "version": "2.6"
                },
                "operation": "create_byte_ranges_list",
                "properties": [
                  {
                    "path": "chunk_size",
                    "value": {
                      "type": "jsonpath",
                      "value": "$.config.chunkSize"
                    }
                  }
                ]
              },
              {
                "step_name": "boolean-condition-3",
                "connector": {
                  "name": "boolean-condition",
                  "version": "2.3"
                },
                "operation": "boolean_condition",
                "properties": [
                  {
                    "path": "conditions[0].value2",
                    "value": {
                      "type": "jsonpath",
                      "value": "$.config.chunkSize"
                    }
                  }
                ]
              },
              {
                "step_name": "script-1",
                "connector": {
                  "name": "script",
                  "version": "3.3"
                },
                "operation": "execute",
                "properties": [
                  {
                    "path": "variables[2].value",
                    "value": {
                      "type": "jsonpath",
                      "value": "$.config.chunkSize"
                    }
                  }
                ]
              }
            ]
          }
        ]
      },
      {
        "id": "418b0cc5-6d13-4015-bd01-22ffd22889ad",
        "key": "syncVideo",
        "title": "Include Video?",
        "description": "",
        "external_id": "external_syncvideo",
        "hidden": false,
        "type": "boolean",
        "default_value": true,
        "required": true,
        "use_default_value": false,
        "static": false,
        "usage": [
          {
            "workflow_id": "33ade10c-1fba-46c1-9e2f-dea9a64ea11e",
            "version_id": "794ee7e8-063a-4271-a0ad-f7d3a100e477",
            "steps": [
              {
                "step_name": "logic-helpers-1",
                "connector": {
                  "name": "logic-helpers",
                  "version": "2.1"
                },
                "operation": "evaluation",
                "properties": [
                  {
                    "path": "further_groups[0].further_conditions[0].value1",
                    "value": {
                      "type": "jsonpath",
                      "value": "$.config.syncVideo"
                    }
                  }
                ]
              }
            ]
          }
        ]
      }
    ]
  }
}